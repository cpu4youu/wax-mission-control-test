import{s as n,e as h,l as j,Q as y,R as c,_ as o,r as d,j as e}from"./index-842551e9.js";import{g as _}from"./emporium-tasks-f22fc915.js";import{a as b}from"./index.esm-07df1486.js";import{u as w,L as T}from"./index-0c5a6650.js";import"./iconBase-289d8c25.js";const v=n("div",{d:"flex",align:"center",justify:"center",direction:"column",w:"100%"}),S=n("div",{d:"flex",align:"center",justify:"center",direction:"column",position:"relative",h:"165px",w:"100%",zIndex:1,img:{zIndex:-1,position:"absolute",h:"165px",w:"100%",objectFit:"cover",inset:0},"@md":{h:"105px",img:{h:"105px"}},"@sm":{h:"65px",img:{h:"65px"}}}),L=n("h2",{d:"flex",align:"center",justify:"center",color:"$white500",fs:"40px",ff:"$heading",textShadow:"0px 4px 4px rgba(0, 0, 0, 0.8)",w:"100%","@sm":{fs:"24px"}}),$=n("div",{d:"flex",align:"center",justify:"center",direction:"column",w:"100%",maxW:"1095px","@md":{px:"30px"},"@sm":{px:"15px"}}),E=n("div",{d:"flex",align:"flex-start",justify:"center",direction:"column",gap:"10px",w:"100%",mt:"48px"}),m=n("h3",{d:"flex",align:"flex-start",justify:"flex-start",direction:"column",w:"100%",color:"$white500",fs:"32px","@sm":{fs:"24px"}}),A=n("div",{d:"flex",align:"center",justify:"center",direction:"column",mt:"18px",w:"100%"}),P=n("div",{d:"grid",gridTemplateColumns:"1fr 1fr 2fr 1fr 1fr",gap:"10px",w:"100%",h:"33px",mb:"5px",padding:"5px 0px 5px 10px",bg:"rgba(0,0,0,0.27)",span:{color:"#797979",ff:"$heading",fs:"18px",fw:"$bold"},"@sm":{gridTemplateColumns:"1fr 1fr 1fr 1fr 1fr",gap:"5px",span:{textAlign:"center",fs:"13px"}}}),D=n("div",{d:"grid",gap:"5px",w:"100%","@sm":{gap:"5px"}}),R=n("div",{d:"flex",w:"100%",mt:"20px",h3:{align:"center"},"@sm":{gap:"5px"}}),z=n("div",{d:"grid",gridTemplateColumns:"1fr 1fr 2fr 1fr 1fr",position:"relative",gap:"10px",w:"100%",h:"55px",pl:"10px",bg:"rgba(0,0,0,0.27)",img:{w:"100px",h:"55px",objectFit:"contain"},span:{d:"flex",align:"center",gap:"5px","&:nth-child(3)":{justify:"center",gap:"10px"},color:"#797979",ff:"$heading",fs:"16px",fw:"$bold"},p:{d:"flex",w:"100%",color:"#797979",ff:"$heading",fs:"16px",fw:"$bold"},svg:{verticalAlign:"sub"},"@sm":{gridTemplateColumns:"1fr 1fr 1fr 1fr 1fr",gap:"5px",img:{w:"55px",h:"55px"},svg:{w:"15px",h:"15px"},span:{align:"center",justify:"center",fs:"12px",">p":{display:"none"}}}}),F=h({"0%":{backgroundPosition:"0% 0%"},"100%":{backgroundPosition:"-135% 0%"}}),I=n("div",{d:"flex",w:"100%",maxW:"260px",h:"325px",background:"linear-gradient( -90deg, rgba(255,255,255, .05), rgba(255,255,255, 0.07) ,rgba(255,255,255, .05))",br:"10px",backgroundSize:"400% 400%",animation:`${F} 1.2s ease-in-out infinite`,"@sm":{h:"215px",w:"100%"}}),V=()=>j({queryKey:[y.DesativeTasks],queryFn:()=>C(),staleTime:1e3*60*60});async function C(){try{const s=await _("completed","30",!0);return s?s.map(t=>{const i=M(new Date(t.timestamp_closed));return{...t,timeLeft:i,timeLeftFormatted:W(i)}}):[]}catch(s){return console.log(s),[]}}const M=s=>{const t=+new Date(new Date().toUTCString().substring(0,25))-+s;let i={days:0,hours:0,minutes:0,seconds:0};return t>0&&(i={days:Math.floor(t/(1e3*60*60)/24),hours:Math.floor(t/(1e3*60*60)%24),minutes:Math.floor(t/1e3/60%60),seconds:Math.floor(t/1e3%60)}),{...i,difference:t}},W=s=>{if(s){const a=s.days?`${s.days}d`:"",t=s.hours>0?`${s.hours>9?`${s.hours}h`:`0${s.hours}h`}`:"";return`${a}${t}${s.minutes}m`}return"less than 1 min"},u=c.lazy(()=>o(()=>import("./tlm-0f9c9f55.js"),["assets/tlm-0f9c9f55.js","assets/index-842551e9.js","assets/index-55fec1ff.css"])),H=c.lazy(()=>o(()=>import("./star-490cc7c9.js"),["assets/star-490cc7c9.js","assets/index-842551e9.js","assets/index-55fec1ff.css"])),O=c.lazy(()=>o(()=>import("./atom-3e8883f0.js"),["assets/atom-3e8883f0.js","assets/index-842551e9.js","assets/index-55fec1ff.css"])),Q=c.lazy(()=>o(()=>import("./quest-5c70933b.js"),["assets/quest-5c70933b.js","assets/index-842551e9.js","assets/index-55fec1ff.css"])),Y=()=>{var l;const{data:s,isLoading:a}=V(),t=w(r=>r.onChangePage),i=d.useCallback(()=>{t("main")},[]),g=d.useCallback(r=>{switch(r){case"qp":return e.jsx(Q,{});case"mcp":return e.jsx(H,{});case"tlm":return e.jsx(u,{});default:return e.jsx(u,{})}},[]);return e.jsx(d.Suspense,{fallback:e.jsx(T,{}),children:e.jsxs(v,{children:[e.jsxs(S,{children:[e.jsx(L,{children:"Zapp’s Zap Emporium"}),e.jsx("img",{src:"/assets/background/bg-emporium.webp",alt:""})]}),e.jsxs($,{children:[e.jsxs(E,{children:[e.jsx(b,{size:30,color:"#fff",onClick:i,style:{cursor:"pointer"}}),e.jsx(m,{children:"ZAPP’S TASK HISTORY"})]}),e.jsxs(A,{children:[e.jsxs(P,{children:[e.jsx("span",{children:"Elapsed"}),e.jsx("span",{children:"Wallet"}),e.jsx("span",{children:"Task"}),e.jsx("span",{children:"Shards"}),e.jsx("span",{children:"Support"})]}),e.jsx(D,{children:a?Array.from({length:8}).map((r,p)=>e.jsx(I,{},p)):(s==null?void 0:s.length)===0?e.jsx(R,{children:e.jsx(m,{children:"No task history founded"})}):(l=s==null?void 0:s.sort((r,p)=>{var x,f;return(((x=r.timeLeft)==null?void 0:x.difference)??0)-(((f=p.timeLeft)==null?void 0:f.difference)??0)}))==null?void 0:l.map(r=>e.jsxs(z,{children:[e.jsx("span",{children:r==null?void 0:r.timeLeftFormatted}),e.jsx("span",{children:r==null?void 0:r.user}),e.jsxs("span",{children:[e.jsx("img",{src:`/assets/tasks/${r.image}.jpeg`,alt:r.title,title:r.title}),e.jsx("p",{children:r.title})]}),e.jsxs("span",{children:[r.shards/10," ",e.jsx(O,{color:"rgb(246, 168, 0)"})]}),e.jsxs("span",{children:[(r.task_type==="tlm"?Math.ceil(r.currency_end/1e4):r.currency_end).toLocaleString("en-US"),g(r.task_type)]})]},r.task_id))})]})]})]})})};export{Y as default};
