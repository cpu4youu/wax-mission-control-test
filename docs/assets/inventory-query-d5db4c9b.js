import{a as y,Q as d,b as l,al as m,q as f}from"./index-f3a46b7f.js";const E=(t,a,e)=>y({queryKey:[d.INVENTORY,t,a?"removeDuplicates":""],queryFn:()=>p(t,a,e),staleTime:1e3*60*60,enabled:!!l.getState().user});async function N(t){return await f.invalidateQueries([d.INVENTORY,t])}async function p(t,a,e){const{user:r}=l.getState();try{const{getAssets:n}=m,i={owner:r==null?void 0:r.name,limit:1e3,schema_name:t};let o=[],u=0;do u++,o=await n({...i,page:u});while(u*1e3===o.length);const c=h(o,e);return a?c:g(o)}catch(n){return console.log(n),null}}function g(t){return t.reduce((e,r)=>(e.find(i=>i.template.template_id===r.template.template_id)||e.push(r),e),[])}function h(t,a){return a?t.sort((e,r)=>s[e.data.rarity]-s[r.data.rarity]):t.sort((e,r)=>s[r.data.rarity]-s[e.data.rarity])}const s={Mythical:0,Legendary:1,Epic:2,Rare:3,Common:4,Abundant:5};export{N as o,E as u};
