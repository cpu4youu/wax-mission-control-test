import{s as t,e as T,a as _,Q as v,R as x,_ as f,f as c,j as s,m as L}from"./index-f3a46b7f.js";import{g as S}from"./emporium-tasks-2e4ba2ca.js";import{a as $}from"./index.esm-7d07d133.js";import{u as E,L as A}from"./index-44d0024d.js";import{A as P}from"./atom-14340c71.js";const w=t("div",{d:"flex",align:"center",justify:"center",direction:"column",w:"100%"}),D=t("div",{d:"flex",align:"center",justify:"center",direction:"column",position:"relative",h:"165px",w:"100%",zIndex:1,img:{zIndex:-1,position:"absolute",h:"165px",w:"100%",objectFit:"cover",inset:0},"@md":{h:"105px",img:{h:"105px"}},"@sm":{h:"65px",img:{h:"65px"}}}),F=t("h2",{d:"flex",align:"center",justify:"center",color:"$white500",fs:"40px",ff:"$heading",textShadow:"0px 4px 4px rgba(0, 0, 0, 0.8)",w:"100%","@sm":{fs:"24px"}}),R=t("div",{d:"flex",align:"center",justify:"center",direction:"column",w:"100%",maxW:"1095px","@md":{px:"30px"},"@sm":{px:"15px"}}),z=t("div",{d:"flex",align:"flex-start",justify:"center",direction:"column",gap:"10px",w:"100%",mt:"48px"}),m=t("h3",{d:"flex",align:"flex-start",justify:"flex-start",direction:"column",w:"100%",color:"$white500",fs:"32px","@sm":{fs:"24px"}}),I=t("div",{d:"flex",align:"center",justify:"center",direction:"column",mt:"18px",w:"100%"}),V=t("div",{d:"grid",gridTemplateColumns:"1fr 1fr 2fr 1fr 1fr",gap:"10px",w:"100%",h:"33px",mb:"5px",padding:"5px 0px 5px 10px",bg:"rgba(0,0,0,0.27)",span:{color:"#797979",ff:"$heading",fs:"18px",fw:"$bold"},"@sm":{gridTemplateColumns:"1fr 1fr 1fr 1fr 1fr",gap:"5px",span:{textAlign:"center",fs:"13px"}}}),M=t("div",{d:"grid",gap:"5px",w:"100%","@sm":{gap:"5px"}}),W=t("div",{d:"flex",w:"100%",mt:"20px",h3:{align:"center"},"@sm":{gap:"5px"}}),H=t("div",{d:"grid",gridTemplateColumns:"1fr 1fr 2fr 1fr 1fr",position:"relative",gap:"10px",w:"100%",h:"55px",pl:"10px",bg:"rgba(0,0,0,0.27)",img:{w:"100px",h:"55px",objectFit:"contain"},span:{d:"flex",align:"center",gap:"5px","&:nth-child(3)":{justify:"center",gap:"10px"},color:"#797979",ff:"$heading",fs:"16px",fw:"$bold"},p:{d:"flex",w:"100%",color:"#797979",ff:"$heading",fs:"16px",fw:"$bold"},svg:{verticalAlign:"sub",path:{fill:"rgb(246, 168, 0)"}},"@sm":{gridTemplateColumns:"1fr 1fr 1fr 1fr 1fr",gap:"5px",img:{w:"55px",h:"55px"},svg:{w:"15px",h:"15px"},span:{align:"center",justify:"center",fs:"12px",">p":{display:"none"}}}}),Q=T({"0%":{backgroundPosition:"0% 0%"},"100%":{backgroundPosition:"-135% 0%"}}),k=t("div",{d:"flex",w:"100%",maxW:"260px",h:"325px",background:"linear-gradient( -90deg, rgba(255,255,255, .05), rgba(255,255,255, 0.07) ,rgba(255,255,255, .05))",br:"10px",backgroundSize:"400% 400%",animation:`${Q} 1.2s ease-in-out infinite`,"@sm":{h:"215px",w:"100%"}}),G=()=>_({queryKey:[v.DesativeTasks],queryFn:()=>O(),staleTime:1e3*60*60});async function O(){try{const n=await S("completed");return n||[]}catch(n){return console.log(n),[]}}x.lazy(()=>f(()=>import("./shards-6282a5f1.js"),["assets/shards-6282a5f1.js","assets/index-f3a46b7f.js","assets/index-55fec1ff.css"]));const l=x.lazy(()=>f(()=>import("./tlm-2adc40af.js"),["assets/tlm-2adc40af.js","assets/index-f3a46b7f.js","assets/index-55fec1ff.css"])),q=x.lazy(()=>f(()=>import("./star-beac9eab.js"),["assets/star-beac9eab.js","assets/index-f3a46b7f.js","assets/index-55fec1ff.css"])),N=()=>{var d;const{data:n,isLoading:u}=G(),g=E(e=>e.onChangePage),[p,h]=c.useState([]),j=c.useCallback(()=>{g("main")},[]),o=c.useCallback(e=>{switch(e){case"qp":return s.jsx(L,{});case"mcp":return s.jsx(q,{});case"tlm":return s.jsx(l,{});default:return s.jsx(l,{})}},[]),y=e=>{const r=+new Date(new Date().toUTCString().substring(0,25))-+e;let a={days:0,hours:0,minutes:0,seconds:0};return r>0&&(a={days:Math.floor(r/(1e3*60*60)/24),hours:Math.floor(r/(1e3*60*60)%24),minutes:Math.floor(r/1e3/60%60),seconds:Math.floor(r/1e3%60)}),{...a,difference:r}},b=e=>{if(e&&(e!=null&&e.days)&&((e==null?void 0:e.days)>0||(e==null?void 0:e.hours)>0)){const i=e.days?`${e.days}d`:"",r=e.hours>0?`${e.hours>9?`${e.hours}h`:`0${e.hours}h`}`:"";return`${i}${r}`}return e&&e.minutes>0?`${e.minutes} min`:""};return c.useEffect(()=>{if(n){const e=n.map(i=>{const r=y(new Date(i.timestamp_closed));return{...i,timeLeft:r,timeLeftFormatted:b(r)}});h(e)}},[n]),s.jsx(c.Suspense,{fallback:s.jsx(A,{}),children:s.jsxs(w,{children:[s.jsxs(D,{children:[s.jsx(F,{children:"Zapp’s Zap Emporium"}),s.jsx("img",{src:"/assets/background/bg-emporium.webp",alt:""})]}),s.jsxs(R,{children:[s.jsxs(z,{children:[s.jsx($,{size:30,color:"#fff",onClick:j,style:{cursor:"pointer"}}),s.jsx(m,{children:"ZAPP’S TASK HISTORY"})]}),s.jsxs(I,{children:[s.jsxs(V,{children:[s.jsx("span",{children:"Time elapsed"}),s.jsx("span",{children:"Wallet"}),s.jsx("span",{children:"Task"}),s.jsx("span",{children:"Shards"}),s.jsx("span",{children:"Support"})]}),s.jsx(M,{children:u?Array.from({length:8}).map((e,i)=>s.jsx(k,{},i)):p.length===0?s.jsx(W,{children:s.jsx(m,{children:"No task history founded"})}):(d=p==null?void 0:p.sort((e,i)=>{var r,a;return(((r=e.timeLeft)==null?void 0:r.difference)??0)-(((a=i.timeLeft)==null?void 0:a.difference)??0)}))==null?void 0:d.map(e=>s.jsxs(H,{children:[s.jsxs("span",{children:["~ ",e==null?void 0:e.timeLeftFormatted]}),s.jsx("span",{children:e==null?void 0:e.user}),s.jsxs("span",{children:[s.jsx("img",{src:`/assets/tasks/${e.image}.jpeg`,alt:e.title,title:e.title}),s.jsx("p",{children:e.title})]}),s.jsxs("span",{children:[e.shards/10," ",s.jsx(P,{})]}),s.jsxs("span",{children:[(e.task_type==="tlm"?Math.ceil(e.currency_end/1e4):e.currency_end).toLocaleString("en-US"),o(e.task_type)]})]},e.task_id))})]})]})]})})};export{N as default};
