import{i,S as o,T as u,k as c,Q as s,b as r,q as l,l as d}from"./index-235b8d6e.js";import{a as m}from"./adapters-c5bc69bb.js";const f=async t=>{const e=await i({options:{code:o.M__FEDERATION,index_position:1,limit:"10",scope:o.M__FEDERATION,table:u.MINERS,lower_bound:t,upper_bound:t}});return(e==null?void 0:e[0])??null},A=()=>c({queryKey:[s.USER_MINER],queryFn:()=>p(),staleTime:1e3*60*20,enabled:!!r.getState().user});async function R(){return await l.invalidateQueries([s.USER_MINER])}async function p(){try{const t=r.getState().user;if(!t){d.error("User not found");return}const e=await f(t==null?void 0:t.name);if(!e){console.warn("Miner not found");return}return await y(e)}catch(t){console.log(t);return}}async function y(t){const{getAssetByAssetId:e}=m,{data:n}=await e(t.current_land),a=n.name.split(" on ");return{...n,...t,planetName:a[1]||"",landName:a[0]||""}}export{f as g,R as o,A as u};
