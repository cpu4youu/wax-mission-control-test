import{b as l,a as A,q as g,Q as d,al as S,S as q,u as _}from"./index-b608dbd2.js";const Q=()=>{const t=l.getState().user;return A({queryKey:[d.UserSettingsAssets],queryFn:()=>h(),staleTime:1e3*60*60,enabled:!!t})};async function R(){return await g.invalidateQueries(d.UserSettingsAssets)}async function h(){try{const{getAssets:t}=S,e=l.getState().user,n=e==null?void 0:e.usrsettings.filter(s=>s.key.includes("toolset")),a=e==null?void 0:e.usrsettings.filter(s=>s.key.includes("land")),r=n==null?void 0:n.flatMap(({value:s})=>s.split(",")),u=a==null?void 0:a.map(({value:s})=>s.split(","));if(!r||!u)return{favoriteTools:[],favoriteLands:[]};const m=await t({limit:100,ids:r.join(",")}),f=n==null?void 0:n.map(({value:s})=>s.split(",").map(c=>{const o=m.find(({asset_id:i})=>i===c);return{...o.data,assetId:o.asset_id}})),p=await t({limit:100,ids:u.join(",")}),T=a==null?void 0:a.map(({value:s})=>s.split(",").map(c=>{const o=p.find(({asset_id:y})=>y===c),i=o.data.name.split(" on ");return{...o.data,assetId:o.asset_id,planetName:i[1]||"",landName:i[0]||""}}));return{favoriteTools:f,favoriteLands:T}}catch(t){return console.log(t),{favoriteTools:[],favoriteLands:[]}}}async function U(t,e){const{executeTransaction:n}=_(),a=E(t,e);return!!await n(a)}function E(t,e){return{actions:[{account:q.M__FEDERATION,name:"setbag",authorization:[{actor:t.name,permission:t.requestPermission}],data:{account:t.name,items:e}}]}}export{U as e,R as o,Q as u};
