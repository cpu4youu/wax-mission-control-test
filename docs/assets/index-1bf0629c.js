import{h as n,aA as g,s as H,m as K,R as U,j as m}from"./index-4ab1f74a.js";import{c as S,$ as V,a as j,d as N,f as Y,n as q,h as W,g as X,e as y,i as z}from"./index-8925e4d3.js";import{$ as G,c as J,d as Q,a as Z,b as ee}from"./index-f3ba49aa.js";const te=n.forwardRef((e,o)=>n.createElement(S.span,g({},e,{ref:o,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}))),oe=te,[R,He]=V("Tooltip",[G]),O=G(),ne="TooltipProvider",re=700,D="tooltip.open",[ce,k]=R(ne),ae=e=>{const{__scopeTooltip:o,delayDuration:t=re,skipDelayDuration:r=300,disableHoverableContent:c=!1,children:a}=e,[i,u]=n.useState(!0),s=n.useRef(!1),p=n.useRef(0);return n.useEffect(()=>{const l=p.current;return()=>window.clearTimeout(l)},[]),n.createElement(ce,{scope:o,isOpenDelayed:i,delayDuration:t,onOpen:n.useCallback(()=>{window.clearTimeout(p.current),u(!1)},[]),onClose:n.useCallback(()=>{window.clearTimeout(p.current),p.current=window.setTimeout(()=>u(!0),r)},[r]),isPointerInTransitRef:s,onPointerInTransitChange:n.useCallback(l=>{s.current=l},[]),disableHoverableContent:c},a)},A="Tooltip",[se,P]=R(A),ie=e=>{const{__scopeTooltip:o,children:t,open:r,defaultOpen:c=!1,onOpenChange:a,disableHoverableContent:i,delayDuration:u}=e,s=k(A,e.__scopeTooltip),p=O(o),[l,d]=n.useState(null),x=W(),f=n.useRef(0),$=i??s.disableHoverableContent,h=u??s.delayDuration,b=n.useRef(!1),[T=!1,v]=X({prop:r,defaultProp:c,onChange:I=>{I?(s.onOpen(),document.dispatchEvent(new CustomEvent(D))):s.onClose(),a==null||a(I)}}),C=n.useMemo(()=>T?b.current?"delayed-open":"instant-open":"closed",[T]),E=n.useCallback(()=>{window.clearTimeout(f.current),b.current=!1,v(!0)},[v]),w=n.useCallback(()=>{window.clearTimeout(f.current),v(!1)},[v]),L=n.useCallback(()=>{window.clearTimeout(f.current),f.current=window.setTimeout(()=>{b.current=!0,v(!0)},h)},[h,v]);return n.useEffect(()=>()=>window.clearTimeout(f.current),[]),n.createElement(Z,p,n.createElement(se,{scope:o,contentId:x,open:T,stateAttribute:C,trigger:l,onTriggerChange:d,onTriggerEnter:n.useCallback(()=>{s.isOpenDelayed?L():E()},[s.isOpenDelayed,L,E]),onTriggerLeave:n.useCallback(()=>{$?w():window.clearTimeout(f.current)},[w,$]),onOpen:E,onClose:w,disableHoverableContent:$},t))},M="TooltipTrigger",le=n.forwardRef((e,o)=>{const{__scopeTooltip:t,...r}=e,c=P(M,t),a=k(M,t),i=O(t),u=n.useRef(null),s=N(o,u,c.onTriggerChange),p=n.useRef(!1),l=n.useRef(!1),d=n.useCallback(()=>p.current=!1,[]);return n.useEffect(()=>()=>document.removeEventListener("pointerup",d),[d]),n.createElement(ee,g({asChild:!0},i),n.createElement(S.button,g({"aria-describedby":c.open?c.contentId:void 0,"data-state":c.stateAttribute},r,{ref:s,onPointerMove:y(e.onPointerMove,x=>{x.pointerType!=="touch"&&!l.current&&!a.isPointerInTransitRef.current&&(c.onTriggerEnter(),l.current=!0)}),onPointerLeave:y(e.onPointerLeave,()=>{c.onTriggerLeave(),l.current=!1}),onPointerDown:y(e.onPointerDown,()=>{p.current=!0,document.addEventListener("pointerup",d,{once:!0})}),onFocus:y(e.onFocus,()=>{p.current||c.onOpen()}),onBlur:y(e.onBlur,c.onClose),onClick:y(e.onClick,c.onClose)})))}),F="TooltipPortal",[ue,pe]=R(F,{forceMount:void 0}),de=e=>{const{__scopeTooltip:o,forceMount:t,children:r,container:c}=e,a=P(F,o);return n.createElement(ue,{scope:o,forceMount:t},n.createElement(j,{present:t||a.open},n.createElement(z,{asChild:!0,container:c},r)))},_="TooltipContent",fe=n.forwardRef((e,o)=>{const t=pe(_,e.__scopeTooltip),{forceMount:r=t.forceMount,side:c="top",...a}=e,i=P(_,e.__scopeTooltip);return n.createElement(j,{present:r||i.open},i.disableHoverableContent?n.createElement(B,g({side:c},a,{ref:o})):n.createElement($e,g({side:c},a,{ref:o})))}),$e=n.forwardRef((e,o)=>{const t=P(_,e.__scopeTooltip),r=k(_,e.__scopeTooltip),c=n.useRef(null),a=N(o,c),[i,u]=n.useState(null),{trigger:s,onClose:p}=t,l=c.current,{onPointerInTransitChange:d}=r,x=n.useCallback(()=>{u(null),d(!1)},[d]),f=n.useCallback(($,h)=>{const b=$.currentTarget,T={x:$.clientX,y:$.clientY},v=Te(T,b.getBoundingClientRect()),C=ge(T,v),E=me(h.getBoundingClientRect()),w=Ce([...C,...E]);u(w),d(!0)},[d]);return n.useEffect(()=>()=>x(),[x]),n.useEffect(()=>{if(s&&l){const $=b=>f(b,l),h=b=>f(b,s);return s.addEventListener("pointerleave",$),l.addEventListener("pointerleave",h),()=>{s.removeEventListener("pointerleave",$),l.removeEventListener("pointerleave",h)}}},[s,l,f,x]),n.useEffect(()=>{if(i){const $=h=>{const b=h.target,T={x:h.clientX,y:h.clientY},v=(s==null?void 0:s.contains(b))||(l==null?void 0:l.contains(b)),C=!ye(T,i);v?x():C&&(x(),p())};return document.addEventListener("pointermove",$),()=>document.removeEventListener("pointermove",$)}},[s,l,i,p,x]),n.createElement(B,g({},e,{ref:a}))}),[xe,be]=R(A,{isInside:!1}),B=n.forwardRef((e,o)=>{const{__scopeTooltip:t,children:r,"aria-label":c,onEscapeKeyDown:a,onPointerDownOutside:i,...u}=e,s=P(_,t),p=O(t),{onClose:l}=s;return n.useEffect(()=>(document.addEventListener(D,l),()=>document.removeEventListener(D,l)),[l]),n.useEffect(()=>{if(s.trigger){const d=x=>{const f=x.target;f!=null&&f.contains(s.trigger)&&l()};return window.addEventListener("scroll",d,{capture:!0}),()=>window.removeEventListener("scroll",d,{capture:!0})}},[s.trigger,l]),n.createElement(Y,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:a,onPointerDownOutside:i,onFocusOutside:d=>d.preventDefault(),onDismiss:l},n.createElement(J,g({"data-state":s.stateAttribute},p,u,{ref:o,style:{...u.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"}}),n.createElement(q,null,r),n.createElement(xe,{scope:t,isInside:!0},n.createElement(oe,{id:s.contentId,role:"tooltip"},c||r))))}),he="TooltipArrow",ve=n.forwardRef((e,o)=>{const{__scopeTooltip:t,...r}=e,c=O(t);return be(he,t).isInside?null:n.createElement(Q,g({},c,r,{ref:o}))});function Te(e,o){const t=Math.abs(o.top-e.y),r=Math.abs(o.bottom-e.y),c=Math.abs(o.right-e.x),a=Math.abs(o.left-e.x);switch(Math.min(t,r,c,a)){case a:return"left";case c:return"right";case t:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function ge(e,o,t=5){const r=[];switch(o){case"top":r.push({x:e.x-t,y:e.y+t},{x:e.x+t,y:e.y+t});break;case"bottom":r.push({x:e.x-t,y:e.y-t},{x:e.x+t,y:e.y-t});break;case"left":r.push({x:e.x+t,y:e.y-t},{x:e.x+t,y:e.y+t});break;case"right":r.push({x:e.x-t,y:e.y-t},{x:e.x-t,y:e.y+t});break}return r}function me(e){const{top:o,right:t,bottom:r,left:c}=e;return[{x:c,y:o},{x:t,y:o},{x:t,y:r},{x:c,y:r}]}function ye(e,o){const{x:t,y:r}=e;let c=!1;for(let a=0,i=o.length-1;a<o.length;i=a++){const u=o[a].x,s=o[a].y,p=o[i].x,l=o[i].y;s>r!=l>r&&t<(p-u)*(r-s)/(l-s)+u&&(c=!c)}return c}function Ce(e){const o=e.slice();return o.sort((t,r)=>t.x<r.x?-1:t.x>r.x?1:t.y<r.y?-1:t.y>r.y?1:0),Ee(o)}function Ee(e){if(e.length<=1)return e.slice();const o=[];for(let r=0;r<e.length;r++){const c=e[r];for(;o.length>=2;){const a=o[o.length-1],i=o[o.length-2];if((a.x-i.x)*(c.y-i.y)>=(a.y-i.y)*(c.x-i.x))o.pop();else break}o.push(c)}o.pop();const t=[];for(let r=e.length-1;r>=0;r--){const c=e[r];for(;t.length>=2;){const a=t[t.length-1],i=t[t.length-2];if((a.x-i.x)*(c.y-i.y)>=(a.y-i.y)*(c.x-i.x))t.pop();else break}t.push(c)}return t.pop(),o.length===1&&t.length===1&&o[0].x===t[0].x&&o[0].y===t[0].y?o:o.concat(t)}const we=ae,_e=ie,Pe=le,Re=de,Oe=fe,De=ve,ke=H(Oe,{padding:"10px",br:"10px",border:"2px solid rgb(237, 237, 237)",background:"rgb(19, 19, 19)",color:"$white500",textShadow:"0px 5px 8px #000000",zIndex:19}),Ae=H(De,{fill:"$white500"}),Se=({children:e,text:o,side:t,disabled:r,...c})=>{const{isSmall:a}=K(),[i,u]=U.useState(!1);function s(p){if(r)return u(!1);u(p)}return m.jsx(we,{...c,children:m.jsxs(_e,{delayDuration:a?5:0,onOpenChange:s,open:i,children:[m.jsx(Pe,{onClick:p=>{!a&&p.preventDefault(),u(!0)},children:e}),m.jsx(Re,{children:m.jsxs(ke,{className:"TooltipContent",side:t,children:[m.jsx(Ae,{width:15,height:7}),o]})})]})})};export{Se as T};
