import{s,j as t,e as te,b as A,Y as h,a7 as ne,W as se,X as ae,a8 as ie,h as l,a9 as W,k as re,q as ce,Q as oe,Z as le,$ as xe,a0 as de,a5 as F,a1 as pe,a3 as fe,a2 as v,d as ue,a4 as me,B as P,aa as ge}from"./index-0d10b067.js";import{S as x}from"./styles-e58bba48.js";const he=s("div",{d:"flex",align:"center",justify:"center",position:"relative",direction:"column",h:"400px",nt:"25px",gap:"20px",".recomended":{w:"280px",h:"40px",mt:"50px",br:"$full"},".recomended-2":{w:"480px",h:"40px",br:"$full"}}),we=s("div",{d:"flex",align:"center",justify:"center",position:"relative",gap:"20px",".nfts":{w:"130px",h:"130px",br:"$full"}}),ye=()=>t.jsxs(he,{children:[t.jsxs(we,{children:[t.jsx(x,{className:"nfts"}),t.jsx(x,{className:"nfts"}),t.jsx(x,{className:"nfts"}),t.jsx(x,{className:"nfts"}),t.jsx(x,{className:"nfts"}),t.jsx(x,{className:"nfts"})]}),t.jsx(x,{className:"recomended"}),t.jsx(x,{className:"recomended-2"})]}),je=te({"0%":{transform:"rotate(360deg)"},"100%":{transform:" rotate(0deg)"}}),be=s("div",{d:"flex",align:"center",justify:"center",direction:"column",position:"relative",w:"100%",px:"40px","@sm":{px:"0px"}}),ve=s("div",{d:"flex",align:"center",justify:"center",mt:"10px",mb:"30px",">button":{d:"flex",align:"center",justify:"center",direction:"column",ml:"10px",mt:"10px",w:"45px",h:"45px",svg:{color:"$white500",ml:"20px",w:"40px",h:"40px"}},variants:{isLoading:{true:{svg:{animationName:`${je}`,animationDuration:"1s",animationTimingFunction:"ease",animationIterationCount:"infinite"}}}},"@sm":{gap:"15px",m:"0px",">button":{ml:"0px",svg:{w:"30px",h:"30px"}}}}),Te=s("div",{d:"flex",align:"center",justify:"center",gap:"15px",flexWrap:"wrap",w:"100%",maxW:"1300px",padding:"40px",background:"linear-gradient(90deg, rgba(3, 16, 32, 0.08) 0%, rgba(3, 16, 32, 0.46) 3.13%, rgba(3, 16, 32, 0.46) 92.71%, rgba(3, 16, 32, 0.00) 100%)","@sm":{display:"none"}}),$e=s("div",{d:"flex",align:"center",justify:"center",gap:"6px"}),Ce=s("div",{d:"flex",align:"center",justify:"center",border:"5px solid $black500",br:"18px",overflow:"hidden",w:"80px",h:"80px",position:"relative",">img":{position:"absolute",objectFit:"contain",top:"-30px",w:"190px",h:"190px"},variants:{rarity:{Abundant:{borderColor:"#4c4c4c"},Common:{borderColor:"#000000"},Rare:{borderColor:"#3d74e9"},Epic:{borderColor:"#8719f0"},Legendary:{borderColor:"#da992e"},Mythical:{borderColor:"#d20066"}}}}),Le=s("div",{d:"flex",align:"flex-start",justify:"center",direction:"column"}),Me=s("span",{d:"flex",align:"center",justify:"center",color:"$white500",ff:"$heading",fs:"24px","@sm":{fs:"18px"}}),Se=s("span",{d:"flex",align:"center",justify:"center",ff:"$heading",fs:"22px",fw:"$bold",textShadow:"0 0 1px #fff",variants:{rarity:{Abundant:{color:"#4c4c4c"},Common:{color:"#000000"},Rare:{color:"#3d74e9"},Epic:{color:"#8719f0"},Legendary:{color:"#da992e"},Mythical:{color:"#d20066"}}},"@sm":{fs:"18px"}}),Ee=s("h2",{d:"flex",align:"center",justify:"center",color:"$white500",fs:"40px",ff:"$heading",textShadow:"0px 4px 4px rgba(0, 0, 0, 0.5)",w:"100%","@sm":{fs:"20px"}}),De=s("div",{d:"flex",align:"center",justify:"center",direction:"column",w:"100%",mt:"30px",gap:"50px","@sm":{mt:"0px",gap:"8px",justify:"flex-start",overflow:"auto",direction:"column"}}),Ne=s("div",{d:"flex",align:"center",justify:"center",w:"100%",maxW:"1300px",gap:"10px","@sm":{justify:"flex-start",direction:"column",gap:"15px",mt:"10px",overflow:"auto",maxW:"100%"}}),Re=s("div",{d:"flex",align:"center",justify:"center",direction:"column",gap:"10px",w:"100%",padding:"20px 10px",br:"18px",bg:"rgba(3, 16, 32, 0.65)",border:"3px solid $black500",img:{mt:"20px",br:"50%",w:"100px",h:"100px"},"@sm":{w:"90%",direction:"row",padding:"10px 10px",img:{order:-1,my:"0px",w:"35px",h:"35px"}},variants:{selected:{true:{position:"relative",border:"3px solid $yellow500",">div:nth-child(2) >div:nth-child(1)":{color:"$yellow500"},">div:nth-child(3) >div:nth-child(2)":{color:"$yellow500"}}}}});s("div",{d:"flex",align:"center",justify:"center",w:"100%",ff:"$heading",fs:"20px",fw:"$bold",textShadow:"0px 4px 4px rgba(0, 0, 0, 1)",color:"$white500","@sm":{fs:"18px"}});const Q=s("div",{d:"flex",align:"center",justify:"center",direction:"column",w:"100%","@sm":{fs:"16px"}}),V=s("div",{d:"flex",align:"center",justify:"center",w:"100%",mt:"5px",ff:"$heading",fs:"12px",textAlign:"center",textShadow:"0px 4px 4px rgba(0, 0, 0, 1)",color:"$white500","@sm":{fs:"16px",d:"none"}}),B=s("div",{d:"flex",align:"center",justify:"center",w:"100%",ff:"$heading",fs:"16px",fw:"$bold",textAlign:"center",textShadow:"0px 4px 4px rgba(0, 0, 0, 1)",textTransform:"capitalize",color:"$white500","@sm":{fs:"16px"}});s("div",{d:"flex",align:"center",justify:"center",direction:"column",mt:"60px",color:"$white500","@sm":{mt:"10px"}});s("span",{w:"100%",textAlign:"center",fw:"$bold",ff:"$heading",fs:"26px",color:"$white500","@sm":{fs:"18px"}});s("span",{w:"100%",textAlign:"center",textTransform:"capitalize",fs:"30px",color:"$white500","@sm":{fs:"18px"}});const Ie=s("div",{d:"flex",align:"center",justify:"center",gap:"20px",flexWrap:"wrap",">button":{fs:"20px",mt:"40px",h:"40px",w:"300px"},"@sm":{gap:"8px",mt:"20px",">button":{mt:"0px"}}}),Ae=()=>{var M,S;const c=A(e=>e.user),o=h(e=>e.nonce),z=h(e=>e.updateHashExpire),w=h(e=>e.isCalculating),T=h(e=>e.updateIsCalculating);ne();const{data:r}=se(),{data:n}=ae(),{data:u,isLoading:H}=ie(),[U,y]=l.useState(new Date),[$,C]=l.useState(!1),[a,Y]=l.useState(void 0),[q,L]=l.useState(!1),G=l.useCallback(async()=>{var e;C(!0);try{await W(),T(!0),await re(500);const[[i,j]]=ce.getQueriesData(oe.LANDS),d=(e=j.highestValue)==null?void 0:e.asset_id;if(!c||!d)return null;if(!(o!=null&&o.rand_str)){await le();const p=new Date;z(p.setMinutes(p.getMinutes()+1))}const g=(r==null?void 0:r.current_land)===d?void 0:d;await xe(c,g)&&(await de(c==null?void 0:c.name),await X())}catch(i){console.log(i)}finally{T(!1),C(!1)}},[c,r,o==null?void 0:o.rand_str,w]);async function K(){A.setState(e=>({...e,user:e.user?{...e.user,miningType:"blue"}:null})),localStorage.setItem("miningType","blue")}async function X(){await F(),await pe()}async function Z(){L(!0),await F(),await ge(),await W(),L(!1)}const m=l.useMemo(()=>fe(a),[a]);l.useEffect(()=>{var d,g,b,p,E,D,N,R,I,k,_;if(((d=n==null?void 0:n.userTools)==null?void 0:d.length)===1){const f=1.5*(((b=(g=n==null?void 0:n.userTools)==null?void 0:g[0])==null?void 0:b.delay)??0);v(f,n,r,y);return}if(((p=n==null?void 0:n.userTools)==null?void 0:p.length)===2){const f=1.5*((((D=(E=n==null?void 0:n.userTools)==null?void 0:E[0])==null?void 0:D.delay)??0)+(((R=(N=n==null?void 0:n.userTools)==null?void 0:N[1])==null?void 0:R.delay)??0)/2);v(f,n,r,y);return}const i=(I=n==null?void 0:n.userTools)==null?void 0:I.sort((f,ee)=>ee.delay-f.delay),j=1.5*((((k=i==null?void 0:i[0])==null?void 0:k.delay)??0)+(((_=i==null?void 0:i[1])==null?void 0:_.delay)??0));v(j,n,r,y)},[n==null?void 0:n.userTools,r==null?void 0:r.delay,c==null?void 0:c.miningType,r,n]),l.useEffect(()=>{const e=setTimeout(()=>{Y(ue(U))},1e3);return()=>clearTimeout(e)});const J=()=>w&&m==="MINE"?"Calculating hash...":o!=null&&o.rand_str?"Submit":m==="MINE"?"Set Land & Mine":`Mine Cooldown ${m}`,O=!a||(a==null?void 0:a.seconds)<0&&(a==null?void 0:a.minutes)<0&&(a==null?void 0:a.hours)<0;return t.jsxs(be,{children:[t.jsxs(ve,{isLoading:q,children:[t.jsx(Ee,{children:"Mine Maximizer"}),t.jsx("button",{onClick:Z,children:t.jsx(me,{})})]}),t.jsx(Te,{children:(M=n==null?void 0:n.userTools)==null?void 0:M.map(e=>t.jsxs($e,{children:[t.jsx(Ce,{rarity:e.rarity,children:t.jsx("img",{src:`https://ipfs.alienworlds.io/ipfs/${e.img}`,alt:""})}),t.jsxs(Le,{children:[t.jsx(Me,{children:e.toolname}),t.jsx(Se,{rarity:e.rarity,children:e.rarity})]})]},e.asset_id))}),H?t.jsx(ye,{}):t.jsx(t.Fragment,{children:t.jsx(De,{children:t.jsx(Ne,{children:(S=u==null?void 0:u.list)==null?void 0:S.map(e=>{var i;return t.jsxs(Re,{selected:((i=u.highestValue)==null?void 0:i.title)===e.title,children:[t.jsx("img",{src:e.img,alt:e.title}),t.jsxs(Q,{children:[t.jsx(B,{children:e.title}),t.jsxs(V,{children:[e==null?void 0:e.land_name,t.jsx("br",{}),e==null?void 0:e.location]})]}),t.jsxs(Q,{children:[t.jsx(V,{children:"Estimated Mine"}),t.jsxs(B,{children:[e.value_formatted.toFixed(4)??0," TLM"]})]})]},e.title)})})})}),t.jsxs(Ie,{children:[t.jsx(P,{isLoading:$,disabled:O||m!=="MINE"||w||$,color:"gradientPink",onClick:G,children:J()}),t.jsx(P,{color:"gradientBlue",onClick:K,children:"Use as Mining Button"})]})]})};export{Ae as default};
