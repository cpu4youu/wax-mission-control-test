import{E as j,F as g,H as N,J as Re,K as v,L as Ae,M as Fe,s as a,R as x,_ as y,t as Pe,b as A,j as e,I as B,p as ke,m as z,B as Q,e as F,g as q,S as w,T as Y,a as P,q as te,Q as $,u as Ne,N as We,n as Ce,i as Te,C as Oe,k as pe,h as _e,O as he,f as b,P as He,U as Ve,V as ze,W as Be,X as K,Y as qe,Z as Ye,$ as Ue,a0 as ge,a1 as Z,d as me,a2 as Qe,a3 as Ge,a4 as Ke}from"./index-f2b3e4d1.js";import{d as C}from"./defaultAvatar-be3812b6.js";import{f as Ee}from"./index-87527c6f.js";import{u as Ze}from"./news-query-c3eebf99.js";import{u as Je}from"./information-query-34cef81a.js";import{u as Xe,o as et}from"./news-members-28145f91.js";import{i as Se}from"./index-f39d9967.js";import{d as tt}from"./index-e8535169.js";import{e as nt}from"./index-78c8c3c5.js";import{P as rt}from"./index.esm-8ef210fb.js";import"./index-ea76b77d.js";import"./index-27d74fa4.js";function R(t,r){j(2,arguments);var n=g(t),s=g(r),o=n.getTime()-s.getTime();return o<0?-1:o>0?1:o}var st=6e4,ot=36e5;function at(t,r){j(2,arguments);var n=g(t),s=g(r),o=n.getFullYear()-s.getFullYear(),i=n.getMonth()-s.getMonth();return o*12+i}function it(t,r){j(2,arguments);var n=g(t),s=g(r);return n.getFullYear()-s.getFullYear()}function ne(t,r){return j(2,arguments),g(t).getTime()-g(r).getTime()}var je={ceil:Math.ceil,round:Math.round,floor:Math.floor,trunc:function(r){return r<0?Math.ceil(r):Math.floor(r)}},lt="trunc";function re(t){return t?je[t]:je[lt]}function ct(t,r,n){j(2,arguments);var s=ne(t,r)/ot;return re(n==null?void 0:n.roundingMethod)(s)}function dt(t,r,n){j(2,arguments);var s=ne(t,r)/st;return re(n==null?void 0:n.roundingMethod)(s)}function ut(t){j(1,arguments);var r=g(t),n=r.getMonth();return r.setFullYear(r.getFullYear(),n+1,0),r.setHours(23,59,59,999),r}function xt(t){j(1,arguments);var r=g(t);return nt(r).getTime()===ut(r).getTime()}function ft(t,r){j(2,arguments);var n=g(t),s=g(r),o=R(n,s),i=Math.abs(at(n,s)),u;if(i<1)u=0;else{n.getMonth()===1&&n.getDate()>27&&n.setDate(30),n.setMonth(n.getMonth()-o*i);var c=R(n,s)===-o;xt(g(t))&&i===1&&R(t,s)===1&&(c=!1),u=o*(i-Number(c))}return u===0?0:u}function pt(t,r,n){j(2,arguments);var s=ne(t,r)/1e3;return re(n==null?void 0:n.roundingMethod)(s)}function ht(t,r){j(2,arguments);var n=g(t),s=g(r),o=R(n,s),i=Math.abs(it(n,s));n.setFullYear(1584),s.setFullYear(1584);var u=R(n,s)===-o,c=o*(i-Number(u));return c===0?0:c}function gt(t){j(1,arguments);var r=g(t.start),n=g(t.end);if(isNaN(r.getTime()))throw new RangeError("Start Date is invalid");if(isNaN(n.getTime()))throw new RangeError("End Date is invalid");var s={};s.years=Math.abs(ht(n,r));var o=R(n,r),i=N(r,{years:o*s.years});s.months=Math.abs(ft(n,i));var u=N(i,{months:o*s.months});s.days=Math.abs(tt(n,u));var c=N(u,{days:o*s.days});s.hours=Math.abs(ct(n,c));var p=N(c,{hours:o*s.hours});s.minutes=Math.abs(dt(n,p));var m=N(p,{minutes:o*s.minutes});return s.seconds=Math.abs(pt(n,m)),s}function mt(t,r){j(2,arguments);var n=v(r);return Re(t,-n)}function jt(t,r){j(2,arguments);var n=v(r);return Ae(t,-n)}function wt(t,r){if(j(2,arguments),!r||Fe(r)!=="object")return new Date(NaN);var n=r.years?v(r.years):0,s=r.months?v(r.months):0,o=r.weeks?v(r.weeks):0,i=r.days?v(r.days):0,u=r.hours?v(r.hours):0,c=r.minutes?v(r.minutes):0,p=r.seconds?v(r.seconds):0,m=jt(t,s+n*12),T=mt(m,i+o*7),f=c+u*60,M=p+f*60,_=M*1e3,E=new Date(T.getTime()-_);return E}const J=a("div",{d:"flex",align:"flex-start",justify:"flex-start",direction:"column",position:"relative",w:"100%",maxWidth:"95%",padding:"10px 20px","@sm":{px:"0px"}}),yt=a("div",{d:"flex",align:"flex-start",justify:"space-between",gap:"20px",w:"100%","@sm":{align:"center",direction:"column",gap:"20px"}}),vt=a("div",{d:"flex",align:"flex-start",justify:"flex-start",gap:"40px",w:"100%",mt:"20px","@sm":{align:"center",direction:"column",gap:"20px"}}),bt=a("div",{d:"flex",align:"flex-start",justify:"center",direction:"column",maxWidth:"400px",w:"100%","@sm":{align:"center",padding:"20px 10px",bg:"rgba(255, 255, 255, 0.05)"}}),$t=a("div",{d:"flex",align:"center",justify:"center",direction:"column",bg:"rgba(217, 217, 217, 0.16)",padding:"20px",w:"300px"}),Mt=a("h3",{color:"$white500",mb:"20px",textAlign:"center"}),Ct=a("p",{ff:"$heading",fw:"$thin",textAlign:"center",color:"$white500",fs:"12px",button:{mt:"20px",width:"125px",height:"25px"}}),Tt=a("div",{d:"flex",align:"center",justify:"center",br:"9999999px",border:"5px solid grey",overflow:"hidden",position:"relative",w:"100px",h:"100px",img:{position:"absolute",inset:"-2px",w:"100px",h:"100px"},variants:{rarity:{Abundant:{borderColor:"#737373"},Common:{borderColor:"#232323"},Rare:{borderColor:"#3d74e9"},Epic:{borderColor:"#8719f0"},Legendary:{borderColor:"#da992e"},Mythical:{borderColor:"#d20066"}}}}),_t=a("h3",{d:"flex",align:"center",justify:"center",mt:"15px",color:"$white500"}),we=a("div",{d:"flex",align:"center",justify:"center",direction:"column",gap:"15px",mt:"15px",w:"100%",color:"$white500"}),W=a("div",{d:"flex",align:"center",justify:"space-between",w:"100%",color:"$white500"}),O=a("span",{d:"flex",align:"center",justify:"center",direction:"column",fw:"100",ff:"$heading",color:"$white500"}),H=a("span",{d:"flex",align:"center",justify:"center",gap:"5px",fw:"100",ff:"$heading",color:"$white500"}),Et=x.lazy(()=>y(()=>import("./star-6f8ba14f.js"),["assets/star-6f8ba14f.js","assets/index-f2b3e4d1.js","assets/index-55fec1ff.css"])),ye=x.lazy(()=>y(()=>import("./tlm-e5c3df57.js"),["assets/tlm-e5c3df57.js","assets/index-f2b3e4d1.js","assets/index-55fec1ff.css"])),St=()=>{var o,i,u,c,p;const t=x.useRef(null),r=Pe(),n=A(m=>m.user);function s(){t!=null&&t.current&&(t.current.src=C)}return e.jsx(bt,{children:n!=null&&n.member?e.jsxs(e.Fragment,{children:[e.jsx(Tt,{rarity:n==null?void 0:n.avatarrarity,children:n.avatarCollection==="alienavatars"?e.jsx("img",{src:`https://ipfs.alienworlds.io/ipfs/${n.avatar}`,style:{position:"relative",width:"440px",height:"400px",minWidth:"440px",minHeight:"400px",objectFit:"none",scale:"0.24",objectPosition:"41% 0%"}}):e.jsx("img",{ref:t,onError:s,src:(n==null?void 0:n.avatar)!=="-"?`${B}/ipfs/${n==null?void 0:n.avatar}`:C,alt:""})}),e.jsx(_t,{children:(n==null?void 0:n.playertag)??(n==null?void 0:n.name)}),e.jsxs(we,{children:[e.jsxs(W,{children:[e.jsx(O,{children:"TLM:"}),e.jsxs(H,{children:[((i=Number((o=n==null?void 0:n.userTlm)==null?void 0:o.balance))==null?void 0:i.toLocaleString("en-us"))??0," ",e.jsx(ye,{})]})]}),e.jsxs(W,{children:[e.jsx(O,{children:"Deposit:"}),e.jsxs(H,{children:[(ke((u=n==null?void 0:n.HqMember)==null?void 0:u.deposit)+((n==null?void 0:n.tlm_deposit)??0)/1e4).toFixed(4),e.jsx(ye,{})]})]}),e.jsxs(W,{children:[e.jsx(O,{children:"MC Points:"}),e.jsxs(H,{children:[((c=n==null?void 0:n.mcPoints)==null?void 0:c.toLocaleString("en-us"))??0,e.jsx(Et,{})]})]}),e.jsxs(W,{children:[e.jsx(O,{children:"Reward Points:"}),e.jsxs(H,{children:[((p=n==null?void 0:n.userWeekly)==null?void 0:p.total_quest_points)??0," ",e.jsx(z,{})]})]})]}),e.jsx(we,{children:e.jsxs(W,{children:[e.jsx(O,{children:"Wallet:"}),e.jsx(H,{children:n==null?void 0:n.name})]})})]}):e.jsxs($t,{children:[e.jsx(Mt,{children:"BECOME A MEMBER OF MISSION CONTROL"}),e.jsxs(Ct,{children:["Earn MC Points each time you gain Shards in Alien Worlds ",e.jsx("br",{})," ",e.jsx("br",{}),"Use the Mine Maximizer to optimize your TLM mining ",e.jsx("br",{}),e.jsx("br",{})," Complete Weekly Quests and go on adventures to earn additional Trilium ",e.jsx("br",{}),e.jsx("br",{})," Vote for your favorite candidates to give them an edge in the weekly elections",e.jsx(Q,{onClick:()=>r("/membership"),color:"gradientPink",children:"Apply now"})]})]})})},Dt=a("div",{d:"flex",align:"flex-start",justify:"center",direction:"column",w:"100%"}),It=a("h2",{d:"flex",align:"center",justify:"center",color:"$white500"}),Lt=a("div",{d:"flex",align:"center",justify:"center",direction:"column",gap:"5px",mt:"15px",w:"100%",color:"$white500"}),Rt=a("div",{d:"flex",align:"flex-start",justify:"center",w:"100%",bg:"#0E1720",padding:"15px",br:"5px",color:"$white500"}),At=a("div",{d:"flex",align:"center",justify:"center",mr:"15px",position:"relative",span:{d:"flex",align:"center",justify:"center",position:"absolute",bottom:"-8px",zIndex:"2",ff:"$heading",fw:"700",fs:"12px",br:"50px",w:"35px",h:"20px",color:"$black500",border:"2px solid"},variants:{borderColor:{Abundant:{span:{borderColor:"#737373",backgroundColor:"#737373",color:"#fff"}},Common:{span:{borderColor:"#232323",backgroundColor:"#232323",color:"#fff"}},Rare:{span:{borderColor:"#3d74e9",backgroundColor:"#3d74e9"}},Epic:{span:{borderColor:"#8719f0",backgroundColor:"#8719f0"}},Legendary:{span:{borderColor:"#da992e",backgroundColor:"#da992e"}},Mythical:{span:{borderColor:"#d20066",backgroundColor:"#d20066"}}}}}),Ft=a("div",{d:"flex",align:"center",justify:"center",w:"50px",h:"50px",border:"5px solid $yellow400",br:"0 9999999px 9999999px 9999999px",overflow:"hidden",img:{w:"50px",h:"50px"},variants:{borderColor:{Abundant:{borderColor:"#737373"},Common:{borderColor:"#232323"},Rare:{borderColor:"#3d74e9"},Epic:{borderColor:"#8719f0"},Legendary:{borderColor:"#da992e"},Mythical:{borderColor:"#d20066"}}}}),Pt=a("div",{d:"flex",align:"flex-start",justify:"center",direction:"column",w:"100%",color:"$white500"}),kt=a("span",{d:"flex",align:"center",justify:"center",fw:"700",ff:"$body",fs:"16px",color:"$white500"}),Nt=a("span",{d:"flex",align:"center",justify:"center",direction:"column",ml:"10px",fw:"$thin",fs:"12px",ff:"$body",color:"#A3A3A3"}),Wt=a("span",{d:"flex",align:"center",justify:"center",fw:"$thin",fs:"14px",ff:"$body",color:"$white500"}),Ot=F({"0%":{backgroundPosition:"0% 0%"},"100%":{backgroundPosition:"-135% 0%"}}),Ht=a("p",{d:"flex",align:"center",justify:"center",height:"320px",w:"100%",fw:"$thin",fs:"26px",ff:"$body",color:"$white500"}),X=a("div",{m:"10px 0",w:"95%",height:"120px",background:"linear-gradient( -90deg, rgba(255, 255, 255, 0.2), rgba(255, 255, 255, 0.1) ,rgba(255, 255, 255, 0.2))",br:"10px",backgroundSize:"400% 400%",animation:`${Ot} 1.2s ease-in-out infinite`}),Vt=async()=>await q({options:{code:w.MEMBERS_MC,index_position:1,limit:"5",reverse:!0,scope:w.MEMBERS_MC,table:Y.ACTIVITY}}),zt=()=>P({queryKey:[$.ACTIVITY],queryFn:()=>qt(),staleTime:1e3*60*60*24});async function Bt(){return await te.invalidateQueries($.ACTIVITY)}async function qt(){try{const t=await Vt();return t?Yt(t):[]}catch(t){return console.log(t),null}}function Yt(t){return t.map(r=>({...r,avatar:r.avatar.split(";")[0],avatarCollection:r.avatar.split(";")[1]}))}const Ut=()=>{const{data:t,isLoading:r}=zt(),n=x.useRef(null);function s(){n!=null&&n.current&&(n.current.src=C)}return x.useEffect(()=>{const o=setInterval(()=>{Bt()},6e4);return()=>clearInterval(o)},[]),e.jsxs(Dt,{children:[e.jsx(It,{children:"ACTIVITY"}),e.jsx(Lt,{children:r?e.jsxs(e.Fragment,{children:[e.jsx(X,{}),e.jsx(X,{}),e.jsx(X,{})]}):(t==null?void 0:t.length)===0?e.jsx(Ht,{children:"No Activities for now"}):t==null?void 0:t.map(o=>e.jsxs(Rt,{children:[e.jsxs(At,{borderColor:o.avatarrarity,children:[e.jsx(Ft,{borderColor:o.avatarrarity,children:o.avatarCollection==="alienavatars"?e.jsx("img",{src:`https://ipfs.alienworlds.io/ipfs/${o.avatar}`,style:{width:"240px",height:"400px",minWidth:"240px",minHeight:"400px",objectFit:"none",scale:"0.24",objectPosition:"45% 1.5%"}}):e.jsx("img",{ref:n,onError:s,src:o.avatar!=="-"?`${B}/ipfs/${o.avatar}`:C,alt:""})}),e.jsx("span",{children:o.level})]}),e.jsxs(Pt,{children:[e.jsxs(kt,{children:[o==null?void 0:o.tag," ",e.jsx(Nt,{children:Ee(new Date(`${o.timestamp}.000Z`),"dd MMMM yyyy HH':'mm")})]}),e.jsx(Wt,{children:o==null?void 0:o.log})]})]},o.index))})]})},Qt=()=>e.jsx("svg",{width:"17",height:"16",viewBox:"0 0 17 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("g",{id:"Layer_1",children:e.jsxs("g",{id:"Group",children:[e.jsx("path",{id:"Vector",d:"M5.48867 5.1575C5.48867 5.1575 5.02171 7.405 5.23823 8.025C5.23823 8.025 5.52519 4.625 8.28258 2C8.28258 2 8.19388 4.1975 9.62606 5.3125C11.0582 6.4275 11.3817 8.1625 11.3817 8.1625C11.3817 8.1625 11.5434 6.9775 11.0582 5.08C11.0582 5.08 14.1026 8.11 12.7069 11.4925C12.7069 11.4925 11.0243 15.2175 6.20606 13.5875C1.3878 11.9575 4.6278 5.7425 5.48867 5.1575Z",fill:"#EEB625"}),e.jsx("path",{id:"Vector_2",d:"M10.6304 8.02989C10.6748 8.98239 10.2261 9.23239 9.86345 9.28239C9.63128 9.31489 9.3965 9.25739 9.19302 9.14989C7.19737 8.11239 8.22258 5.57739 8.22258 5.57739C6.91563 6.77489 7.5965 9.26239 7.5965 9.26239C7.5965 9.26239 8.00084 10.6724 7.17389 10.7949C6.7591 10.8574 6.56606 10.6974 6.47736 10.5249C6.3965 10.3649 6.3965 10.1774 6.46693 10.0124C7.0278 8.67739 6.5478 7.92239 6.5478 7.92239C6.2791 8.68739 5.99476 9.19239 5.78867 9.49489C5.49649 9.92489 5.31128 10.4149 5.28519 10.9274C5.19128 12.8374 6.86084 13.5999 6.86084 13.5999C9.60258 14.9399 10.8339 12.4899 10.8339 12.4899C12.2504 9.87989 10.6304 8.02989 10.6304 8.02989Z",fill:"#FFF500"})]})})}),Gt=a("div",{d:"flex",align:"flex-start",justify:"center",direction:"column",w:"100%"}),Kt=a("h2",{d:"flex",align:"center",justify:"center",color:"$white500"}),Zt=a("div",{d:"flex",align:"center",justify:"center",direction:"column",gap:"15px",mt:"15px",bg:"rgba(255, 255, 255, 0.05)",br:"10px",w:"100%",color:"$white500"}),Jt=a("div",{d:"flex",align:"flex-start",justify:"center",w:"100%",padding:"15px",br:"5px",color:"$white500"}),Xt=a("div",{d:"flex",align:"center",justify:"center",mr:"15px",minW:"60px",maxW:"60px",h:"60px",border:"2px solid grey",br:"999px",overflow:"hidden",img:{w:"60px",h:"60px"}}),en=a("div",{d:"flex",align:"flex-start",justify:"center",direction:"column",w:"100%",color:"$white500"}),tn=F({"0%":{backgroundPosition:"0% 0%"},"100%":{backgroundPosition:"-135% 0%"}}),ee=a("div",{m:"10px 0",w:"95%",height:"120px",background:"linear-gradient( -90deg, rgba(255, 255, 255, 0.2), rgba(255, 255, 255, 0.1) ,rgba(255, 255, 255, 0.2))",br:"10px",backgroundSize:"400% 400%",animation:`${tn} 1.2s ease-in-out infinite`}),nn=a("p",{d:"flex",align:"center",justify:"center",height:"320px",w:"100%",fw:"$thin",fs:"26px",ff:"$body",color:"$white500"}),rn=a("span",{fw:"$thin",fs:"16px",ff:"$body",color:"$white500",svg:{w:"13px",h:"13px"}}),sn=a("button",{d:"flex",align:"center",justify:"center",gap:"5px",mt:"10px",h:"28px",minW:"65px",borderRadius:"4px",border:" 1px solid #8F8F8F",background:"rgba(0, 0, 0, 0.22)",padding:"0px 10px 0 5px",fw:"$thin",fs:"14px",ff:"$body",color:"$white500","&[disabled]":{opacity:"0.5",cursor:"not-allowed"}}),on=async()=>await q({options:{code:w.MEMBERS_MC,index_position:1,limit:"3",reverse:!0,scope:w.MEMBERS_MC,table:Y.SPONSOR}}),an=()=>P({queryKey:[$.SPONSOR],queryFn:()=>ln(),staleTime:1e3*60*60*24});async function ve(){return await te.invalidateQueries($.SPONSOR)}async function ln(){try{const t=await on();return t?cn(t):[]}catch(t){return console.log(t),null}}function cn(t){return t.map(r=>({...r,avatar:r.avatar.split(";")[0],avatarCollection:r.avatar.split(";")[1]}))}async function dn(t,r,n){const{executeTransaction:s}=Ne(),o=un(t,r,n);return!!await s(o)}function un(t,r,n){return{actions:[{account:w.MEMBERS_MC,name:"like",authorization:[{actor:t.name,permission:t.requestPermission}],data:{wallet:t.name,type:r,contentid:n}}]}}const xn=()=>P({queryKey:[$.MEMBERS],queryFn:()=>fn(),staleTime:1e3*60*60*24,enabled:!!A.getState().user});async function be(){return await te.invalidateQueries($.MEMBERS)}async function fn(){const t=A.getState().user;if(!t)return null;try{const r=await We(t==null?void 0:t.name);return r?{...r,avatar:r.avatar.split(";")[0],avatarCollection:r.avatar.split(";")[1]}:null}catch(r){return console.log(r),null}}const pn=async()=>await q({options:{code:w.MEMBERS_MC,index_position:1,limit:"10000",scope:w.MEMBERS_MC,table:Y.SETTINGS}}),hn=()=>P({queryKey:[$.MC_SETTINGS],queryFn:()=>gn(),staleTime:1e3*60*60*24});async function gn(){try{const t=await pn();return t!=null&&t[0]?t==null?void 0:t[0]:null}catch(t){return console.log(t),null}}const mn=()=>{const{data:t,isLoading:r}=an(),{data:n}=xn(),{data:s}=hn(),o=A(f=>f.user),i=x.useRef(null),[u,c]=x.useState(!1);async function p(f){if(!o){pe.error("User not found, please login");return}try{c(!0),await dn(o,"sponsor",f)&&(pe.success("Liked"),await _e(800),await be(),await ve())}catch(M){console.log(M)}finally{c(!1)}}function m(){i!=null&&i.current&&(i.current.src=C)}const T=x.useMemo(()=>{if(!(n!=null&&n.last_like))return!1;const f=new Date(n==null?void 0:n.last_like).getTime(),M=(s==null?void 0:s.likecd_minutes)??0,_=f+M*6e4,E=Ce.getTime();return!Te(E,_)},[n,s==null?void 0:s.likecd_minutes]);return x.useEffect(()=>{const f=setInterval(()=>{be(),ve()},6e4);return()=>clearInterval(f)},[]),e.jsxs(Gt,{children:[e.jsx(Kt,{children:"LATEST SPONSORS"}),e.jsx(Zt,{children:r?e.jsxs(e.Fragment,{children:[e.jsx(ee,{}),e.jsx(ee,{}),e.jsx(ee,{})]}):(t==null?void 0:t.length)===0?e.jsx(nn,{children:"No Sponsors for now"}):t==null?void 0:t.map(f=>e.jsxs(Jt,{children:[e.jsx(Xt,{children:f.avatarCollection==="alienavatars "?e.jsx("img",{src:`https://ipfs.alienworlds.io/ipfs/${f.avatar}`,style:{width:"240px",height:"400px",minWidth:"240px",minHeight:"400px",objectFit:"none",scale:"0.24",objectPosition:"45% 1.5%"}}):e.jsx("img",{ref:i,onError:m,src:f.avatar!=="-"?`${B}/ipfs/${f.avatar}`:C,alt:""})}),e.jsxs(en,{children:[e.jsx(rn,{children:f.log}),e.jsx(sn,{onClick:()=>p(f.index),disabled:u||T,children:u?e.jsx(Oe,{size:"sm",colorSchema:"light"}):e.jsxs(e.Fragment,{children:[e.jsx(Qt,{}),f.likes]})})]})]},f.index))})]})},jn=a("div",{d:"flex",align:"center",justify:"center",direction:"column",gap:"30px",w:"100%",mt:"40px","@md":{justify:"center",padding:"0px 20px",flexWrap:"wrap"},"@sm":{padding:"0px "}}),wn=a("h2",{w:"100%",color:"$white500"}),yn=a("div",{d:"flex",align:"flex-start",justify:"center",gap:"50px",w:"100%","@sm":{direction:"column",gap:"20px"}}),vn=a("div",{d:"flex",align:"flex-start",justify:"center",direction:"column",gap:"5px",w:"100%"}),bn=a("div",{d:"flex",align:"center",justify:"center",position:"relative",w:"100%",h:"157px",gap:"10px",img:{border:" 1px solid #F4F4F4",objectFit:"cover",w:"100%",h:"157px"},">a":{position:"absolute",zIndex:1,bottom:"5px",left:"5px",button:{h:"20px",minH:"35px",minW:"140px",fs:"12px"}}}),$n=a("p",{w:"100%",color:"#BEBEBE",ff:"$heading",fs:"12px",fw:"700","@sm":{fs:"12px"}}),Mn=a("p",{w:"100%",color:"$white500",ff:"$heading",fs:"16px",fw:"800"}),Cn=a("p",{w:"100%",color:"$white500",ff:"$heading",fs:"14px",fw:"$thin"}),Tn=a("p",{w:"100%",color:"$white500",ff:"$heading",fs:"14px",fw:"$thin","@sm":{fw:"500",fs:"12px"}}),_n=F({"0%":{backgroundPosition:"0% 0%"},"100%":{backgroundPosition:"-135% 0%"}}),En=a("div",{mt:"10px",w:"100%",height:"200px",background:"linear-gradient( -90deg, rgba(3, 16, 32, 0.40), rgba(3, 16, 32, 0.75) ,rgba(3, 16, 32, 0.40))",br:"10px",backgroundSize:"400% 400%",animation:`${_n} 1.2s ease-in-out infinite`}),Sn=()=>{var s;const{data:t,isLoading:r}=Ze(),n=x.useMemo(()=>{if(t)return t.all.reduce((o,i)=>(o.find(c=>c.author===i.author)||o.push(i),o),[])},[t]);return e.jsxs(jn,{children:[e.jsx(wn,{children:"LATEST NEWS"}),e.jsx(yn,{children:r?Array.from({length:3},o=>o).map((o,i)=>e.jsx(En,{},i)):(s=n==null?void 0:n.slice(0,3))==null?void 0:s.map(o=>e.jsxs(vn,{children:[e.jsxs(Cn,{children:["Author: ",o==null?void 0:o.author]}),e.jsxs(bn,{children:[e.jsx("img",{src:o.thumbnail,alt:"medium image"}),e.jsx("a",{target:"_blank",href:o.link,rel:"noreferrer",children:e.jsx(Q,{color:"gradientPink",children:"Read on Medium"})})]}),e.jsx($n,{children:Ee(new Date(o.published),"dd LLLL yyyy")}),e.jsx(Mn,{children:o.title}),e.jsx(Tn,{children:o.description})]},o.link))})]})},Dn=a("div",{d:"flex",align:"center",justify:"center",direction:"column",gap:"30px",w:"100%",mt:"40px","@md":{justify:"center",padding:"0px 20px",flexWrap:"wrap"},"@sm":{padding:"0px "}}),In=a("h2",{w:"100%",color:"$white500"}),Ln=a("div",{d:"flex",align:"flex-start",justify:"flex-start",gap:"50px",w:"100%","@md":{gap:"20px"},"@sm":{direction:"column"}}),Rn=a("div",{d:"flex",align:"flex-start",justify:"center",direction:"column",w:"100%",maxW:"200px",h:"420px",">a":{w:"100%",mt:"auto",button:{h:"20px",minH:"35px",minW:"100%",fs:"12px"}},"@sm":{maxW:"100%",position:"relative",">a":{position:"absolute",bottom:"40px",left:"10px",w:"200px",button:{h:"40px"}}},"@xxsm":{w:"255px",h:"auto",m:"auto",">a":{top:"200px",bottom:"unset",left:"10px",w:"200px",button:{h:"40px"}}}}),An=a("div",{d:"flex",align:"center",justify:"center",position:"relative",h:"330px",w:"100%",gap:"10px",img:{border:" 1px solid #F4F4F4",objectFit:"cover",w:"100%",h:"330px"},"@xxsm":{h:"auto",img:{w:"255px",h:"255px"}}});a("p",{w:"100%",color:"#BEBEBE",ff:"$heading",fs:"12px",fw:"700","@sm":{fs:"12px"}});const Fn=a("p",{w:"100%",my:"5px",color:"$white500",ff:"$heading",fs:"14px",fw:"800"});a("p",{w:"100%",color:"$white500",ff:"$heading",fs:"10px",fw:"$thin","@sm":{fw:"500",fs:"12px"}});const Pn=F({"0%":{backgroundPosition:"0% 0%"},"100%":{backgroundPosition:"-135% 0%"}}),kn=a("div",{mt:"10px",w:"100%",height:"200px",background:"linear-gradient( -90deg, rgba(3, 16, 32, 0.40), rgba(3, 16, 32, 0.75) ,rgba(3, 16, 32, 0.40))",br:"10px",backgroundSize:"400% 400%",animation:`${Pn} 1.2s ease-in-out infinite`}),Nn=()=>{var n,s;const{data:t,isLoading:r}=Je();return e.jsxs(Dn,{children:[e.jsx(In,{children:"TUTORIALS"}),e.jsx(Ln,{children:r?Array.from({length:3},o=>o).map((o,i)=>e.jsx(kn,{},i)):(s=(n=t==null?void 0:t.all)==null?void 0:n.slice(0,8))==null?void 0:s.map(o=>e.jsxs(Rn,{children:[e.jsx(An,{children:e.jsx("img",{src:`${B}/ipfs/${o.image}`,alt:"medium image"})}),e.jsx(Fn,{children:o.title}),e.jsx("a",{target:"_blank",href:o.link,rel:"noreferrer",children:e.jsx(Q,{color:"gradientPink",children:"Learn more"})})]},o.link))})]})},Wn=a("div",{d:"flex",align:"flex-start",justify:"center",direction:"column",w:"100%"}),On=a("h2",{d:"flex",align:"center",justify:"center",color:"$white500"}),Hn=a("div",{d:"flex",align:"center",justify:"flex-start",gap:"5px",mt:"15px",w:"100%",color:"$white500","@md":{flexWrap:"wrap"},"@sm":{direction:"column"}}),Vn=a("div",{d:"flex",align:"center",justify:"center",direction:"column",position:"relative",w:"172px",h:"141px",bg:"#0E1720",padding:"15px",br:"5px",color:"$white500","@sm":{direction:"row",w:"100%",h:"auto"}}),zn=a("p",{d:"flex",align:"center",justify:"center",position:"absolute",top:"0px",left:"0px",fs:"12px",padding:"5px 10px",color:"$white500","@sm":{left:"unset",right:"0px"}}),Bn=a("div",{d:"flex",align:"center",justify:"center",w:"50px",minW:"50px",maxW:"50px",h:"50px",minH:"50px",maxH:"50px",border:"1px solid",br:"999px",overflow:"hidden",img:{w:"50px",minW:"50px",maxW:"50px",h:"50px",minH:"50px",maxH:"50px"},variants:{borderColor:{Abundant:{borderColor:"#737373"},Common:{borderColor:"#232323"},Rare:{borderColor:"#3d74e9"},Epic:{borderColor:"#8719f0"},Legendary:{borderColor:"#da992e"},Mythical:{borderColor:"#d20066"}}},"@sm":{minW:"50px"}}),qn=a("div",{d:"flex",align:"center",justify:"center",direction:"column",w:"100%",color:"$white500","@sm":{align:"flex-start",ml:"20px"}}),Yn=a("span",{d:"flex",align:"center",justify:"center",w:"100%",fw:"700",ff:"$body",fs:"16px",color:"$white500","@sm":{w:"unset"}}),Un=a("span",{d:"flex",align:"center",justify:"center",fw:"$thin",fs:"14px",ff:"$body",color:"$white500",span:{color:"$blue200",ml:"5px",fw:"$bold",fs:"16px",ff:"$body"}}),Qn=F({"0%":{backgroundPosition:"0% 0%"},"100%":{backgroundPosition:"-135% 0%"}}),Gn=a("p",{d:"flex",align:"center",justify:"center",height:"320px",w:"100%",fw:"$thin",fs:"26px",ff:"$body",color:"$white500"}),S=a("div",{m:"10px 0",w:"95%",height:"120px",background:"linear-gradient( -90deg, rgba(255, 255, 255, 0.2), rgba(255, 255, 255, 0.1) ,rgba(255, 255, 255, 0.2))",br:"10px",backgroundSize:"400% 400%",animation:`${Qn} 1.2s ease-in-out infinite`}),Kn=()=>{var o;const{data:t,isLoading:r}=Xe(),n=x.useRef(null);function s(){n!=null&&n.current&&(n.current.src=C)}return x.useEffect(()=>{const i=setInterval(()=>{et()},6e4);return()=>clearInterval(i)},[]),e.jsxs(Wn,{children:[e.jsx(On,{children:"NEW MEMBERS"}),e.jsx(Hn,{children:r?e.jsxs(e.Fragment,{children:[e.jsx(S,{}),e.jsx(S,{}),e.jsx(S,{}),e.jsx(S,{}),e.jsx(S,{}),e.jsx(S,{})]}):(t==null?void 0:t.length)===0?e.jsx(Gn,{children:"No Members for now"}):(o=t==null?void 0:t.slice(0,7))==null?void 0:o.map(i=>e.jsxs(Vn,{children:[e.jsxs(zn,{children:["#",i.member_id]}),e.jsx(Bn,{borderColor:i.avatarrarity,children:i.avatarCollection==="alienavatars"?e.jsx("img",{src:`https://ipfs.alienworlds.io/ipfs/${i.avatar}`,style:{width:"240px",height:"400px",minWidth:"240px",minHeight:"400px",objectFit:"none",scale:"0.24",objectPosition:"45% 1.5%"}}):e.jsx("img",{ref:n,onError:s,src:i.avatar!=="-"?`${B}/ipfs/${i.avatar}`:C,alt:""})}),e.jsxs(qn,{children:[e.jsx(Yn,{children:(i==null?void 0:i.playertag)??(i==null?void 0:i.wallet)}),e.jsxs(Un,{children:["Alien Worlds Level",e.jsx("span",{children:i==null?void 0:i.newMemberLevel})]})]})]},i.member_id))})]})},Zn=a("div",{d:"flex",align:"flex-start",justify:"center",direction:"column",maxWidth:"525px",w:"100%","@sm":{align:"center",padding:"20px 10px",bg:"rgba(255, 255, 255, 0.05)"}}),Jn=a("h2",{w:"100%",color:"$white500"}),Xn=a("div",{d:"flex",align:"center",justify:"center",direction:"column",gap:"5px",mt:"15px",w:"100%",color:"$white500"}),D=a("div",{d:"flex",align:"center",justify:"space-between",gap:"5px",w:"100%",color:"$white500"}),I=a("span",{d:"flex",align:"center",justify:"center",gap:"5px",w:"100%",h:"45px",textAlign:"center",fw:"$normal",fs:"20px",ff:"$body",bg:"rgba(255, 255, 255, 0.03)",color:"$white500",variants:{highlight:{true:{fw:"$bold",color:"$yellow400"}}},"@xsm":{fs:"14px"}}),L=a("span",{d:"flex",align:"center",justify:"center",gap:"5px",bg:"rgba(255, 255, 255, 0.03)",w:"100%",h:"45px",ff:"$body",fw:"$normal",color:"$white500",variants:{highlight:{true:{fw:"$bold",color:"$yellow400"}}}}),$e=x.lazy(()=>y(()=>import("./tlm-e5c3df57.js"),["assets/tlm-e5c3df57.js","assets/index-f2b3e4d1.js","assets/index-55fec1ff.css"])),er=()=>{var u;const t=A(c=>c.user),r=he(c=>c.currentWeek),n=he(c=>c.weeks),s=b.useMemo(()=>{const c=new Date,p=new Date(c.setDate(c.getDate()-7));return n==null?void 0:n.find(m=>Se(p,new Date((m==null?void 0:m.end_date)??""))&&Te(p,new Date((m==null?void 0:m.start_date)??"")))},[n]),o=((r==null?void 0:r.initial_prize_pool_formatted)??0)/(((r==null?void 0:r.total_quest_points)??0)/100),i=b.useMemo(()=>{const c=gt({start:Ce,end:new Date((r==null?void 0:r.end_date)??"")});let p="";return c.days&&(p+=`${c.days}d `),c.hours&&(p+=`${c.hours}h `),c.minutes&&(p+=`${c.minutes}m `),p},[r==null?void 0:r.end_date]);return e.jsxs(Zn,{children:[e.jsx(Jn,{children:"WEEKLY STATISTICS"}),e.jsxs(Xn,{children:[e.jsxs(D,{children:[e.jsx(I,{highlight:!0,children:"Prize Pool"}),e.jsxs(L,{highlight:!0,children:[He((r==null?void 0:r.initial_prize_pool_formatted)??0),e.jsx($e,{})]})]}),e.jsxs(D,{children:[e.jsxs(I,{children:["Total ",e.jsx(z,{})]}),e.jsxs(L,{children:[r==null?void 0:r.total_quest_points.toLocaleString("en-US")," "]})]}),e.jsxs(D,{children:[e.jsxs(I,{children:["Your ",e.jsx(z,{})]}),e.jsx(L,{children:(((u=t==null?void 0:t.userWeekly)==null?void 0:u.total_quest_points)??0).toLocaleString("en-US")})]}),e.jsxs(D,{children:[e.jsxs(I,{children:["Last Week Total ",e.jsx(z,{})]}),e.jsx(L,{children:((s==null?void 0:s.total_quest_points)??0).toLocaleString("en-US")})]}),e.jsxs(D,{children:[e.jsxs(I,{children:["Current TLM per 100 ",e.jsx(z,{})]}),e.jsxs(L,{children:[o.toLocaleString("en-US")," ",e.jsx($e,{color:"#fff"})]})]}),e.jsxs(D,{children:[e.jsx(I,{children:"Week ends in"}),e.jsx(L,{children:i})]})]})]})},tr=a("div",{d:"flex",align:"center",justify:"center",direction:"column",gap:"15px",w:"100%",maxW:"100%","@md":{justify:"center",padding:"0px 20px",flexWrap:"wrap"},"@sm":{maxW:"100%",padding:"0px "}}),nr=a("h2",{w:"100%",color:"$white500"}),rr=a("div",{d:"flex",align:"center",justify:"center",padding:"0px 20px",gap:"50px",width:"100%",height:"295px",bg:"rgba(255, 255, 255, 0.05)","@sm":{align:"center",justify:"center",direction:"column",gap:"20px"}}),sr=a("p",{w:"100%",color:"$white500",textAlign:"center",ff:"$heading",fw:"$normal",fs:"20px"}),or=async()=>await q({options:{code:w.MEMBERS_MC,index_position:1,limit:"10000",scope:w.MEMBERS_MC,table:Y.TIPS}}),ar=()=>P({queryKey:[$.TIPS],queryFn:()=>ir(),staleTime:1e3*60*60});async function ir(){try{const t=await or();return t||null}catch(t){return console.log(t),null}}const lr=()=>{const{data:t}=ar(),[r,n]=x.useState(0);return x.useEffect(()=>{const s=setInterval(()=>{const o=Math.floor(Math.random()*((t==null?void 0:t.length)??0));n(o)},6e4);return()=>clearInterval(s)},[t]),e.jsxs(tr,{children:[e.jsx(nr,{children:"DID YOU KNOW?"}),e.jsxs(rr,{children:[e.jsx(rt,{color:"#fff",size:100}),e.jsx(sr,{children:t==null?void 0:t[r].description})]})]})},cr=a("div",{d:"flex",align:"center",justify:"center",direction:"column",gap:"30px",w:"100%",mt:"40px","@md":{justify:"center",padding:"0px 20px",flexWrap:"wrap"},"@sm":{padding:"0px "}}),dr=a("h2",{w:"100%",color:"$white500"}),ur=a("div",{d:"flex",align:"flex-start",justify:"flex-start",gap:"50px",w:"100%","@sm":{flexWrap:"wrap",align:"flex-start",justify:"flex-start",direction:"column",gap:"20px"}}),xr=a("div",{d:"flex",align:"flex-start",justify:"space-between",gap:"20px",w:"100%","@md":{flexWrap:"wrap"}}),fr=a("div",{d:"flex",align:"flex-start",justify:"flex-start",direction:"column",gap:"5px",w:"100%",maxW:"235px"}),V=a("div",{d:"flex",align:"center",justify:"flex-start",gap:"10px",color:"$white500",fs:"20px",ff:"$body",fw:"$thin",svg:{w:"25px",h:"25px"},".clock-svg stop":{stopColor:"white"}}),pr=a("div",{d:"flex",align:"center",justify:"center",direction:"column",w:"100%",maxW:"235px",button:{mt:"5px",h:"35px"},"@sm":{maxW:"unset"}}),hr=a("div",{d:"flex",align:"flex-start",justify:"flex-start",w:"100%",minH:"175px",padding:"20px",bg:"rgba(255,255,255,0.05)",br:"5px",color:"$white500",fs:"20px",ff:"$heading",fw:"$thin"}),gr=F({"0%":{backgroundPosition:"0% 0%"},"100%":{backgroundPosition:"-135% 0%"}}),mr=a("div",{mt:"10px",w:"100%",height:"200px",background:"linear-gradient( -90deg, rgba(3, 16, 32, 0.40), rgba(3, 16, 32, 0.75) ,rgba(3, 16, 32, 0.40))",br:"10px",backgroundSize:"400% 400%",animation:`${gr} 1.2s ease-in-out infinite`}),jr=async()=>await q({options:{code:w.PLANETAWORLD,index_position:1,limit:"10000",scope:w.PLANETAWORLD,table:Y.treasures}}),wr=()=>P({queryKey:[$.INCOMING_EVENTS],queryFn:()=>yr(),staleTime:1e3*60*60});async function yr(){try{const t=await jr();return t?vr(t):void 0}catch(t){console.log(t);return}}async function vr(t){const r=t.find(s=>{const o=new Date,i=new Date(o.getUTCFullYear(),o.getUTCMonth(),o.getUTCDate(),o.getUTCHours(),o.getUTCMinutes(),o.getUTCSeconds()),u=wt(i,{hours:10}),c=Se(u,new Date(s.start_date));return!s.is_distributed&&c});return br(r)}async function br(t){const{getAssetByAssetId:r}=Ve;if(!t)return;const n=await r(t==null?void 0:t.land_id),s=n.data.name.split(" on ");return{...t,...n.data,formattedName:s[0],localImg:`/assets/lands/${s[0]}.webp`}}const $r=x.lazy(()=>y(()=>import("./shards-27382ff8.js"),["assets/shards-27382ff8.js","assets/index-f2b3e4d1.js","assets/index-55fec1ff.css"])),Me=x.lazy(()=>y(()=>import("./tlm-e5c3df57.js"),["assets/tlm-e5c3df57.js","assets/index-f2b3e4d1.js","assets/index-55fec1ff.css"])),Mr=x.lazy(()=>y(()=>import("./clock-3933e352.js"),["assets/clock-3933e352.js","assets/index-f2b3e4d1.js","assets/index-55fec1ff.css"])),Cr=x.lazy(()=>y(()=>import("./planet-c92cdc89.js"),["assets/planet-c92cdc89.js","assets/index-f2b3e4d1.js","assets/index-55fec1ff.css"])),Tr=x.lazy(()=>y(()=>import("./finish-flag-4f1862e9.js"),["assets/finish-flag-4f1862e9.js","assets/index-f2b3e4d1.js","assets/index-55fec1ff.css"])),_r=x.lazy(()=>y(()=>import("./land-b13dbf81.js"),["assets/land-b13dbf81.js","assets/index-f2b3e4d1.js","assets/index-55fec1ff.css"])),Er=x.lazy(()=>y(()=>import("./treasure-84cabebb.js"),["assets/treasure-84cabebb.js","assets/index-f2b3e4d1.js","assets/index-55fec1ff.css"])),Sr=()=>{const{data:t,isLoading:r}=wr(),{data:n}=ze(),{data:s,isFetching:o}=Be(),i=A(l=>l.user),u=K(l=>l.nonce),c=K(l=>l.updateIsCalculating),p=K(l=>l.updateHashExpire),[m,T]=b.useState(""),[f,M]=b.useState(""),[_,E]=b.useState(!1);async function se(){await Ge(),await ge()}const De=b.useCallback(async()=>{if(t){E(!0);try{if(c(!0),await _e(500),!i)return null;if(!(u!=null&&u.rand_str)){await qe();const h=new Date;p(h.setMinutes(h.getMinutes()+1))}const l=(n==null?void 0:n.current_land)===t.land_id?void 0:t.land_id;await Ye(i,l)&&(await Ue(i==null?void 0:i.name),await se(),await ge())}catch(l){console.log(l)}finally{c(!1),E(!1)}}},[i,n,t,u==null?void 0:u.rand_str]),oe=b.useCallback(l=>{var U,ae,ie,le,ce,de,ue,xe,fe;const d=(l??0)/10;if(((U=s==null?void 0:s.userTools)==null?void 0:U.length)===1){const k=d*(((ie=(ae=s==null?void 0:s.userTools)==null?void 0:ae[0])==null?void 0:ie.delay)??0);return Z(k,s,n)}const h=(le=s==null?void 0:s.userTools)==null?void 0:le.sort((k,Le)=>Le.delay-k.delay);if(((ce=s==null?void 0:s.userTools)==null?void 0:ce.length)===2){const k=d*((((de=h==null?void 0:h[0])==null?void 0:de.delay)??0)+(((ue=h==null?void 0:h[1])==null?void 0:ue.delay)??0)/2);return Z(k,s,n)}const G=d*((((xe=h==null?void 0:h[0])==null?void 0:xe.delay)??0)+(((fe=h==null?void 0:h[1])==null?void 0:fe.delay)??0));return Z(G,s,n)},[s,n]);function Ie(l){const d=l!=null&&l.days?l.days<10?`0${l.days}d`:`${l.days}d`:"",h=l!=null&&l.hours?l.hours<10?`0${l.hours}h`:`${l.hours}h`:"",G=l!=null&&l.minutes?l.minutes<10?`0${l.minutes}m`:`${l.minutes}m`:"",U=l!=null&&l.seconds?l.seconds<10?`0${l.seconds}s`:`${l.seconds}s`:"";T(`${d} ${h} ${G} ${U}`)}return console.log(t),b.useEffect(()=>{const l=setInterval(()=>{const d=me(new Date((t==null?void 0:t.start_date)||""));Ie(d),(d==null?void 0:d.days)===0&&(d==null?void 0:d.hours)===0&&(d==null?void 0:d.minutes)===0&&(d==null?void 0:d.seconds)===0&&(clearInterval(l),T("live"))},1e3);return()=>clearInterval(l)},[t]),b.useEffect(()=>{const l=setInterval(()=>{const d=me(oe((t==null?void 0:t.delay)??0));M(Qe(d)),(d==null?void 0:d.days)===0&&(d==null?void 0:d.hours)===0&&(d==null?void 0:d.minutes)===0&&(d==null?void 0:d.seconds)===0&&clearInterval(l)},1e3);return()=>clearInterval(l)},[t==null?void 0:t.delay,oe]),e.jsxs(cr,{children:[e.jsx(dr,{children:"TREASURE HUNT"}),e.jsx(ur,{children:r?Array.from({length:3},l=>l).map((l,d)=>e.jsx(mr,{},d)):t&&e.jsxs(xr,{children:[e.jsxs(fr,{children:[e.jsxs(V,{children:[e.jsx(Cr,{})," ",t.treasure_name]}),e.jsxs(V,{children:[e.jsx(_r,{})," ",t.formattedName]}),e.jsxs(V,{children:[e.jsx(Mr,{})," ",m]}),e.jsxs(V,{children:[e.jsx(Tr,{})," ",t.target," ",t.target_type==="tlm"?e.jsx(Me,{}):e.jsx($r,{})]}),e.jsxs(V,{children:[e.jsx(Er,{})," ",t.reward.replace(" TLM","")," ",e.jsx(Me,{})]})]}),e.jsxs(pr,{children:[e.jsx("img",{src:t.localImg,alt:""}),e.jsx(Q,{onClick:De,disabled:_||f!=="MINE",isLoading:_,rounded:!1,color:"solidBlue",noBorder:!0,children:f})]}),e.jsxs(hr,{children:["The Treasure Hunt is organized by Planet ",t.treasure_name,". In this event each player who mined until the community goal of TLM or Shards has been reached gets an equal share of the total reward. Mission Control shows an event as live until the rewards have been distributed. However the goal might already have been reached before the distribution happened."]})]})})]})},Vr=()=>{const t=Ke(r=>r.currentMenu);return t==="more"?e.jsxs(J,{children:[e.jsxs(yt,{children:[e.jsx(er,{}),e.jsx(lr,{})]}),e.jsx(Sr,{})]}):t==="tools"?e.jsxs(J,{children:[e.jsx(Kn,{}),e.jsx(Nn,{})]}):e.jsxs(J,{children:[e.jsxs(vt,{children:[e.jsx(St,{}),e.jsx(Ut,{}),e.jsx(mn,{})]}),e.jsx(Sn,{})]})};export{Vr as default};
