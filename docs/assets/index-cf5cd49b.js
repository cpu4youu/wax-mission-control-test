import{s as r,f as y,j as n,S as $,u as L,aC as v,b as h,R as d,p as c,B as b,h as C,aG as D,k as F}from"./index-097c526a.js";import{a as M}from"./index.esm-ba106a44.js";const R=r("div",{d:"flex",align:"flex-start",justify:"center",direction:"column",mt:"35px",w:"100%"}),A=r("h2",{d:"flex",align:"center",justify:"center",fs:"20px",mb:"15px",color:"$white500"}),m=r("p",{d:"flex",align:"center",justify:"flex-start",gap:"5px",mb:"5px",w:"100%",color:"$white500",ff:"$heading",fs:"20px","@sm":{flexWrap:"wrap"}}),g=r("span",{ff:"$heading",fw:"$bold",fs:"20px",variants:{color:{red:{color:"#E52251"},green:{color:"#00FF00"}}},"@sm":{fs:"16px"}}),S=r("div",{d:"flex",align:"center",justify:"flex-start",flexWrap:"wrap",gap:"25px",mt:"15px",w:"100%","@sm":{justify:"center"}}),w=r("div",{d:"flex",align:"flex-end",justify:"center",gap:"10px",w:"100%",">div":{w:"100%",label:{w:"100%",justifyContent:"left",mb:"5px"}},button:{align:"flex-end",w:"160px",minW:"unset",maxW:"90%",padding:"0",">div":{minH:"40px",border:"none"}}}),k=r("div",{d:"flex",align:"center",justify:"center",direction:"column",w:"250px","&:has(input:disabled)":{label:{color:"$white800"}},"@md":{fs:"15px",maxW:"150px"}}),N=r("div",{d:"flex",align:"center",justify:"center",w:"100%",h:"100%",bg:"linear-gradient(0deg, rgba(255,255,255, 0.2), rgba(255,255,255, 0.2)), rgb(0, 0, 0, 0.3)",padding:"7px 15px",br:"10px",border:"1px solid",borderColor:"$white500","&:hover":{borderColor:"#FFA800",svg:{color:"#FFA800"}},"&:not(:has(input:placeholder-shown))":{borderColor:"#FFA800",svg:{color:"$blue100"}},"&:has(input[type=search])":{padding:"0px 10px"},"&:has(input:disabled)":{cursor:"not-allowed",borderColor:"$white800",svg:{color:"$white800"}},svg:{ml:"2px",color:"$white500"}}),B=r("label",{d:"flex",align:"center",justify:"center",w:"100%",fs:"22px",ff:"$heading",fw:"$bold",textShadow:" 0px 4px 4px rgba(0, 0, 0, 0.5)",outline:"none",color:"$white500",border:"none"}),W=r("input",{d:"flex",align:"center",justify:"center",h:"100%",w:"100%",bg:"transparent",border:"none",fs:"16px",ff:"$body",fw:"$normal",outline:"none",color:"$white500","&[type=number]::-webkit-inner-spin-button":{appearance:"none",background:"transparent url(/assets/icons/arrows.png) no-repeat center center ",position:"absolute",top:"0px",right:"0px",bottom:"0px",width:"10%",opacity:1},"&::placeholder":{color:"$white800"},"@sm":{"&[type=number]::-webkit-inner-spin-button":{width:"15px",h:"0px"}}}),j=y.forwardRef((e,t)=>{const{label:s,wrapperClassName:i,...o}=e;return n.jsxs(k,{className:i,children:[n.jsx(B,{htmlFor:"input",children:s}),n.jsxs(N,{children:[n.jsx(W,{...o,ref:t,id:(o==null?void 0:o.id)??"input",placeholder:(o==null?void 0:o.placeholder)??" "}),(o==null?void 0:o.type)==="search"&&n.jsx(M,{size:30})]})]})});async function E(e,t){const{executeTransaction:s}=L(),i=I(e,t);return!!await s(i)}function I(e,t){return{actions:[{account:$.ALIEN_WORLDS,name:"transfer",authorization:[{actor:e.name,permission:e.requestPermission}],data:{from:e.name,memo:"deposit",to:"tools.mc",quantity:`${t.toFixed(4)} TLM`}}]}}const H=()=>{var u,x;const{data:e}=v(),t=h(a=>a.user),s=h(a=>a.updateTLM),i=d.useRef(null),o=d.useRef(null),[l,p]=d.useState(!1);async function T(){var a;if(t){p(!0);try{await E(t,Number((a=i.current)==null?void 0:a.value))&&(await C(2e3),D(),s(),F.success("Deposit successful"))}catch(f){console.error("Error staking tool",f)}finally{p(!1)}}}return n.jsxs(R,{children:[n.jsx(A,{children:"Deposited TLM"}),n.jsxs(m,{children:["Deposited TLM:"," ",n.jsxs(g,{color:c(e==null?void 0:e.deposit)>=0?"green":"red",children:[c(e==null?void 0:e.deposit)>=0?c(e==null?void 0:e.deposit).toFixed(4):`- ${c(e==null?void 0:e.trialtlm).toFixed(4)}`," ","TLM"," "]})]}),n.jsxs(m,{children:["Available TLM:"," ",n.jsx(g,{color:(Number((u=t==null?void 0:t.userTlm)==null?void 0:u.balance)??0)>=0?"green":"red",children:`${(x=t==null?void 0:t.userTlm)==null?void 0:x.balance} TLM`})]}),n.jsxs(S,{children:[n.jsxs(w,{children:[n.jsx(j,{ref:i,label:"Deposit TLM"}),n.jsx(b,{isLoading:l,disabled:l,onClick:T,rounded:!1,color:"solidBlue",children:"Deposit"})]}),n.jsxs(w,{children:[n.jsx(j,{ref:o,label:"Withdraw TLM"}),n.jsx(b,{isLoading:l,disabled:l,onClick:()=>console.log("tool"),rounded:!1,color:"solidBlue",children:"Withdraw"})]})]})]})};export{H as default};
