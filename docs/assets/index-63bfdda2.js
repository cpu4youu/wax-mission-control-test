import{s as o,B as U,r as l,j as t,R as D,_ as O,S as M,k as q,u as A,a5 as R,a6 as _,f as P}from"./index-b4224ac4.js";import{N as Q}from"./index-d4ded5ef.js";import{c as X,u as G,e as V,P as N,a as J}from"./index-680ff441.js";import{u as K}from"./index-a7bccf37.js";import{S as B}from"./index-b57217b6.js";import{u as Y}from"./use-transaction-20953b97.js";import{u as Z}from"./use-media-8f35a610.js";import{u as ee}from"./use-wharfkit-0287431d.js";import"./index.esm-323cbe30.js";import"./iconBase-b0c70e37.js";import"./index.esm-5a8f3f78.js";import"./index-229b784c.js";import"./toast-options-57b78c68.js";import"./sleep-da79c358.js";const te=o("div",{d:"flex",align:"center",justify:"center",direction:"column",position:"relative",w:"100%","@sm":{px:"0px"}}),ne=o("div",{d:"flex",align:"center",justify:"center",direction:"column",position:"relative",h:"165px",w:"100%",zIndex:1,img:{zIndex:-1,position:"absolute",h:"165px",w:"100%",objectFit:"cover",inset:0}}),re=o("h2",{d:"flex",align:"center",justify:"center",color:"$white500",fs:"40px",ff:"$heading",textShadow:"0px 4px 4px rgba(0, 0, 0, 0.5)",w:"100%","@sm":{fs:"24px"}}),ie=o("div",{gap:"40px",w:"100%",maxWidth:"1200px",mt:"40px",px:"15px",d:"grid",gridTemplateColumns:"1fr 1fr",gridTemplateAreas:"'user level' 'user level' 'stats stats'","@sm":{gridTemplateAreas:"'user user' 'level level' 'stats stats'"}}),oe=o("form",{d:"flex",align:"flex-start",justify:"flex-start",direction:"column",gridArea:"user",gap:"15px",bg:"rgba(255, 255, 255, 0.03)",br:"10px",padding:"20px 35px",w:"100%",label:{color:"$white500",fs:"16px",fw:"$normal"},".select":{w:"360px","[data-radix-popper-content-wrapper]":{w:"inherit"},">button":{w:"360px"}},variants:{disabled:{true:{pointerEvents:"none",position:"relative","&::after":{content:"Membership Not Active",position:"absolute",top:"0",left:"0",display:"flex",align:"center",justify:"center",color:"$white500",ff:"$heading",fs:"32px",textAlign:"center",textShadow:"0px 0px 10px rgba(255, 255, 255, .5)",w:"100%",h:"100%",bg:"rgba(0, 0, 0, .7)",br:"22px",zIndex:"1","@sm":{fs:"24px"}}}}},"@md":{">div":{maxW:"100%"}},"@sm":{padding:"20px 10px",label:{fs:"12px"},".select":{w:"250px","[data-radix-popper-content-wrapper]":{w:"inherit"}}}}),F=o(U,{w:"100%",maxW:"360px",h:"50px",mt:"20px",fs:"20px",ff:"$body","@md":{maxW:"100%"}}),I=o("h2",{d:"flex",align:"center",justify:"center",color:"$white500",ff:"$heading",fs:"24px",textAlign:"left"});o("div",{d:"flex",align:"flex-start",justify:"center",direction:"column",color:"$white500",textAlign:"left"});o("p",{d:"flex",align:"center",justify:"center",color:"$white500",fs:"12px",ff:"$heading"});o("p",{d:"flex",align:"center",justify:"center",mt:"0",color:"$blue100",textTransform:"uppercase",fs:"24px",ff:"$heading"});const se=o("div",{d:"grid",gridTemplateColumns:"1fr 1fr",gap:"10px",w:"100%","@sm":{gridTemplateColumns:"1fr"}}),S=o("div",{d:"flex",align:"flex-start",justify:"flex-start",direction:"column",color:"$white500",w:"100%","@sm":{direction:"row"}}),y=o("div",{d:"flex",align:"flex-start",justify:"flex-start",color:"$white500",ff:"$heading",fs:"14px",w:"100%","@md":{fs:"12px"},"@sm":{fs:"11px",fw:"$bold"}}),C=o("div",{d:"flex",align:"flex-start",justify:"flex-start",ff:"$heading",fs:"24px",w:"100%",svg:{m:"auto 5px",w:"20px",h:"20px"},"@md":{fs:"20px"},"@sm":{justify:"space-between",w:"95px",fw:"$bold",fs:"10px",svg:{w:"15px",h:"15px"}}}),ae=o("div",{d:"flex",align:"flex-start",justify:"flex-start",direction:"column",gridArea:"level",gap:"15px",bg:"rgba(255, 255, 255, 0.03)",br:"10px",minH:"290px",padding:"20px 35px",w:"100%","@sm":{padding:"20px"}}),ce=o("div",{d:"flex",align:"center",justify:"center",direction:"column",w:"100%"}),le=o("div",{d:"flex",align:"center",justify:"center",position:"relative",mt:"5px",w:"100%",h:"20px",br:"5px ",bg:"rgba(121, 121, 121, 0.59)"}),de=o("div",{d:"flex",align:"center",justify:"center",position:"absolute",left:"0px",h:"20px",br:"5px ",bg:"#00BAFF"}),pe=o("div",{d:"flex",align:"center",justify:"center",direction:"column",ff:"$heading",fs:"16px",mr:"auto",mt:"10px",color:"$white500","@md":{fs:"14px"},"@sm":{fs:"12px"}});function xe(n){const s=l.useRef({value:n,previous:n});return l.useMemo(()=>(s.current.value!==n&&(s.current.previous=s.current.value,s.current.value=n),s.current.previous),[n])}var E="Switch",[fe,We]=X(E),[ue,he]=fe(E),L=l.forwardRef((n,s)=>{const{__scopeSwitch:r,name:e,checked:a,defaultChecked:d,required:p,disabled:x,value:f="on",onCheckedChange:g,form:b,...u}=n,[h,k]=l.useState(null),$=G(s,c=>k(c)),w=l.useRef(!1),v=h?b||!!h.closest("form"):!0,[m=!1,i]=V({prop:a,defaultProp:d,onChange:g});return t.jsxs(ue,{scope:r,checked:m,disabled:x,children:[t.jsx(N.button,{type:"button",role:"switch","aria-checked":m,"aria-required":p,"data-state":H(m),"data-disabled":x?"":void 0,disabled:x,value:f,...u,ref:$,onClick:J(n.onClick,c=>{i(j=>!j),v&&(w.current=c.isPropagationStopped(),w.current||c.stopPropagation())})}),v&&t.jsx(me,{control:h,bubbles:!w.current,name:e,value:f,checked:m,required:p,disabled:x,form:b,style:{transform:"translateX(-100%)"}})]})});L.displayName=E;var z="SwitchThumb",W=l.forwardRef((n,s)=>{const{__scopeSwitch:r,...e}=n,a=he(z,r);return t.jsx(N.span,{"data-state":H(a.checked),"data-disabled":a.disabled?"":void 0,...e,ref:s})});W.displayName=z;var me=n=>{const{control:s,checked:r,bubbles:e=!0,...a}=n,d=l.useRef(null),p=xe(r),x=K(s);return l.useEffect(()=>{const f=d.current,g=window.HTMLInputElement.prototype,u=Object.getOwnPropertyDescriptor(g,"checked").set;if(p!==r&&u){const h=new Event("click",{bubbles:e});u.call(f,r),f.dispatchEvent(h)}},[p,r,e]),t.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...a,tabIndex:-1,ref:d,style:{...n.style,...x,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function H(n){return n?"checked":"unchecked"}var ge=L;const be=o("div",{d:"flex",align:"flex-start",justify:"flex-start",direction:"column",gap:"5px"}),we=o("label",{fs:"12px",ff:"$heading",color:"$white500"}),ve=o(ge,{all:"unset",width:88,height:35,backgroundColor:"#131313",borderRadius:"9999px",position:"relative",boxShadow:"0 2px 10px $black300",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)",svg:{"&:first-of-type":{position:"absolute",inset:"0",zIndex:1,w:"100%",h:"100%",rect:{strokeWidth:"3px",width:"calc(100% - 3px) !important",height:"calc(100% - 3px) !important",x:"1.5px",y:"1.5px"}}}}),je=o(W,{display:"block",width:21,height:21,borderRadius:"9999px",boxShadow:"0 2px 2px $black300",transition:"all 0.3s",transform:"translateX(5px)",willChange:"transform",backgroundColor:"#d3d3d3",'&[data-state="checked"]':{transform:"translateX(60px)",backgroundColor:"#FFB31F",marginRight:"2px"}}),Se=D.lazy(()=>O(()=>import("./gradient-border-2d217c44.js"),["assets/gradient-border-2d217c44.js","assets/index-b4224ac4.js","assets/index-55fec1ff.css"])),ye=({label:n,...s})=>t.jsxs(be,{children:[t.jsx(we,{children:n}),t.jsxs(ve,{...s,children:[t.jsx(Se,{}),t.jsx(je,{})]})]});async function Ce(n,s,r){const{executeTransaction:e}=Y(),a=Te(n,s,r);return!!await e(a)}function Te(n,s,r){return{actions:[{account:M.FEDERATION,name:"settag",authorization:[{actor:n.name,permission:n.authorization.permission}],data:{account:n.name,tag:s}},{account:M.MEMBERS_MC,name:"setcpu",authorization:[{actor:n.name,permission:n.authorization.permission}],data:{wallet:n.name,freecpu:r}}]}}const T=[{value:"gold",label:"Normal Mining"},{value:"green",label:"Favorite Lands By Shards"},{value:"orange",label:"Favorite Lands By TLM"},{value:"blue",label:"Mine Maximizer"},{value:"red",label:"Tool Loaning"}],He=()=>{var v,m;const{unAuthorize:n}=ee(),{isSmall:s}=Z(),{data:r}=q(),e=A(i=>i.user),a=r==null?void 0:r.find(i=>i.level===(e==null?void 0:e.level)),[d,p]=l.useState(!0),[x,f]=l.useState(T.find(i=>i.value===(e==null?void 0:e.miningType))??T[1]),[g,b]=l.useState(void 0),u=l.useMemo(()=>(r==null?void 0:r.findIndex(i=>i.level===(e==null?void 0:e.level)))??0,[r,e==null?void 0:e.level]),h=((e==null?void 0:e.experience)??0)/((a==null?void 0:a.xp_to_level_up)??100)*100;async function k(i){i.preventDefault();const c={name:i.target.input.value};if(!e)return null;try{await Ce(e,c.name,d?1:0)&&P.success("Settings updated successfully")}catch{P.error("Error updating settings")}}function $(i){A.setState(c=>({...c,user:c.user?{...c.user,miningType:(i==null?void 0:i.value)??"gold"}:null})),f(i??T[1]),localStorage.setItem("miningType",(i==null?void 0:i.value)??"gold")}function w(i){b(i);const c=_.findIndex(j=>j.value===(i==null?void 0:i.value)).toString();localStorage.setItem(`${R}_server`,c??"0"),window.location.reload()}return l.useEffect(()=>{const i=localStorage.getItem(`${R}_server`),c=_[Number(i??0)];b(c),p((e==null?void 0:e.freecpu)===1)},[e]),t.jsxs(te,{children:[t.jsxs(ne,{children:[t.jsx(re,{children:"User Area"}),t.jsx("img",{src:"/assets/background/bg-user-area.jpeg",alt:""})]}),t.jsxs(ie,{children:[t.jsxs(oe,{disabled:!(e!=null&&e.member)&&!(e!=null&&e.trial)||!(e!=null&&e.isMember),onSubmit:k,children:[t.jsx(I,{children:"User Settings"}),t.jsx(Q,{label:"Player Tag",defaultValue:e==null?void 0:e.playertag,borderColor1:"#FFB31F",borderColor2:"#FFB31F"}),t.jsx(ye,{id:"minersUnion",checked:d,onCheckedChange:()=>p(!d),label:"Help Mission control run smoothly, receive CPU in return"}),t.jsx(B,{className:"select",title:"Tool Loaning",label:"Mining button type in header",selected:x,options:T,onSelected:$}),t.jsx(B,{isLoading:!g,className:"select",title:"Tool Loaning",label:"API Endpoint",selected:g,options:_,onSelected:w}),t.jsx(F,{color:"solidBlue",rounded:!1,type:"submit",children:"Save"})]}),t.jsxs(ae,{children:[t.jsx(I,{children:"Player Level"}),t.jsxs(se,{children:[t.jsxs(S,{children:[t.jsx(y,{children:"Current Level"}),t.jsx(C,{children:(e==null?void 0:e.level)??1})]}),t.jsxs(S,{children:[t.jsx(y,{children:"Questing Multiplier"}),t.jsx(C,{children:Number(((v=r==null?void 0:r[u])==null?void 0:v.quest_power)??0).toFixed(2)})]}),t.jsxs(S,{children:[t.jsx(y,{children:"Next Level"}),t.jsx(C,{children:((e==null?void 0:e.level)??1)+1})]}),t.jsxs(S,{children:[t.jsx(y,{children:"Questing Multiplier"}),t.jsx(C,{children:Number(((m=r==null?void 0:r[u+1])==null?void 0:m.quest_power)??0).toFixed(2)})]})]}),t.jsxs(ce,{children:[t.jsxs(pe,{children:[(e==null?void 0:e.experience)??0,"/",(a==null?void 0:a.xp_to_level_up)??0," experience to level up"]}),t.jsx(le,{children:t.jsx(de,{style:{width:`${h}%`}})})]}),s&&t.jsx(F,{color:"solidBlue",rounded:!1,onClick:n,children:"Logout"})]})]})]})};export{He as default,T as options};
