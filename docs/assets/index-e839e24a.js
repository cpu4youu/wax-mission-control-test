import{s as r,S,u as T,aE as _,aF as B,b as L,R as u,j as e,B as j,ax as w,aH as C,aw as A,h as O,aJ as E,k as R}from"./index-a74e6323.js";import{C as H}from"./index-91546547.js";import{P as N}from"./pickaxe-90efe154.js";import{a as I}from"./index.esm-2753b6dd.js";import{C as M}from"./check-520a721d.js";const V=r("div",{d:"flex",align:"flex-start",justify:"center",direction:"column",mt:"35px",w:"100%",button:{w:"100%",h:"45px",fs:"16px",maxW:"230px",minW:"130px",minH:"unset",">div":{border:"none"}}}),W=r("h2",{d:"flex",align:"center",justify:"center",mb:"15px",fs:"20px",color:"$white500"}),F=r("div",{d:"flex",align:"center",gap:"15px",w:"100%"}),G=r("div",{d:"grid",gridTemplateColumns:"repeat(2, minmax(160px, 1fr))",gap:"15px",mt:"15px",w:"100%","@sm":{gridTemplateColumns:"repeat(1, minmax(160px, 1fr))",justify:"center"}}),P=r("div",{d:"flex",align:"center",justify:"center",gap:"25px",px:"5px","@sm":{mt:"5px",align:"flex-start",w:"100%",gap:"15px"},"@xsm":{gap:"5px",direction:"column",button:{mb:"3px",w:"100%",maxW:"100%",minW:"unset",minH:"unset"}}}),Q=r("div",{d:"flex",align:"center",justify:"flex-start",position:"relative",input:{opacity:0,zIndex:1,w:"25px",h:"25px","& ~ div svg":{d:"none"}},"input:checked ~ div":{bg:"#333333",svg:{d:"flex"}},"@sm":{ml:"auto",img:{w:"55px"}}}),$=r("div",{d:"flex",align:"center",justify:"center",direction:"column",position:"absolute",top:"0px",left:"0px",w:"25px",h:"25px",bg:"#fff",border:"3px solid #5A5A5A",borderRadius:"6px",svg:{w:"15px",h:"15px",path:{fill:"white"}}}),q=r("div",{d:"flex",align:"center",justify:"flex-end",gap:"5px","@sm":{gap:"15px"}}),f=r("div",{d:"flex",align:"center",justify:"center",gap:"5px",textShadow:"2px 1px 4px rgba(0, 0, 0)",svg:{filter:"drop-shadow(3px 5px 2px rgb(0 0 0 / 0.6))",w:"20px",h:"20px"}}),m=r("p",{d:"flex",align:"center",justify:"center",w:"max-content",color:"$white500",textShadow:"2px 1px 4px rgba(0, 0, 0)",fs:"12px",ff:"$heading",fw:"400"});async function z(s,n){const{executeTransaction:c}=T(),d=D(s,n);return!!await c(d)}function D(s,n){return{actions:[{account:S.TOOLS_MC,name:"settemplist",authorization:[{actor:s.name,permission:s.requestPermission}],data:{wallet:s.name,temp_ids:n}}]}}const Z=()=>{var g;const{data:s}=_(),{data:n}=B(),c=L(t=>t.user),d=u.useCallback(()=>{var t;return(((t=n==null?void 0:n.tempid_allow_list)==null?void 0:t.length)||0)>0?(n==null?void 0:n.tempid_allow_list)??[]:(s==null?void 0:s.filter(i=>{var a;return!((a=n==null?void 0:n.tempid_allow_list)!=null&&a.some(p=>p===i.template_id))}).map(i=>i.template_id))??[]},[n,s]),[o,l]=u.useState(d()),[x,h]=u.useState(!1);async function k(){if(c){h(!0);try{await z(c,o)&&(await O(2e3),E(),R.success("Config saved"))}catch(t){console.error("Error staking tool",t)}finally{h(!1)}}}function b(t,i){var p;const a=(p=t.target)==null?void 0:p.checked;l(a?[...o,i.template_id]:o.filter(y=>y!==i.template_id))}function v(){if((s==null?void 0:s.length)===o.length)l([]);else{const t=(s==null?void 0:s.map(i=>i.template_id))??[];l(t)}}return e.jsxs(V,{children:[e.jsx(W,{children:"ENABLE OR DISABLE TOOLS FOR USE WITH THE MINE BUTTON"}),e.jsxs(F,{children:[e.jsx(j,{isLoading:x,disabled:x,onClick:k,rounded:!1,color:"solidBlue",children:"Save Config"}),e.jsx(j,{isLoading:x,disabled:x,onClick:v,rounded:!1,color:"solidBlue",children:"Check All"})]}),e.jsx(G,{children:(g=s==null?void 0:s.sort((t,i)=>w[t.rarity]-w[i.rarity]||C[t.shine]-C[i.shine]))==null?void 0:g.map((t,i)=>e.jsx(H,{showNumberBracket:!0,direction:"row",tool:t,children:e.jsxs(P,{children:[e.jsxs(q,{children:[e.jsxs(f,{children:[e.jsx(N,{}),e.jsx(m,{children:t.mining_power})]}),e.jsxs(f,{children:[e.jsx(A,{}),e.jsx(m,{children:t.pow})]}),e.jsxs(f,{children:[e.jsx(I,{color:"white"}),e.jsxs(m,{children:[t.cooldown_seconds," sec"]})]})]}),e.jsxs(Q,{children:[e.jsx("input",{type:"checkbox",checked:o.some(a=>a===t.template_id),onChange:a=>b(a,t),required:!0}),e.jsx($,{children:e.jsx(M,{})})]})]})},i))})]})};export{Z as default};
