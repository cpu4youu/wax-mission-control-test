import{s,S as j,u as w,aE as C,b as v,R as f,j as e,B as S,aw as T,h as b,aI as k,k as y}from"./index-82d41943.js";import{C as B}from"./index-686daa53.js";import{P as A}from"./pickaxe-81d7c6bf.js";import{a as E}from"./index.esm-30894d64.js";import{C as L}from"./check-92d8f0e6.js";const O=s("div",{d:"flex",align:"flex-start",justify:"center",direction:"column",mt:"35px",w:"100%",button:{w:"100%",h:"45px",fs:"16px",maxW:"230px",minW:"130px",minH:"unset",">div":{border:"none"}}}),R=s("h2",{d:"flex",align:"center",justify:"center",mb:"15px",fs:"20px",color:"$white500"}),_=s("div",{d:"grid",gridTemplateColumns:"repeat(2, minmax(160px, 1fr))",gap:"15px",mt:"15px",w:"100%","@sm":{gridTemplateColumns:"repeat(1, minmax(160px, 1fr))",justify:"center"}}),W=s("div",{d:"flex",align:"center",justify:"center",gap:"25px",px:"5px","@sm":{w:"100%",gap:"15px"},"@xsm":{gap:"5px",direction:"column",button:{mb:"3px",w:"100%",maxW:"100%",minW:"unset",minH:"unset"}}}),I=s("div",{d:"flex",align:"center",justify:"flex-start",position:"relative",input:{opacity:0,zIndex:1,w:"25px",h:"25px","& ~ div svg":{d:"none"}},"input:checked ~ div":{bg:"#333333",svg:{d:"flex"}},"@sm":{img:{w:"55px"}}}),N=s("div",{d:"flex",align:"center",justify:"center",direction:"column",position:"absolute",top:"0px",left:"0px",w:"25px",h:"25px",bg:"#fff",border:"3px solid #5A5A5A",borderRadius:"6px",svg:{w:"15px",h:"15px",path:{fill:"white"}}}),H=s("div",{d:"flex",align:"center",justify:"flex-end",gap:"5px","@sm":{gap:"15px"}}),x=s("div",{d:"flex",align:"center",justify:"center",gap:"5px",svg:{w:"20px",h:"20px"}}),d=s("p",{d:"flex",align:"center",justify:"center",w:"max-content",color:"$white500",fs:"12px",ff:"$heading",fw:"400"});async function M(n,a){const{executeTransaction:i}=w(),o=V(n,a);return!!await i(o)}function V(n,a){return{actions:[{account:j.TOOLS_MC,name:"settemplist",authorization:[{actor:n.name,permission:n.requestPermission}],data:{wallet:n.name,temp_ids:a}}]}}const F=()=>{const{data:n}=C(),a=v(t=>t.user),[i,o]=f.useState([]),[l,p]=f.useState(!1);async function m(){if(a){p(!0);try{await M(a,i)&&(await b(2e3),k(),y.success("Config saved"))}catch(t){console.error("Error staking tool",t)}finally{p(!1)}}}function h(t,c){var u;const r=(u=t.target)==null?void 0:u.checked;o(r?[...i,c.template_id]:i.filter(g=>g!==c.template_id))}return e.jsxs(O,{children:[e.jsx(R,{children:"ENABLE OR DISABLE TOOLS FOR USE WITH THE MINE BUTTON"}),e.jsx(S,{isLoading:l,disabled:l,onClick:m,rounded:!1,color:"solidBlue",children:"Save Config"}),e.jsx(_,{children:n==null?void 0:n.map((t,c)=>e.jsx(B,{showNumberBracket:!0,direction:"row",tool:t,children:e.jsxs(W,{children:[e.jsxs(H,{children:[e.jsxs(x,{children:[e.jsx(A,{}),e.jsx(d,{children:t.mining_power})]}),e.jsxs(x,{children:[e.jsx(T,{}),e.jsx(d,{children:t.pow})]}),e.jsxs(x,{children:[e.jsx(E,{color:"white"}),e.jsxs(d,{children:[t.cooldown_seconds," sec"]})]})]}),e.jsxs(I,{children:[e.jsx("input",{type:"checkbox",checked:i.some(r=>r===t.template_id),onChange:r=>h(r,t),required:!0}),e.jsx(N,{children:e.jsx(L,{})})]})]})},c))})]})};export{F as default};
