import{e as Fn,s as o,c as qn,S as k,u as zn,r as Bn,T as H,g as Mn,a as Ln,Q as z,b as B,q as W,d as Pn,i as Qn,f as T,j as n,R as V,_ as Rn,h as Vn,k as q,I as Q,v as K,B as R,l as Un,m as mn,G as On,o as Gn}from"./index-553a103f.js";import{B as N,H as Kn}from"./index.esm-0df37779.js";import{u as Yn}from"./inventory-query-33c4e8f5.js";import{i as Wn}from"./index-ee15de80.js";const Xn=Fn({"0%":{backgroundPosition:"0% 0%"},"100%":{backgroundPosition:"-135% 0%"}}),Jn=o("div",{d:"flex",align:"center",justify:"center",direction:"column",w:"100%",maxW:"1190px"}),Zn=o("h2",{d:"flex",align:"center",justify:"center",color:"$white500",textShadow:"0px 4px 4px rgba(0, 0, 0, 0.9)",fs:"40px",w:"100%",mt:"60px","@sm":{mt:"0px",fs:"26px"}}),ns=o("div",{d:"flex",align:"center",justify:"center",gap:"20px",w:"100%",mt:"20px",position:"relative",">svg":{position:"absolute",left:"0px",cursor:"pointer"},"@sm":{">svg":{top:"-55px",left:"10px"}}}),G=o("button",{d:"flex",align:"center",justify:"center",color:"$white500",ff:"$heading",fs:"26px",fw:"700",textShadow:"0px 4px 4px rgba(0, 0, 0, 0.5)",variants:{isActive:{true:{color:"$yellow500"}}},"@sm":{fs:"16px"}}),ss=o("div",{mt:"30px",w:"100%",height:"450px",background:"linear-gradient( -90deg, rgba(3, 16, 32, 0.40), rgba(3, 16, 32, 0.75) ,rgba(3, 16, 32, 0.40))",br:"10px",backgroundSize:"400% 400%",animation:`${Xn} 1.2s ease-in-out infinite`}),es=o("div",{d:"flex",align:"center",justify:"flex-start",direction:"column",mt:"30px",w:"100%","@md":{direction:"column",padding:"0 10px"}}),rs=o("div",{d:"flex",align:"flex-start",justify:"flex-start",direction:"column",gap:"20px",padding:"0 5px 15px 0",w:"100%",maxW:"1190px"});o("div",{d:"flex",align:"flex-start",justify:"flex-start",direction:"column",gap:"20px",w:"100%",h:"calc(100vh - 380px)",pr:"5px",overflow:"auto"});const ts=o("div",{d:"flex",align:"center",justify:"center",direction:"column",br:"10px",background:"rgba(3, 16, 32, 0.65)",padding:"30px 18px",color:"$white500",ff:"$heading",fs:"36px",fw:"bold",textAlign:"center",w:"100%",maxW:"1190px",minH:"450px"}),as=o("div",{d:"flex",align:"flex-start",justify:"flex-start",direction:"column",br:"10px",background:"rgba(3, 16, 32, 0.65)",padding:"30px 18px",w:"100%",maxW:"1190px",">button":{d:"none"},"@md":{position:"relative",align:"center",justify:"center",padding:"10px 5px",">button":{d:"flex"}}}),os=o("div",{d:"flex",align:"center",justify:"center",color:"$white500",textShadow:"0px 4px 4px rgba(0, 0, 0, 0.9)",ff:"$heading",fs:"16px","@sm":{m:"5px auto 0",textAlign:"center",fs:"10px"}}),ls=o("div",{d:"flex",align:"center",justify:"space-between",w:"100%",">button ":{fs:"18px","> div":{h:"50px"}},"@md":{zIndex:1,direction:"column",">button ":{d:"none"}}}),is=o("div",{d:"flex",align:"flex-start",justify:"flex-start",direction:"column","@md":{w:"100%",h:"155px"}}),ds=o("h2",{d:"flex",align:"flex-start",justify:"flex-start",color:"$white500",textShadow:"0px 4px 4px rgba(0, 0, 0, 0.9)",fs:"40px",w:"100%","@md":{my:"10px"},"@sm":{align:"center",justify:"center",my:"0px",order:-1,textAlign:"center",fs:"20px"}}),xs=o("div",{d:"flex",align:"center",justify:"center",gap:"10px",span:{d:"flex",align:"center",justify:"center",textShadow:"0px 4px 4px rgba(0, 0, 0, 0.9)",color:"$white500",ff:"$heading",fs:"16px",svg:{ml:"5px"}},"@sm":{gap:"0px",direction:"column",mt:"auto",">span":{justify:"flex-start",w:"100%",fs:"12px"}}}),ps=o("div",{d:"flex",align:"center",justify:"space-between",w:"100%",mt:"30px"}),cs=o("div",{position:"relative",overflow:"hidden",minWidth:"382px",height:"249px",img:{br:"10px",width:"382px",height:"249px",objectFit:"cover"},"@md":{position:"absolute",minWidth:"100%",width:"100%",h:"170px",top:0,left:0,img:{width:"100%",h:"170px",position:"absolute"}}}),fs=o("div",{d:"flex",align:"center",justify:"center",direction:"column",zIndex:"1",w:"300px",padding:"0 0 5px",position:"absolute",right:"-90px",top:"40px",transform:"rotate(45deg)",bg:"#65B5FF",color:"$white500",ff:"$heading",span:{fw:"$bold",fs:"20px"},p:{fs:"16px"},"@md":{transform:"rotate(315deg)",w:"210px",top:"115px",right:"-70px",span:{pt:"5px",fs:"12px"},p:{fs:"8px"}}}),us=o("div",{d:"flex",align:"center",justify:"space-between",direction:"column",flexWrap:"wrap",gap:"5px",maxH:"320px",w:"100%","@sm":{d:"grid",gridTemplateColumns:"repeat(5, 1fr)",gap:"5px",mb:"10px"}}),gs=o("div",{d:"flex",align:"center",justify:"space-between",padding:"10px 15px",w:"350px",br:"9px",border:"0px solid #FFF",color:"$white500",variants:{firstFive:{true:{background:"linear-gradient(90deg, #1B1B1B 0%, rgba(0, 0, 0, 0.00) 100%)"},false:{background:"linear-gradient(270deg, #1B1B1B 0%, rgba(0, 0, 0, 0.00) 100%)"}},lock:{true:{"@sm":{background:"linear-gradient(90deg, #4B4B4B96 0%, #53535396 100%) !important"}},false:{"@sm":{background:"linear-gradient(90deg, #1B1B1B 0%, #000 100%) !important"}}}},"@sm":{justify:"center",w:"100%",height:"47px",padding:"5px"},"@xsm":{width:"53px"}}),hs=o("span",{ff:"$heading",fs:"16px","@sm":{display:"none"}}),ws=o("div",{d:"flex",align:"flex-end",justify:"center",direction:"column",span:{ff:"$heading",textAlign:"right"},variants:{firstFive:{true:{align:"flex-start",order:-1,">span":{textAlign:"left"},"@sm":{align:"center"}}}},"@sm":{align:"center",width:"53px",height:"47px"}}),vs=o("span",{ff:"$heading",fs:"10px",fw:"bold","@sm":{mb:"4px",fs:"15px"},"@xsm":{fs:"8px"}}),js=o("span",{ff:"$heading",fs:"16px",textAlign:"center","@sm":{fs:"12px"},"@xsm":{fs:"6px"}}),C=qn((s,e)=>({advTemplate:void 0,updateAdvTemplate:l=>bs(s,l),advActives:{available:[],claimable:[]},updateAdvActives:l=>ys(s,l),selectedAdventure:void 0,updateSelectedAdventure:l=>$s(s,l)}));function bs(s,e){s(l=>({...l,advTemplate:e}))}function ys(s,e){s(l=>({...l,advActives:e}))}function $s(s,e){s(l=>({...l,selectedAdventure:e}))}const _s=Fn({"0%":{backgroundPosition:"0% 0%"},"100%":{backgroundPosition:"-135% 0%"}}),As=o("div",{d:"flex",align:"center",justify:"flex-start",direction:"column",w:"100%",maxW:"1190px",br:"10px",background:"rgba(3, 16, 32, 0.95)",">button":{mt:"20px",h:"50px",fs:"22px"},"@sm":{">button":{my:"10px"}}}),Cs=o("div",{d:"flex",align:"flex-start",justify:"flex-start",position:"relative",overflow:"hidden",direction:"column",w:"100%",minH:"300px",br:"10px",img:{br:"10px 10px 0 0",mt:"-120px",objectFit:"cover",w:"100%",height:"294px",inset:"0"},"@sm":{position:"relative",minH:"initial",img:{mt:"-170px",h:"170px"}}}),Ss=o("div",{d:"flex",align:"center",justify:"center",direction:"column",zIndex:"1",w:"450px",padding:"0 0 10px",position:"absolute",right:"-105px",top:"65px",transform:"rotate(45deg)",bg:"#65B5FF",color:"$white500",ff:"$heading",span:{fw:"$bold",fs:"33px"},p:{fs:"21px"},"@sm":{transform:"rotate(315deg)",w:"210px",top:"100px",right:"-65px",span:{pt:"5px",fs:"12px"},p:{fs:"8px"}}}),ks=o("div",{d:"flex",align:"flex-start",justify:"flex-start",direction:"column",zIndex:"1",padding:"20px",p:{d:"flex",align:"center",justify:"center",color:"$white500",ff:"$heading",fs:"16px",textShadow:"0px 4px 4px rgba(0, 0, 0, 0.9)",svg:{ml:"5px"}},"@sm":{mt:"80px",p:{fs:"10px"}}}),Ts=o("div",{d:"flex",align:"flex-start",justify:"flex-start",direction:"column",padding:"10px 20px","@sm":{align:"center",justify:"center",position:"absolute",padding:"5px 10px",w:"100%"}}),Is=o("span",{color:"$white500",ff:"$heading",fs:"16px",textShadow:"0px 4px 4px rgba(0, 0, 0, 0.9)","@sm":{order:1,textAlign:"center",fs:"10px"}}),Es=o("h2",{color:"$white500",textShadow:"0px 4px 4px rgba(0, 0, 0, 0.9)",fs:"40px",w:"100%","@sm":{textAlign:"center",fs:"20px"}}),Ds=o("span",{color:"$white500",ff:"$heading",fs:"16px",padding:"0 20px 20px","@sm":{padding:"10px",fs:"12px",textAlign:"center"}}),Fs=o("div",{d:"flex",align:"center",justify:"space-between",w:"100%",padding:"0 20px",mt:"100px","@xlg":{flexWrap:"wrap"},"@sm":{padding:"0px",mt:"0px",direction:"column"},"@xsm":{}});o("div",{d:"flex",align:"center",justify:"space-between",direction:"column",gap:"5px",w:"100%",maxW:"550px"});const An=o("div",{d:"flex",align:"center",justify:"space-between",direction:"column",w:"290px",gap:"5px",color:"$white500","@sm":{w:"100%",mt:"5px",px:"4px",direction:"row"}}),Cn=o("div",{d:"flex",align:"center",justify:"space-between",padding:"10px 15px",w:"290px",br:"9px",border:"0px solid #FFF",color:"$white500",variants:{lock:{true:{"@sm":{background:"linear-gradient(90deg, #4B4B4B96 0%, #53535396 100%)"}},false:{"@sm":{background:"linear-gradient(90deg, #1B1B1B 0%, #000 100%)"}}},firstFive:{true:{"@media(min-width: 768px)":{background:"linear-gradient(90deg, #1B1B1B 0%, rgba(0, 0, 0, 0.00) 100%)"}},false:{"@media(min-width: 768px)":{background:"linear-gradient(270deg, #1B1B1B 0%, rgba(0, 0, 0, 0.00) 100%)"}}},leftSelected:{true:{background:"linear-gradient(90deg, #019D8A 0%, rgba(1, 120, 157, 0.00) 100%)","@sm":{background:"linear-gradient(180deg, #019D8A 0%, rgba(1, 120, 157, 0.00) 100%)"}}},rightSelected:{true:{background:"linear-gradient(270deg, #019D8A 0%, rgba(1, 120, 157, 0.00) 100%)","@sm":{background:"linear-gradient(0deg, #019D8A 0%, rgba(1, 120, 157, 0.00) 100%)"}}}},"@sm":{direction:"column",justify:"center",width:"100%",height:"47px",padding:"5px"}}),Sn=o("span",{ff:"$heading",fs:"16px","@sm":{order:1,fs:"8px"}}),kn=o("div",{d:"flex",align:"flex-end",justify:"center",direction:"column",">span":{ff:"$heading",textAlign:"right"},variants:{firstFive:{true:{align:"flex-start",order:-1,">span":{textAlign:"left"},"@sm":{align:"center",">span":{textAlign:"center"}}}}},"@sm":{align:"center",justify:"flex-start",">span":{textAlign:"center"}}}),Tn=o("span",{ff:"$heading",fs:"10px",fw:"bold","@sm":{mb:"1px",fs:"8px"}}),In=o("span",{ff:"$heading",fs:"16px",textAlign:"center","@sm":{fs:"6px"}}),zs=o("div",{d:"flex",align:"center",justify:"center",direction:"column",w:"100%","@xlg":{order:1}}),Bs=o("div",{d:"flex",align:"center",justify:"center",gap:"20px",mb:"20px","@sm":{m:"20px 0 0px",gap:"10px"}}),P=o("button",{d:"flex",align:"center",justify:"center",fs:"20px",ff:"$heading",fw:"$bold",color:"$white500",variants:{isSelected:{true:{textUnderlineOffset:"0.5em",textDecoration:"underline"}}},"@sm":{fs:"10px"}}),Ms=o("div",{d:"flex",align:"flex-start",justify:"center",variants:{isInventoryOpen:{true:{flexWrap:"wrap",width:"100%",maxH:"525px",gap:"5px",overflowY:"auto"},false:{img:{"&:hover":{transform:"scale(1.05)",zIndex:"4"},"&:nth-of-type(1)":{transform:"translate(60px,20px) rotate(-20deg)",zIndex:"3","&:hover":{transform:"scale(1.05) translate(60px,20px) rotate(-20deg)",zIndex:"4"}},"&:nth-of-type(3)":{transform:"translate(-60px,20px) rotate(20deg)",zIndex:"1","&:hover":{transform:"scale(1.05) translate(-60px,20px) rotate(20deg)",zIndex:"4"}}},"@sm":{img:{transition:"all 0.2s ease-in-out","&:hover":{transform:"scale(1.05)",zIndex:"4"},"&:nth-of-type(1)":{transform:" rotate(-20deg) translate(0px,15px)",zIndex:"3","&:hover":{transform:"scale(1.05) translate(0px,15px) rotate(-20deg)",zIndex:"4"}},"&:nth-of-type(3)":{transform:"rotate(20deg) translate(0px,15px)",zIndex:"1","&:hover":{transform:"scale(1.05) translate(0px,15px) rotate(20deg)",zIndex:"4"}}}}}}},"@sm":{gap:"20px",mt:"20px"}}),D=o("img",{cursor:"pointer",transition:"all 0.2s ease-in-out",width:"174px",height:"259px",zIndex:"2","@sm":{width:"110px",height:"150px"},"@xsm":{width:"70px",height:"100px"}}),Ls=o("div",{width:"174px",height:"259px",background:"linear-gradient( -90deg, rgba(255, 255, 255, 0.15), rgba(255, 255, 255, 0.25) ,rgba(255, 255, 255, 0.15))",br:"10px",backgroundSize:"400% 400%",animation:`${_s} 1.2s ease-in-out infinite`,"@sm":{width:"70px",height:"100px"}}),Ps=o("div",{d:"flex",align:"center",justify:"center",direction:"column",mt:"40px",span:{ff:"$heading",fs:"28px",color:"$green500","&:first-child":{color:"$white500",fs:"24px"}},"@sm":{mt:"20px",span:{fs:"18px","&:first-child":{fs:"14px"}}}}),Rs=o("span",{color:"$white500",padding:"20px",ff:"$heading",fs:"16px","@sm":{padding:"0px 10px 20px",textAlign:"center",fs:"10px"}});async function Vs({user:s,adventureid:e,assets_ids:l}){const i=Us(s,e,l),{executeTransaction:c}=zn();return!!await c(i)}function Us(s,e,l){const i={actions:[]};return l.length>0?(i.actions.push({account:"atomicassets",name:"transfer",authorization:[{actor:s.name,permission:s.requestPermission}],data:{from:s.name,to:"adventure.mc",memo:`mcadventure,${e}`,asset_ids:l}}),i):(i.actions.push({account:k.ADVENTURE_MC,name:"joinadv",authorization:[{actor:s.name,permission:s.requestPermission}],data:{wallet:s.name,adventureid:e}}),i)}const ms=async()=>{let s=!1,e;const l=[];for(;!s;){const i=await Bn.get_table_rows({code:k.ADVENTURE_MC,index_position:1,reverse:!0,limit:"10000",scope:k.ADVENTURE_MC,table:H.ADVENTURES,upper_bound:e});s=!i.more,l.push(...i.rows.slice(0,-1)),e=i.next_key}return l},Ws=async s=>await Mn({options:{code:k.ADVENTURE_MC,index_position:3,key_type:"i64",limit:"1000",lower_bound:s,upper_bound:s,scope:k.ADVENTURE_MC,table:H.PARTICIPANTS}}),Ns=async()=>await Mn({options:{code:k.ADVENTURE_MC,index_position:1,limit:"1000",scope:k.ADVENTURE_MC,table:H.LEVEL_UNLOCKS}});function Y(){const s=new Date;return new Date(s.getUTCFullYear(),s.getUTCMonth(),s.getUTCDate(),s.getUTCHours(),s.getUTCMinutes(),s.getUTCSeconds())}const Hs=()=>Ln({queryKey:[z.ADVENTURES],queryFn:()=>qs(),staleTime:1e3*60*60,enabled:!!B.getState().user&&!!W.getQueryData(z.ADV_TEMPLATES)});async function X(){return W.removeQueries([z.ADVENTURES]),await W.invalidateQueries([z.ADVENTURES])}async function qs(){try{const s=await ms(),e=W.getQueryData(z.ADV_TEMPLATES),l=B.getState().user;if(!s||!l||!e)return{available:null,participants:null,claimable:null};const i=Os(e),c=C.getState().updateAdvTemplate;c(i);const x=await Ws(l==null?void 0:l.name),p=await Qs(s,l,x);if(!x)return{available:p,participants:null,claimable:null};const t=En("participants",x,s,i),f=En("claimable",x,s,i);return{available:p,participants:t,claimable:f}}catch(s){return console.log(s),null}}async function Qs(s,e,l){const i=await Ns();return s.filter(c=>Wn(Y(),new Date((c==null?void 0:c.enter_end)??""))).filter(c=>!(l!=null&&l.some(x=>c.adventureid===x.adventureid))).map(c=>{var x;return{...c,mods:(x=c.mods)==null?void 0:x.map((p,t)=>{var f,r;return(((f=i==null?void 0:i[t])==null?void 0:f.level)??1)>((e==null?void 0:e.level)??1)?{...p,lock:!0,level_to_unlock:((r=i==null?void 0:i[t])==null?void 0:r.level)??1}:{...p,lock:!1}}),formatted_enter_end:Pn(new Date((c==null?void 0:c.enter_end)??""))}})}function Os(s){return s.map(e=>({...e,"nft.mp":e.nft_mp,"tlm.mp":e.tlm_mp}))}function En(s,e,l,i){var c,x,p;return s==="participants"?(x=(c=e==null?void 0:e.filter(t=>Wn(Y(),new Date((t==null?void 0:t.return_date)??""))))==null?void 0:c.sort((t,f)=>+new Date(t.return_date??"")-+new Date(f.return_date??"")))==null?void 0:x.map(t=>{var u;const f=l==null?void 0:l.find(d=>d.adventureid===t.adventureid),r=(u=t==null?void 0:t.template_ids)==null?void 0:u.map(d=>i==null?void 0:i.find(y=>y.templateid===d));return{...f,...t,cards:r,formatted_return:Pn(new Date((t==null?void 0:t.return_date)??""))}}):(p=e==null?void 0:e.filter(t=>Qn(Y(),new Date((t==null?void 0:t.return_date)??""))))==null?void 0:p.map(t=>{var u;const f=l==null?void 0:l.find(d=>d.adventureid===t.adventureid),r=(u=t==null?void 0:t.template_ids)==null?void 0:u.map(d=>i==null?void 0:i.find(y=>y.templateid===d));return{...f,...t,cards:r}})}const Dn=o("span",{color:"$white500",fw:"$bold",ff:"$heading",fs:"14px"}),Gs=({text:s,characterLimit:e=100})=>{const[l,i]=T.useState(!1),c=()=>{i(!0)},x=p=>{const t=p!=null;return t&&p.length<=e?n.jsx("div",{children:p}):t&&p.length>e&&l?n.jsxs("div",{children:[s,n.jsx("br",{}),n.jsx(Dn,{onClick:()=>i(!1),children:"Show less"})]}):t&&p.length>e?n.jsxs("div",{children:[p.slice(0,e),n.jsx("span",{children:"... "}),n.jsx(Dn,{onClick:()=>c(),children:"Show more"})]}):n.jsx("div",{})};return n.jsx("div",{children:x(s)})},Ks=V.lazy(()=>Rn(()=>import("./star-de58f6ff.js"),["assets/star-de58f6ff.js","assets/index-553a103f.js","assets/index-55fec1ff.css"])),Ys=({selected:s})=>{var nn,sn,en,rn,tn,an,on,ln,dn,xn,pn,cn,fn,un,gn,hn,wn,vn,jn,bn,yn,$n,_n;const{isSmall:e}=Vn(),l=B(a=>a.user),i=C(a=>a.advActives),c=C(a=>a.updateAdvActives),x=C(a=>a.advTemplate),p=C(a=>a.updateSelectedAdventure),[t,f]=T.useState(!1),[r,u]=T.useState(-1),[d,y]=T.useState(100),[I,E]=T.useState({}),[$,S]=T.useState("crew.worlds"),[j,M]=T.useState([void 0,void 0,void 0]),{data:v,isLoading:U}=Yn($);function F(a){u(a)}function m(a){if(!a){const g=j.map((_,b)=>{if(b!==r)return _});J(g),u(-1),M(g);return}if(j.some(g=>(g==null?void 0:g.asset_id)===(a==null?void 0:a.asset_id))){u(-1);return}const h=j.map((g,_)=>_===r?a:g);J(h),u(-1),M(h)}function J(a){if(!s)return;let h={};a.forEach(_=>{const b=x==null?void 0:x.find(A=>(A==null?void 0:A.templateid)===Number(_==null?void 0:_.template.template_id));if(!b)return;const Hn=s.mods.reduce((A,w,O)=>{if(w!=null&&w.lock)return A;if(w.affix_value!==99999&&w.affix_value===(b==null?void 0:b[w.affix_type])){const L=1+(w==null?void 0:w.mod_value)/100;return A[O]=L,A}if(w.affix_type==="element"&&(w.affix_string.toLocaleLowerCase()===(b==null?void 0:b.element.toLocaleLowerCase())||w.affix_string.toLocaleLowerCase()===(b==null?void 0:b.weaponclass.toLocaleLowerCase()))){const L=1+(w==null?void 0:w.mod_value)/100;return A[O]=L,A}if(w.affix_string!=="-"&&w.affix_string.toLocaleLowerCase()===String(b==null?void 0:b[w.affix_type]).toLocaleLowerCase()){const L=1+(w==null?void 0:w.mod_value)/100;return A[O]=L,A}return A},{});h={...h,...Hn}});const g=Object.values(h).reduce((_,b)=>_*b,100);E(h),y(g)}async function Nn(){if(!(!l||!s))try{f(!0);const a=j.filter(g=>!!(g!=null&&g.asset_id)).map(g=>Number(g==null?void 0:g.asset_id));await Vs({user:l,adventureid:s.adventureid,assets_ids:a})&&(await Un(2e3),await X(),c({...i,available:[...i.claimable,s.adventureid]}),p(void 0),mn.success("Adventure started successfully"))}catch(a){console.log(a)}finally{f(!1)}}function Z(a,h,g){return a==="tlm.mp"||a==="nft.mp"?(h/10).toFixed(1):g==="-"?h:g}return n.jsxs(As,{children:[n.jsxs(Cs,{children:[n.jsxs(ks,{children:[n.jsxs("p",{children:["Total Rewards: ",s==null?void 0:s.reward_qp," ",n.jsx(q,{})]}),n.jsxs("p",{children:["Point Cost: ",s==null?void 0:s.point_cost.toLocaleString("en-US")," ",n.jsx(Ks,{})]}),n.jsxs("p",{children:["Duration: ",((s==null?void 0:s.duration_hours)??0)/24," Days"]}),n.jsxs("p",{children:["Current Total Score: ",s==null?void 0:s.score_total]})]}),(s==null?void 0:s.sponsored)===1&&n.jsxs(Ss,{children:[n.jsx("span",{children:"Sponsor"}),n.jsx("p",{children:s==null?void 0:s.sponsor})]}),n.jsx("img",{src:`${Q}/ipfs/${s==null?void 0:s.image}`,alt:"test"}),n.jsxs(Ts,{children:[n.jsxs(Is,{children:["send in period ends in ",(nn=s==null?void 0:s.formatted_enter_end)==null?void 0:nn.days,"d"," ",(sn=s==null?void 0:s.formatted_enter_end)==null?void 0:sn.hours,"h ",(en=s==null?void 0:s.formatted_enter_end)==null?void 0:en.minutes,"min"]}),n.jsx(Es,{children:s==null?void 0:s.title})]})]}),n.jsx(Ds,{children:e?n.jsx(Gs,{text:s==null?void 0:s.flavor}):s==null?void 0:s.flavor}),n.jsxs(Fs,{children:[n.jsx(An,{children:s==null?void 0:s.mods.map((a,h)=>h<5&&n.jsxs(Cn,{leftSelected:!!I[h],firstFive:!0,lock:a==null?void 0:a.lock,children:[n.jsx(Sn,{children:a!=null&&a.lock?n.jsx(N,{size:25}):`+${a==null?void 0:a.mod_value}%`}),n.jsx(kn,{firstFive:!0,children:a!=null&&a.lock?!e&&n.jsxs("span",{children:["unlocked at level ",a==null?void 0:a.level_to_unlock]}):n.jsxs(n.Fragment,{children:[n.jsx(Tn,{children:a==null?void 0:a.affix_type}),n.jsx(In,{children:Z(a==null?void 0:a.affix_type,a==null?void 0:a.affix_value,a==null?void 0:a.affix_string)})]})})]},K()))}),n.jsxs(zs,{children:[r!==-1&&n.jsxs(Bs,{children:[n.jsx(P,{isSelected:$==="crew.worlds",onClick:()=>S("crew.worlds"),children:"Minions"}),n.jsx(P,{isSelected:$==="arms.worlds",onClick:()=>S("arms.worlds"),children:"Weapons"}),n.jsx(P,{isSelected:$==="tool.worlds",onClick:()=>S("tool.worlds"),children:"Tools"}),n.jsx(P,{isSelected:$==="level.worlds",onClick:()=>S("level.worlds"),children:"Levels"}),n.jsx(P,{isSelected:$==="faces.worlds",onClick:()=>S("faces.worlds"),children:"Avatars"})]}),n.jsx(Ms,{isInventoryOpen:r!==-1,children:r===-1?n.jsxs(n.Fragment,{children:[n.jsx(D,{onClick:()=>F(0),src:j[0]?`https://ipfs.alienworlds.io/ipfs/${(tn=(rn=j[0])==null?void 0:rn.data)==null?void 0:tn.img}`:"/assets/default-card.png",alt:(on=(an=j[0])==null?void 0:an.data)==null?void 0:on.name}),n.jsx(D,{onClick:()=>F(1),src:j[1]?`https://ipfs.alienworlds.io/ipfs/${(dn=(ln=j[1])==null?void 0:ln.data)==null?void 0:dn.img}`:"/assets/default-card.png",alt:(pn=(xn=j[1])==null?void 0:xn.data)==null?void 0:pn.name}),n.jsx(D,{onClick:()=>F(2),src:j[2]?`https://ipfs.alienworlds.io/ipfs/${(fn=(cn=j[2])==null?void 0:cn.data)==null?void 0:fn.img}`:"/assets/default-card.png",alt:(gn=(un=j[2])==null?void 0:un.data)==null?void 0:gn.name})]}):U?new Array(6).fill(0).map((a,h)=>n.jsx(Ls,{},h)):n.jsxs(n.Fragment,{children:[n.jsx(D,{onClick:()=>m(void 0),src:"/assets/default-card.png",alt:"default card"}),(v==null?void 0:v[0])&&n.jsx(D,{onClick:()=>m(v[0]),src:`https://ipfs.alienworlds.io/ipfs/${(wn=(hn=v[0])==null?void 0:hn.data)==null?void 0:wn.img}`,alt:(jn=(vn=v[0])==null?void 0:vn.data)==null?void 0:jn.name}),(v==null?void 0:v[1])&&n.jsx(D,{onClick:()=>m(v[1]),src:`https://ipfs.alienworlds.io/ipfs/${(yn=(bn=v[1])==null?void 0:bn.data)==null?void 0:yn.img}`,alt:(_n=($n=v[1])==null?void 0:$n.data)==null?void 0:_n.name}),v==null?void 0:v.map((a,h)=>{var g,_;return h>1&&n.jsx(D,{onClick:()=>m(a),src:`https://ipfs.alienworlds.io/ipfs/${(g=a==null?void 0:a.data)==null?void 0:g.img}`,alt:(_=a==null?void 0:a.data)==null?void 0:_.name},a==null?void 0:a.asset_id)})]})})]}),n.jsx(An,{children:s==null?void 0:s.mods.map((a,h)=>h>=5&&n.jsxs(Cn,{rightSelected:!!I[h],firstFive:!1,lock:a==null?void 0:a.lock,children:[n.jsx(Sn,{children:a!=null&&a.lock?n.jsx(N,{size:25}):`+${a==null?void 0:a.mod_value}%`}),n.jsx(kn,{firstFive:!1,children:a!=null&&a.lock?!e&&n.jsxs("span",{children:["unlocked at level ",a==null?void 0:a.level_to_unlock]}):n.jsxs(n.Fragment,{children:[n.jsx(Tn,{children:a==null?void 0:a.affix_type}),n.jsx(In,{children:Z(a==null?void 0:a.affix_type,a==null?void 0:a.affix_value,a==null?void 0:a.affix_string)})]})})]},K()))})]}),n.jsxs(Ps,{children:[n.jsx("span",{children:"Score"}),n.jsx("span",{children:Math.floor(100*(1+(d-100)/100))})]}),n.jsx(R,{isLoading:t,disabled:r!==-1||t||Number((l==null?void 0:l.mcPoints)??0)<((s==null?void 0:s.point_cost)??0),onClick:Nn,color:r!==-1?"gradientGray":"gradientPink",children:"Start"}),n.jsx(Rs,{children:j.some(a=>a!==void 0)?`NFTs can be claimed back after ${((s==null?void 0:s.duration_hours)??0)/24} days`:"To complete objectives, choose NFTs before starting."})]})},Xs=V.lazy(()=>Rn(()=>import("./star-de58f6ff.js"),["assets/star-de58f6ff.js","assets/index-553a103f.js","assets/index-55fec1ff.css"])),Js=({data:s})=>{const{isSmall:e}=Vn(),l=C(t=>t.advActives),i=C(t=>t.selectedAdventure),c=C(t=>t.updateSelectedAdventure);function x(t,f,r){return t==="tlm.mp"||t==="nft.mp"?(f/10).toFixed(1):r==="-"?f:r}const p=s==null?void 0:s.filter(t=>{var r;return((r=l==null?void 0:l.available)==null?void 0:r.find(u=>u===(t==null?void 0:t.adventureid)))!==t.adventureid});return n.jsx(rs,{children:i?n.jsx(Ys,{selected:i}):!p||p.length===0?n.jsx(ts,{children:"No adventure available"}):p==null?void 0:p.map(t=>{var f,r,u;return n.jsxs(as,{children:[n.jsxs(ls,{children:[n.jsxs(is,{children:[n.jsxs(os,{children:["expires in ",(f=t==null?void 0:t.formatted_enter_end)==null?void 0:f.days,"d ",(r=t==null?void 0:t.formatted_enter_end)==null?void 0:r.hours,"h ",(u=t==null?void 0:t.formatted_enter_end)==null?void 0:u.minutes,"min"]}),n.jsx(ds,{children:t==null?void 0:t.title}),n.jsxs(xs,{children:[n.jsxs("span",{children:["Duration: ",((t==null?void 0:t.duration_hours)??0)/24," Days"]}),n.jsxs("span",{children:["Total Rewards: ",t==null?void 0:t.reward_qp," ",n.jsx(q,{})]}),n.jsxs("span",{children:["MC Point Cost: ",t==null?void 0:t.point_cost.toLocaleString("en-US")," ",n.jsx(Xs,{})]})]})]}),n.jsx(R,{onClick:()=>c(t),color:"gradientPink",children:"View"})]}),n.jsxs(ps,{children:[n.jsx(us,{children:t==null?void 0:t.mods.map((d,y)=>n.jsxs(gs,{firstFive:y<5,lock:d==null?void 0:d.lock,children:[n.jsx(hs,{children:d!=null&&d.lock?n.jsx(N,{size:25}):`+${d==null?void 0:d.mod_value}%`}),n.jsx(ws,{firstFive:y<5,children:d!=null&&d.lock?e?n.jsx(N,{size:25}):n.jsxs("span",{children:["unlocked at level ",d==null?void 0:d.level_to_unlock]}):n.jsxs(n.Fragment,{children:[n.jsx(vs,{children:d==null?void 0:d.affix_type}),n.jsx(js,{children:x(d==null?void 0:d.affix_type,d==null?void 0:d.affix_value,d==null?void 0:d.affix_string)})]})})]},K()))}),n.jsxs(cs,{children:[(t==null?void 0:t.sponsored)===1&&n.jsxs(fs,{children:[n.jsx("span",{children:"Sponsor"}),n.jsx("p",{children:t==null?void 0:t.sponsor})]}),n.jsx("img",{src:`${Q}/ipfs/${t==null?void 0:t.image}`,alt:"test"})]})]}),n.jsx(R,{onClick:()=>c(t),color:"gradientPink",children:"View"})]},t==null?void 0:t.adventureid)})})},Zs=V.memo(Js);function ne(s){return On({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"9 11 12 14 22 4"}},{tag:"path",attr:{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11"}}]})(s)}const se=o("div",{d:"flex",align:"flex-start",justify:"flex-start",direction:"column",gap:"20px",padding:"0 5px 15px 0",overflowX:"hidden",w:"100%",maxW:"1190px"});o("div",{d:"flex",align:"flex-start",justify:"flex-start",direction:"column",gap:"20px",w:"100%",h:"calc(100vh - 380px)",pr:"5px",overflow:"auto"});const ee=o("div",{d:"flex",align:"center",justify:"center",direction:"column",br:"10px",background:"rgba(3, 16, 32, 0.65)",padding:"30px 18px",color:"$white500",ff:"$heading",fs:"36px",fw:"bold",textAlign:"center",w:"100%",maxW:"1190px",minH:"450px","@sm":{padding:"10px"}}),re=o("div",{d:"flex",align:"flex-start",justify:"flex-start",direction:"column",br:"10px",background:"rgba(3, 16, 32, 0.65)",padding:"30px 18px",w:"100%",maxW:"1190px",">button":{display:"none"},"@sm":{align:"center",justify:"center",position:"relative",padding:"13px 5px",">button":{display:"flex"}}}),te=o("div",{d:"flex",align:"center",justify:"center",gap:"10px",color:"$white500",ff:"$heading",fs:"16px","@sm":{w:"100%",fs:"10px",gap:"5px",order:2,zIndex:1,">svg":{w:"12px",h:"12px"}}}),ae=o("div",{d:"flex",align:"center",justify:"space-between",w:"100%",">button ":{fs:"18px","> div":{h:"50px"}},"@sm":{zIndex:1,">button ":{d:"none"}}}),oe=o("div",{d:"flex",align:"flex-start",justify:"flex-start",direction:"column","@sm":{w:"100%"}}),le=o("h2",{d:"flex",align:"flex-start",justify:"flex-start",color:"$white500",textShadow:"0px 4px 4px rgba(0, 0, 0, 0.9)",fs:"40px",w:"100%","@sm":{order:1,textAlign:"center",fs:"16px"}}),ie=o("div",{d:"flex",align:"center",justify:"center",gap:"10px",span:{d:"flex",align:"center",justify:"center",textShadow:"0px 4px 4px rgba(0, 0, 0, 0.9)",color:"$white500",ff:"$heading",fs:"16px",svg:{ml:"5px"}},"@sm":{direction:"column",gap:"0px",w:"100%",order:3,mt:"125px",span:{justify:"flex-start",w:"100%",textAlign:"right","&:nth-of-type(1)":{order:2}}}}),de=o("div",{d:"flex",align:"center",justify:"space-between",w:"100%",mt:"30px",">img":{br:"10px",width:"382px",height:"249px"},"@md":{">img":{width:"282px",height:"auto"}},"@sm":{mt:"5px",direction:"column",">img":{width:"100%",h:"calc(100% - 70px)",top:0,left:0,position:"absolute"}}}),xe=o("div",{d:"flex",align:"flex-start",justify:"center",pb:"20px",">img":{width:"174px",height:"259px",zIndex:"2","&:nth-of-type(1)":{transform:"translate(60px,20px) rotate(-20deg)",zIndex:"3"},"&:nth-of-type(3)":{transform:"translate(-60px,20px) rotate(20deg)",zIndex:"1"}},"@md":{gap:"20px",">img":{width:"100px",height:"155px","&:nth-of-type(1)":{transform:"translate(30px,10px) rotate(-20deg)",zIndex:"3"},"&:nth-of-type(3)":{transform:"translate(-30px,10px) rotate(20deg)",zIndex:"1"}}},"@sm":{gap:"20px",mt:"-165px",ml:"-90px",">img":{width:"60px",height:"95px","&:nth-of-type(1)":{transform:"translate(30px,10px) rotate(-20deg)",zIndex:"3"},"&:nth-of-type(3)":{transform:"translate(-30px,10px) rotate(20deg)",zIndex:"1"}}}}),pe=o("div",{position:"relative",overflow:"hidden",minWidth:"382px",height:"249px",img:{br:"10px",width:"382px",height:"249px",objectFit:"cover"},"@sm":{position:"absolute",minWidth:"100%",width:"100%",h:"170px",top:0,left:0,img:{width:"100%",h:"170px",position:"absolute"}}}),ce=o("div",{d:"flex",align:"center",justify:"center",direction:"column",zIndex:"1",w:"300px",padding:"0 0 5px",position:"absolute",right:"-90px",top:"40px",transform:"rotate(45deg)",bg:"#65B5FF",color:"$white500",ff:"$heading",span:{fw:"$bold",fs:"20px"},p:{fs:"16px"},"@sm":{transform:"rotate(315deg)",w:"210px",top:"115px",right:"-70px",span:{pt:"5px",fs:"12px"},p:{fs:"8px"}}});async function fe(s,e){const{executeTransaction:l}=zn(),i=ue(s,e);return!!await l(i)}function ue(s,e){return{actions:[{account:k.ADVENTURE_MC,name:"claimadv",authorization:[{actor:s.name,permission:s.requestPermission}],data:{wallet:s.name,adventureid:e}}]}}const ge=({data:s})=>{const e=B(r=>r.user),l=B(r=>r.updateMember),i=C(r=>r.advActives),c=C(r=>r.updateAdvActives),[x,p]=T.useState(!1);async function t(r){if(!(!e||typeof r!="number"))try{p(!0),await fe(e,r)&&(await Un(4e3),await X(),await Gn(),c({...i,claimable:[...i.claimable,r]}),await l(),mn.success("Adventure claimed successfully"))}catch(u){console.log(u)}finally{p(!1)}}const f=s==null?void 0:s.filter(r=>{var d;return((d=i==null?void 0:i.claimable)==null?void 0:d.find(y=>y===(r==null?void 0:r.adventureid)))!==r.adventureid});return n.jsx(se,{children:!f||f.length===0?n.jsx(ee,{children:"No adventure available to claim"}):f==null?void 0:f.map(r=>{var u,d,y,I,E,$,S,j,M,v,U,F;return n.jsxs(re,{children:[n.jsxs(ae,{children:[n.jsxs(oe,{children:[n.jsxs(te,{children:["Mission Completed",n.jsx(ne,{size:20,color:"#40D727"})]}),n.jsx(le,{children:r==null?void 0:r.title}),n.jsxs(ie,{children:[n.jsxs("span",{children:["Expected QP rewards:"," ",Math.floor(((r==null?void 0:r.score)??0)/((r==null?void 0:r.score_total)??1)*((r==null?void 0:r.reward_qp)??0))," ",n.jsx(q,{})]}),n.jsxs("span",{children:["Players: ",r==null?void 0:r.players]})]})]}),n.jsxs(R,{disabled:x,isLoading:x,onClick:()=>t(r==null?void 0:r.adventureid),color:"gradientPink",children:["Claim NFTs & ",n.jsx("br",{}),"Rewards"]})]}),n.jsxs(de,{children:[n.jsxs(xe,{children:[n.jsx("img",{src:(u=r==null?void 0:r.cards)!=null&&u[0]?`https://ipfs.alienworlds.io/ipfs/${(d=r==null?void 0:r.cards[0])==null?void 0:d.nftimage}`:"/assets/default-card.png",alt:(I=(y=r==null?void 0:r.cards)==null?void 0:y[0])==null?void 0:I.cardname}),n.jsx("img",{src:(E=r==null?void 0:r.cards)!=null&&E[1]?`https://ipfs.alienworlds.io/ipfs/${($=r==null?void 0:r.cards[1])==null?void 0:$.nftimage}`:"/assets/default-card.png",alt:(j=(S=r==null?void 0:r.cards)==null?void 0:S[1])==null?void 0:j.cardname}),n.jsx("img",{src:(M=r==null?void 0:r.cards)!=null&&M[2]?`https://ipfs.alienworlds.io/ipfs/${(v=r==null?void 0:r.cards[2])==null?void 0:v.nftimage}`:"/assets/default-card.png",alt:(F=(U=r==null?void 0:r.cards)==null?void 0:U[2])==null?void 0:F.cardname})]}),n.jsxs(pe,{children:[(r==null?void 0:r.sponsored)===1&&n.jsxs(ce,{children:[n.jsx("span",{children:"Sponsor"}),n.jsx("p",{children:r==null?void 0:r.sponsor})]}),n.jsx("img",{src:`${Q}/ipfs/${r==null?void 0:r.image}`,alt:"test"})]})]}),n.jsxs(R,{disabled:x,isLoading:x,onClick:()=>t(r==null?void 0:r.adventureid),color:"gradientPink",children:["Claim NFTs & ",n.jsx("br",{}),"Rewards"]})]},r==null?void 0:r.adventureid)})})},he=V.memo(ge),we=o("div",{d:"flex",align:"flex-start",justify:"flex-start",direction:"column",gap:"20px",padding:"0 5px 15px 0",overflowX:"hidden",w:"100%",maxW:"1190px"});o("div",{d:"flex",align:"flex-start",justify:"flex-start",direction:"column",gap:"20px",w:"100%",h:"calc(100vh - 380px)",pr:"5px",overflow:"auto"});const ve=o("div",{d:"flex",align:"center",justify:"center",direction:"column",br:"10px",background:"rgba(3, 16, 32, 0.65)",padding:"30px 18px",color:"$white500",ff:"$heading",fs:"36px",fw:"bold",textAlign:"center",w:"100%",maxW:"1190px",minH:"450px","@sm":{padding:"10px"}}),je=o("div",{d:"flex",align:"flex-start",justify:"flex-start",direction:"column",br:"10px",background:"rgba(3, 16, 32, 0.65)",padding:"30px 18px 60px",w:"100%",maxW:"1190px",">button":{display:"none"},"@sm":{align:"center",justify:"center",position:"relative",padding:"13px",">button":{display:"flex"}}}),be=o("div",{d:"flex",align:"center",justify:"center",gap:"10px",textShadow:"0px 4px 4px rgba(0, 0, 0, 0.9)",color:"$white500",ff:"$heading",fs:"16px","@sm":{w:"100%",fs:"10px",gap:"5px",order:2,zIndex:1,">svg":{w:"12px",h:"12px"}}}),ye=o("div",{d:"flex",align:"center",justify:"space-between",w:"100%",">button ":{fs:"18px","> div":{h:"50px"}},"@sm":{zIndex:1,">button ":{d:"none"}}}),$e=o("div",{d:"flex",align:"flex-start",justify:"flex-start",direction:"column","@sm":{w:"100%"}}),_e=o("h2",{d:"flex",align:"flex-start",justify:"flex-start",color:"$white500",textShadow:"0px 4px 4px rgba(0, 0, 0, 0.9)",fs:"40px",w:"100%","@sm":{order:1,fs:"20px"}}),Ae=o("div",{d:"flex",align:"center",justify:"center",gap:"10px",span:{d:"flex",align:"center",justify:"center",textShadow:"0px 4px 4px rgba(0, 0, 0, 0.9)",color:"$white500",ff:"$heading",fs:"16px",svg:{ml:"5px"}},"@sm":{direction:"column",gap:"0px",w:"100%",order:3,mt:"125px",span:{justify:"flex-start",w:"100%",textAlign:"right","&:nth-of-type(1)":{order:2}}}}),Ce=o("div",{d:"flex",align:"center",justify:"space-between",w:"100%",mt:"30px",">img":{br:"10px",width:"382px",height:"249px"},"@sm":{direction:"column",mt:"0px",">img":{width:"100%",h:"calc(100% - 70px)",top:0,left:0,position:"absolute"}}}),Se=o("div",{d:"flex",align:"flex-start",justify:"center",">img":{width:"174px",height:"259px",zIndex:"2","&:nth-of-type(1)":{transform:"translate(60px,20px) rotate(-20deg)",zIndex:"3"},"&:nth-of-type(3)":{transform:"translate(-60px,20px) rotate(20deg)",zIndex:"1"}},"@md":{gap:"20px",">img":{width:"100px",height:"155px","&:nth-of-type(1)":{transform:"translate(30px,10px) rotate(-20deg)",zIndex:"3"},"&:nth-of-type(3)":{transform:"translate(-30px,10px) rotate(20deg)",zIndex:"1"}}},"@sm":{gap:"20px",mt:"-160px",ml:"-90px",">img":{width:"60px",height:"95px","&:nth-of-type(1)":{transform:"translate(30px,10px) rotate(-20deg)",zIndex:"3"},"&:nth-of-type(3)":{transform:"translate(-30px,10px) rotate(20deg)",zIndex:"1"}}}}),ke=o("div",{position:"relative",overflow:"hidden",minWidth:"382px",height:"249px",img:{br:"10px",width:"382px",height:"249px",objectFit:"cover"},"@sm":{position:"absolute",minWidth:"100%",width:"100%",h:"170px",top:0,left:0,img:{width:"100%",h:"170px",position:"absolute"}}}),Te=o("div",{d:"flex",align:"center",justify:"center",direction:"column",zIndex:"1",w:"300px",padding:"0 0 5px",position:"absolute",right:"-90px",top:"40px",transform:"rotate(45deg)",bg:"#65B5FF",color:"$white500",ff:"$heading",span:{fw:"$bold",fs:"20px"},p:{fs:"16px"},"@sm":{transform:"rotate(315deg)",w:"210px",top:"115px",right:"-70px",span:{pt:"5px",fs:"12px"},p:{fs:"8px"}}}),Ie=({data:s})=>n.jsx(we,{children:!s||s.length===0?n.jsx(ve,{children:"No adventure running"}):s==null?void 0:s.map(e=>{var l,i,c,x,p,t,f,r,u,d,y,I,E,$,S;return n.jsxs(je,{children:[n.jsx(ye,{children:n.jsxs($e,{children:[n.jsxs(be,{children:["Returning in ",(l=e==null?void 0:e.formatted_return)==null?void 0:l.days,"d ",(i=e==null?void 0:e.formatted_return)==null?void 0:i.hours,"h"," ",(c=e==null?void 0:e.formatted_return)==null?void 0:c.minutes,"min"]}),n.jsx(_e,{children:e==null?void 0:e.title}),n.jsxs(Ae,{children:[n.jsxs("span",{children:["Current QP Estimation:"," ",Math.floor(((e==null?void 0:e.score)??0)/((e==null?void 0:e.score_total)??1)*((e==null?void 0:e.reward_qp)??0))," ",n.jsx(q,{})]}),n.jsxs("span",{children:["Players: ",e==null?void 0:e.players]})]})]})}),n.jsxs(Ce,{children:[n.jsxs(Se,{children:[n.jsx("img",{src:(x=e==null?void 0:e.cards)!=null&&x[0]?`https://ipfs.alienworlds.io/ipfs/${(p=e==null?void 0:e.cards[0])==null?void 0:p.nftimage}`:"/assets/default-card.png",alt:(f=(t=e==null?void 0:e.cards)==null?void 0:t[0])==null?void 0:f.cardname}),n.jsx("img",{src:(r=e==null?void 0:e.cards)!=null&&r[1]?`https://ipfs.alienworlds.io/ipfs/${(u=e==null?void 0:e.cards[1])==null?void 0:u.nftimage}`:"/assets/default-card.png",alt:(y=(d=e==null?void 0:e.cards)==null?void 0:d[1])==null?void 0:y.cardname}),n.jsx("img",{src:(I=e==null?void 0:e.cards)!=null&&I[2]?`https://ipfs.alienworlds.io/ipfs/${(E=e==null?void 0:e.cards[2])==null?void 0:E.nftimage}`:"/assets/default-card.png",alt:(S=($=e==null?void 0:e.cards)==null?void 0:$[2])==null?void 0:S.cardname})]}),n.jsxs(ke,{children:[(e==null?void 0:e.sponsored)===1&&n.jsxs(Te,{children:[n.jsx("span",{children:"Sponsor"}),n.jsx("p",{children:e==null?void 0:e.sponsor})]}),n.jsx("img",{src:`${Q}/ipfs/${e==null?void 0:e.image}`,alt:"test"})]})]})]},e==null?void 0:e.adventureid)})}),Ee=V.memo(Ie),De=async()=>{var i,c;let s=!1,e;const l=[];for(;!s;){const x=await Bn.get_table_rows({code:k.ADVENTURE_MC,index_position:1,limit:"10000",scope:k.ADVENTURE_MC,table:H.ADV_TEMPLATES,show_payer:!1,json:!0,lower_bound:e});s=!x.more,l.push(...x.rows.slice(0,-1)),e=((c=(i=x.rows)==null?void 0:i[x.rows.length-1])==null?void 0:c.templateid)??""}return l},Fe=()=>Ln({queryKey:[z.ADV_TEMPLATES],queryFn:()=>ze(),staleTime:1e3*60*60,enabled:!!B.getState().user});async function ze(){try{const s=await De();return s?Be(s):null}catch(s){return console.log(s),null}}function Be(s){return s.map(e=>({...e,"nft.mp":e.nft_mp,"tlm.mp":e.tlm_mp}))}const Ve=()=>{const{isLoading:s}=Fe(),{data:e,isLoading:l,isFetching:i}=Hs(),c=C(u=>u.selectedAdventure),x=C(u=>u.updateSelectedAdventure),[p,t]=T.useState("available");function f(u){t(u),x(void 0),r()}async function r(){await X()}return n.jsxs(Jn,{children:[n.jsx(Zn,{children:"Adventures"}),n.jsxs(ns,{children:[c&&n.jsx(Kn,{color:"white",size:40,onClick:()=>x(void 0)}),n.jsx(G,{onClick:()=>f("available"),isActive:p==="available",children:"Available"}),n.jsx(G,{onClick:()=>f("running"),isActive:p==="running",children:"Running"}),n.jsx(G,{onClick:()=>f("claimable"),isActive:p==="claimable",children:"Claimable"})]}),l||i||s?n.jsx(ss,{}):n.jsxs(es,{children:[p==="available"&&n.jsx(Zs,{data:e==null?void 0:e.available}),p==="running"&&n.jsx(Ee,{data:e==null?void 0:e.participants}),p==="claimable"&&n.jsx(he,{data:e==null?void 0:e.claimable})]})]})};export{Ve as default};
