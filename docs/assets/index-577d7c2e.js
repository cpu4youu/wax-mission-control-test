import{E as j,F as m,H as R,J as Ae,K as v,L as Fe,M as Pe,s as a,R as x,_ as y,t as ke,b as F,j as e,I as z,p as Ne,m as B,B as Q,e as P,g as U,S as w,T as q,a as k,q as ne,Q as $,u as We,N as Oe,n as _e,i as Ee,C as He,k as he,h as Se,O as ge,f as b,P as Ve,U as Be,V as ze,W as Ue,X as K,Y as qe,Z as Ye,$ as Qe,a0 as me,a1 as Z,d as je,a2 as Ge,a3 as Ke,a4 as Ze}from"./index-9e8ef54b.js";import{d as M}from"./defaultAvatar-c8c53368.js";import{f as De}from"./index-8afa31d5.js";import{u as Je}from"./news-query-17c35278.js";import{u as Xe}from"./information-query-ceb5d1ec.js";import{u as et,o as tt}from"./news-members-e7998cab.js";import{i as te}from"./index-f1690a5f.js";import{d as nt}from"./index-dfa3be3b.js";import{e as rt}from"./index-4f3e09ff.js";import{P as st}from"./index.esm-0720404b.js";import"./index-ea76b77d.js";import"./index-87bb1341.js";function A(t,r){j(2,arguments);var n=m(t),s=m(r),o=n.getTime()-s.getTime();return o<0?-1:o>0?1:o}var ot=6e4,at=36e5;function it(t,r){j(2,arguments);var n=m(t),s=m(r),o=n.getFullYear()-s.getFullYear(),i=n.getMonth()-s.getMonth();return o*12+i}function lt(t,r){j(2,arguments);var n=m(t),s=m(r);return n.getFullYear()-s.getFullYear()}function re(t,r){return j(2,arguments),m(t).getTime()-m(r).getTime()}var we={ceil:Math.ceil,round:Math.round,floor:Math.floor,trunc:function(r){return r<0?Math.ceil(r):Math.floor(r)}},ct="trunc";function se(t){return t?we[t]:we[ct]}function dt(t,r,n){j(2,arguments);var s=re(t,r)/at;return se(n==null?void 0:n.roundingMethod)(s)}function ut(t,r,n){j(2,arguments);var s=re(t,r)/ot;return se(n==null?void 0:n.roundingMethod)(s)}function xt(t){j(1,arguments);var r=m(t),n=r.getMonth();return r.setFullYear(r.getFullYear(),n+1,0),r.setHours(23,59,59,999),r}function ft(t){j(1,arguments);var r=m(t);return rt(r).getTime()===xt(r).getTime()}function pt(t,r){j(2,arguments);var n=m(t),s=m(r),o=A(n,s),i=Math.abs(it(n,s)),u;if(i<1)u=0;else{n.getMonth()===1&&n.getDate()>27&&n.setDate(30),n.setMonth(n.getMonth()-o*i);var c=A(n,s)===-o;ft(m(t))&&i===1&&A(t,s)===1&&(c=!1),u=o*(i-Number(c))}return u===0?0:u}function ht(t,r,n){j(2,arguments);var s=re(t,r)/1e3;return se(n==null?void 0:n.roundingMethod)(s)}function gt(t,r){j(2,arguments);var n=m(t),s=m(r),o=A(n,s),i=Math.abs(lt(n,s));n.setFullYear(1584),s.setFullYear(1584);var u=A(n,s)===-o,c=o*(i-Number(u));return c===0?0:c}function mt(t){j(1,arguments);var r=m(t.start),n=m(t.end);if(isNaN(r.getTime()))throw new RangeError("Start Date is invalid");if(isNaN(n.getTime()))throw new RangeError("End Date is invalid");var s={};s.years=Math.abs(gt(n,r));var o=A(n,r),i=R(r,{years:o*s.years});s.months=Math.abs(pt(n,i));var u=R(i,{months:o*s.months});s.days=Math.abs(nt(n,u));var c=R(u,{days:o*s.days});s.hours=Math.abs(dt(n,c));var f=R(c,{hours:o*s.hours});s.minutes=Math.abs(ut(n,f));var h=R(f,{minutes:o*s.minutes});return s.seconds=Math.abs(ht(n,h)),s}function jt(t,r){j(2,arguments);var n=v(r);return Ae(t,-n)}function wt(t,r){j(2,arguments);var n=v(r);return Fe(t,-n)}function yt(t,r){if(j(2,arguments),!r||Pe(r)!=="object")return new Date(NaN);var n=r.years?v(r.years):0,s=r.months?v(r.months):0,o=r.weeks?v(r.weeks):0,i=r.days?v(r.days):0,u=r.hours?v(r.hours):0,c=r.minutes?v(r.minutes):0,f=r.seconds?v(r.seconds):0,h=wt(t,s+n*12),T=jt(h,i+o*7),p=c+u*60,C=f+p*60,_=C*1e3,E=new Date(T.getTime()-_);return E}const J=a("div",{d:"flex",align:"flex-start",justify:"flex-start",direction:"column",position:"relative",gap:"20px",w:"100%",maxWidth:"95%",padding:"10px 20px","@sm":{px:"0px"}}),vt=a("div",{d:"flex",align:"flex-start",justify:"space-between",gap:"20px",w:"100%","@sm":{align:"center",direction:"column",gap:"20px"}}),bt=a("div",{d:"flex",align:"flex-start",justify:"flex-start",gap:"40px",w:"100%",mt:"20px","@sm":{align:"center",direction:"column",gap:"20px"}}),$t=a("div",{d:"flex",align:"flex-start",justify:"center",direction:"column",maxWidth:"400px",w:"100%","@sm":{align:"center",padding:"20px 10px",bg:"rgba(255, 255, 255, 0.05)"}}),Ct=a("div",{d:"flex",align:"center",justify:"center",direction:"column",bg:"rgba(217, 217, 217, 0.16)",padding:"20px",w:"300px"}),Mt=a("h3",{color:"$white500",mb:"20px",textAlign:"center"}),Tt=a("p",{ff:"$heading",fw:"$thin",textAlign:"center",color:"$white500",fs:"12px",button:{mt:"20px",width:"125px",height:"25px"}}),_t=a("div",{d:"flex",align:"center",justify:"center",br:"9999999px",border:"5px solid grey",overflow:"hidden",position:"relative",w:"100px",h:"100px",img:{position:"absolute",inset:"-2px",w:"100px",h:"100px"},variants:{rarity:{Abundant:{borderColor:"#737373"},Common:{borderColor:"#232323"},Rare:{borderColor:"#3d74e9"},Epic:{borderColor:"#8719f0"},Legendary:{borderColor:"#da992e"},Mythical:{borderColor:"#d20066"}}}}),Et=a("h3",{d:"flex",align:"center",justify:"center",mt:"15px",color:"$white500"}),ye=a("div",{d:"flex",align:"center",justify:"center",direction:"column",gap:"15px",mt:"15px",w:"100%",color:"$white500"}),W=a("div",{d:"flex",align:"center",justify:"space-between",w:"100%",color:"$white500"}),O=a("span",{d:"flex",align:"center",justify:"center",direction:"column",fw:"100",ff:"$heading",color:"$white500"}),H=a("span",{d:"flex",align:"center",justify:"center",gap:"5px",fw:"100",ff:"$heading",color:"$white500"}),St=x.lazy(()=>y(()=>import("./star-f9303a11.js"),["assets/star-f9303a11.js","assets/index-9e8ef54b.js","assets/index-55fec1ff.css"])),ve=x.lazy(()=>y(()=>import("./tlm-94a078bd.js"),["assets/tlm-94a078bd.js","assets/index-9e8ef54b.js","assets/index-55fec1ff.css"])),Dt=()=>{var o,i,u,c,f;const t=x.useRef(null),r=ke(),n=F(h=>h.user);function s(){t!=null&&t.current&&(t.current.src=M)}return e.jsx($t,{children:n!=null&&n.member?e.jsxs(e.Fragment,{children:[e.jsx(_t,{rarity:n==null?void 0:n.avatarrarity,children:n.avatarCollection==="alienavatars"?e.jsx("img",{src:`https://ipfs.alienworlds.io/ipfs/${n.avatar}`,style:{position:"relative",width:"440px",height:"400px",minWidth:"440px",minHeight:"400px",objectFit:"none",scale:"0.24",objectPosition:"41% 0%"}}):e.jsx("img",{ref:t,onError:s,src:(n==null?void 0:n.avatar)!=="-"?`${z}/ipfs/${n==null?void 0:n.avatar}`:M,alt:""})}),e.jsx(Et,{children:(n==null?void 0:n.playertag)??(n==null?void 0:n.name)}),e.jsxs(ye,{children:[e.jsxs(W,{children:[e.jsx(O,{children:"TLM:"}),e.jsxs(H,{children:[((i=Number((o=n==null?void 0:n.userTlm)==null?void 0:o.balance))==null?void 0:i.toLocaleString("en-us"))??0," ",e.jsx(ve,{})]})]}),e.jsxs(W,{children:[e.jsx(O,{children:"Deposit:"}),e.jsxs(H,{children:[(Ne((u=n==null?void 0:n.HqMember)==null?void 0:u.deposit)+((n==null?void 0:n.tlm_deposit)??0)/1e4).toFixed(4),e.jsx(ve,{})]})]}),e.jsxs(W,{children:[e.jsx(O,{children:"MC Points:"}),e.jsxs(H,{children:[((c=n==null?void 0:n.mcPoints)==null?void 0:c.toLocaleString("en-us"))??0,e.jsx(St,{})]})]}),e.jsxs(W,{children:[e.jsx(O,{children:"Reward Points:"}),e.jsxs(H,{children:[((f=n==null?void 0:n.userWeekly)==null?void 0:f.total_quest_points)??0," ",e.jsx(B,{})]})]})]}),e.jsx(ye,{children:e.jsxs(W,{children:[e.jsx(O,{children:"Wallet:"}),e.jsx(H,{children:n==null?void 0:n.name})]})})]}):e.jsxs(Ct,{children:[e.jsx(Mt,{children:"BECOME A MEMBER OF MISSION CONTROL"}),e.jsxs(Tt,{children:["Earn MC Points each time you gain Shards in Alien Worlds ",e.jsx("br",{})," ",e.jsx("br",{}),"Use the Mine Maximizer to optimize your TLM mining ",e.jsx("br",{}),e.jsx("br",{})," Complete Weekly Quests and go on adventures to earn additional Trilium ",e.jsx("br",{}),e.jsx("br",{})," Vote for your favorite candidates to give them an edge in the weekly elections",e.jsx(Q,{onClick:()=>r("/membership"),color:"gradientPink",children:"Apply now"})]})]})})},It=a("div",{d:"flex",align:"flex-start",justify:"center",direction:"column",w:"100%"}),Lt=a("h2",{d:"flex",align:"center",justify:"center",color:"$white500"}),Rt=a("div",{d:"flex",align:"center",justify:"center",direction:"column",gap:"5px",mt:"15px",w:"100%",color:"$white500"}),At=a("div",{d:"flex",align:"flex-start",justify:"center",w:"100%",bg:"#0E1720",padding:"15px",br:"5px",color:"$white500"}),Ft=a("div",{d:"flex",align:"center",justify:"center",mr:"15px",position:"relative",span:{d:"flex",align:"center",justify:"center",position:"absolute",bottom:"-8px",zIndex:"2",ff:"$heading",fw:"700",fs:"12px",br:"50px",w:"35px",h:"20px",color:"$black500",border:"2px solid"},variants:{borderColor:{Abundant:{span:{borderColor:"#737373",backgroundColor:"#737373",color:"#fff"}},Common:{span:{borderColor:"#232323",backgroundColor:"#232323",color:"#fff"}},Rare:{span:{borderColor:"#3d74e9",backgroundColor:"#3d74e9"}},Epic:{span:{borderColor:"#8719f0",backgroundColor:"#8719f0"}},Legendary:{span:{borderColor:"#da992e",backgroundColor:"#da992e"}},Mythical:{span:{borderColor:"#d20066",backgroundColor:"#d20066"}}}}}),Pt=a("div",{d:"flex",align:"center",justify:"center",w:"50px",h:"50px",border:"5px solid $yellow400",br:"0 9999999px 9999999px 9999999px",overflow:"hidden",img:{w:"50px",h:"50px"},variants:{borderColor:{Abundant:{borderColor:"#737373"},Common:{borderColor:"#232323"},Rare:{borderColor:"#3d74e9"},Epic:{borderColor:"#8719f0"},Legendary:{borderColor:"#da992e"},Mythical:{borderColor:"#d20066"}}}}),kt=a("div",{d:"flex",align:"flex-start",justify:"center",direction:"column",w:"100%",color:"$white500"}),Nt=a("span",{d:"flex",align:"center",justify:"center",fw:"700",ff:"$body",fs:"16px",color:"$white500"}),Wt=a("span",{d:"flex",align:"center",justify:"center",direction:"column",ml:"10px",fw:"$thin",fs:"12px",ff:"$body",color:"#A3A3A3"}),Ot=a("span",{d:"flex",align:"center",justify:"center",fw:"$thin",fs:"14px",ff:"$body",color:"$white500"}),Ht=P({"0%":{backgroundPosition:"0% 0%"},"100%":{backgroundPosition:"-135% 0%"}}),Vt=a("p",{d:"flex",align:"center",justify:"center",height:"320px",w:"100%",fw:"$thin",fs:"26px",ff:"$body",color:"$white500"}),X=a("div",{m:"10px 0",w:"95%",height:"120px",background:"linear-gradient( -90deg, rgba(255, 255, 255, 0.2), rgba(255, 255, 255, 0.1) ,rgba(255, 255, 255, 0.2))",br:"10px",backgroundSize:"400% 400%",animation:`${Ht} 1.2s ease-in-out infinite`}),Bt=async()=>await U({options:{code:w.MEMBERS_MC,index_position:1,limit:"5",reverse:!0,scope:w.MEMBERS_MC,table:q.ACTIVITY}}),zt=()=>k({queryKey:[$.ACTIVITY],queryFn:()=>qt(),staleTime:1e3*60*60*24});async function Ut(){return await ne.invalidateQueries($.ACTIVITY)}async function qt(){try{const t=await Bt();return t?Yt(t):[]}catch(t){return console.log(t),null}}function Yt(t){return t.map(r=>({...r,avatar:r.avatar.split(";")[0],avatarCollection:r.avatar.split(";")[1]}))}const Qt=()=>{const{data:t,isLoading:r}=zt(),n=x.useRef(null);function s(){n!=null&&n.current&&(n.current.src=M)}return x.useEffect(()=>{const o=setInterval(()=>{Ut()},6e4);return()=>clearInterval(o)},[]),e.jsxs(It,{children:[e.jsx(Lt,{children:"ACTIVITY"}),e.jsx(Rt,{children:r?e.jsxs(e.Fragment,{children:[e.jsx(X,{}),e.jsx(X,{}),e.jsx(X,{})]}):(t==null?void 0:t.length)===0?e.jsx(Vt,{children:"No Activities for now"}):t==null?void 0:t.map(o=>e.jsxs(At,{children:[e.jsxs(Ft,{borderColor:o.avatarrarity,children:[e.jsx(Pt,{borderColor:o.avatarrarity,children:o.avatarCollection==="alienavatars"?e.jsx("img",{src:`https://ipfs.alienworlds.io/ipfs/${o.avatar}`,style:{width:"240px",height:"400px",minWidth:"240px",minHeight:"400px",objectFit:"none",scale:"0.24",objectPosition:"45% 1.5%"}}):e.jsx("img",{ref:n,onError:s,src:o.avatar!=="-"?`${z}/ipfs/${o.avatar}`:M,alt:""})}),e.jsx("span",{children:o.level})]}),e.jsxs(kt,{children:[e.jsxs(Nt,{children:[o==null?void 0:o.tag," ",e.jsx(Wt,{children:De(new Date(`${o.timestamp}.000Z`),"dd MMMM yyyy HH':'mm")})]}),e.jsx(Ot,{children:o==null?void 0:o.log})]})]},o.index))})]})},Gt=()=>e.jsx("svg",{width:"17",height:"16",viewBox:"0 0 17 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("g",{id:"Layer_1",children:e.jsxs("g",{id:"Group",children:[e.jsx("path",{id:"Vector",d:"M5.48867 5.1575C5.48867 5.1575 5.02171 7.405 5.23823 8.025C5.23823 8.025 5.52519 4.625 8.28258 2C8.28258 2 8.19388 4.1975 9.62606 5.3125C11.0582 6.4275 11.3817 8.1625 11.3817 8.1625C11.3817 8.1625 11.5434 6.9775 11.0582 5.08C11.0582 5.08 14.1026 8.11 12.7069 11.4925C12.7069 11.4925 11.0243 15.2175 6.20606 13.5875C1.3878 11.9575 4.6278 5.7425 5.48867 5.1575Z",fill:"#EEB625"}),e.jsx("path",{id:"Vector_2",d:"M10.6304 8.02989C10.6748 8.98239 10.2261 9.23239 9.86345 9.28239C9.63128 9.31489 9.3965 9.25739 9.19302 9.14989C7.19737 8.11239 8.22258 5.57739 8.22258 5.57739C6.91563 6.77489 7.5965 9.26239 7.5965 9.26239C7.5965 9.26239 8.00084 10.6724 7.17389 10.7949C6.7591 10.8574 6.56606 10.6974 6.47736 10.5249C6.3965 10.3649 6.3965 10.1774 6.46693 10.0124C7.0278 8.67739 6.5478 7.92239 6.5478 7.92239C6.2791 8.68739 5.99476 9.19239 5.78867 9.49489C5.49649 9.92489 5.31128 10.4149 5.28519 10.9274C5.19128 12.8374 6.86084 13.5999 6.86084 13.5999C9.60258 14.9399 10.8339 12.4899 10.8339 12.4899C12.2504 9.87989 10.6304 8.02989 10.6304 8.02989Z",fill:"#FFF500"})]})})}),Kt=a("div",{d:"flex",align:"flex-start",justify:"center",direction:"column",w:"100%"}),Zt=a("h2",{d:"flex",align:"center",justify:"center",color:"$white500"}),Jt=a("div",{d:"flex",align:"center",justify:"center",direction:"column",gap:"15px",mt:"15px",bg:"rgba(255, 255, 255, 0.05)",br:"10px",w:"100%",color:"$white500"}),Xt=a("div",{d:"flex",align:"flex-start",justify:"center",w:"100%",padding:"15px",br:"5px",color:"$white500"}),en=a("div",{d:"flex",align:"center",justify:"center",mr:"15px",minW:"60px",maxW:"60px",h:"60px",border:"2px solid grey",br:"999px",overflow:"hidden",img:{w:"60px",h:"60px"}}),tn=a("div",{d:"flex",align:"flex-start",justify:"center",direction:"column",w:"100%",color:"$white500"}),nn=P({"0%":{backgroundPosition:"0% 0%"},"100%":{backgroundPosition:"-135% 0%"}}),ee=a("div",{m:"10px 0",w:"95%",height:"120px",background:"linear-gradient( -90deg, rgba(255, 255, 255, 0.2), rgba(255, 255, 255, 0.1) ,rgba(255, 255, 255, 0.2))",br:"10px",backgroundSize:"400% 400%",animation:`${nn} 1.2s ease-in-out infinite`}),rn=a("p",{d:"flex",align:"center",justify:"center",height:"320px",w:"100%",fw:"$thin",fs:"26px",ff:"$body",color:"$white500"}),sn=a("span",{fw:"$thin",fs:"16px",ff:"$body",color:"$white500",svg:{w:"13px",h:"13px"}}),on=a("button",{d:"flex",align:"center",justify:"center",gap:"5px",mt:"10px",h:"28px",minW:"65px",borderRadius:"4px",border:" 1px solid #8F8F8F",background:"rgba(0, 0, 0, 0.22)",padding:"0px 10px 0 5px",fw:"$thin",fs:"14px",ff:"$body",color:"$white500","&[disabled]":{opacity:"0.5",cursor:"not-allowed"}}),an=async()=>await U({options:{code:w.MEMBERS_MC,index_position:1,limit:"3",reverse:!0,scope:w.MEMBERS_MC,table:q.SPONSOR}}),ln=()=>k({queryKey:[$.SPONSOR],queryFn:()=>cn(),staleTime:1e3*60*60*24});async function be(){return await ne.invalidateQueries($.SPONSOR)}async function cn(){try{const t=await an();return t?dn(t):[]}catch(t){return console.log(t),null}}function dn(t){return t.map(r=>({...r,avatar:r.avatar.split(";")[0],avatarCollection:r.avatar.split(";")[1]}))}async function un(t,r,n){const{executeTransaction:s}=We(),o=xn(t,r,n);return!!await s(o)}function xn(t,r,n){return{actions:[{account:w.MEMBERS_MC,name:"like",authorization:[{actor:t.name,permission:t.requestPermission}],data:{wallet:t.name,type:r,contentid:n}}]}}const fn=()=>k({queryKey:[$.MEMBERS],queryFn:()=>pn(),staleTime:1e3*60*60*24,enabled:!!F.getState().user});async function $e(){return await ne.invalidateQueries($.MEMBERS)}async function pn(){const t=F.getState().user;if(!t)return null;try{const r=await Oe(t==null?void 0:t.name);return r?{...r,avatar:r.avatar.split(";")[0],avatarCollection:r.avatar.split(";")[1]}:null}catch(r){return console.log(r),null}}const hn=async()=>await U({options:{code:w.MEMBERS_MC,index_position:1,limit:"10000",scope:w.MEMBERS_MC,table:q.SETTINGS}}),gn=()=>k({queryKey:[$.MC_SETTINGS],queryFn:()=>mn(),staleTime:1e3*60*60*24});async function mn(){try{const t=await hn();return t!=null&&t[0]?t==null?void 0:t[0]:null}catch(t){return console.log(t),null}}const jn=()=>{const{data:t,isLoading:r}=ln(),{data:n}=fn(),{data:s}=gn(),o=F(p=>p.user),i=x.useRef(null),[u,c]=x.useState(!1);async function f(p){if(!o){he.error("User not found, please login");return}try{c(!0),await un(o,"sponsor",p)&&(he.success("Liked"),await Se(800),await $e(),await be())}catch(C){console.log(C)}finally{c(!1)}}function h(){i!=null&&i.current&&(i.current.src=M)}const T=x.useMemo(()=>{if(!(n!=null&&n.last_like))return!1;const p=new Date(n==null?void 0:n.last_like).getTime(),C=(s==null?void 0:s.likecd_minutes)??0,_=p+C*6e4,E=_e.getTime();return!Ee(E,_)},[n,s==null?void 0:s.likecd_minutes]);return x.useEffect(()=>{const p=setInterval(()=>{$e(),be()},6e4);return()=>clearInterval(p)},[]),e.jsxs(Kt,{children:[e.jsx(Zt,{children:"LATEST SPONSORS"}),e.jsx(Jt,{children:r?e.jsxs(e.Fragment,{children:[e.jsx(ee,{}),e.jsx(ee,{}),e.jsx(ee,{})]}):(t==null?void 0:t.length)===0?e.jsx(rn,{children:"No Sponsors for now"}):t==null?void 0:t.map(p=>e.jsxs(Xt,{children:[e.jsx(en,{children:p.avatarCollection==="alienavatars "?e.jsx("img",{src:`https://ipfs.alienworlds.io/ipfs/${p.avatar}`,style:{width:"240px",height:"400px",minWidth:"240px",minHeight:"400px",objectFit:"none",scale:"0.24",objectPosition:"45% 1.5%"}}):e.jsx("img",{ref:i,onError:h,src:p.avatar!=="-"?`${z}/ipfs/${p.avatar}`:M,alt:""})}),e.jsxs(tn,{children:[e.jsx(sn,{children:p.log}),e.jsx(on,{onClick:()=>f(p.index),disabled:u||T,children:u?e.jsx(He,{size:"sm",colorSchema:"light"}):e.jsxs(e.Fragment,{children:[e.jsx(Gt,{}),p.likes]})})]})]},p.index))})]})},wn=a("div",{d:"flex",align:"center",justify:"center",direction:"column",gap:"30px",w:"100%",mt:"40px","@md":{justify:"center",padding:"0px 20px",flexWrap:"wrap"},"@sm":{padding:"0px "}}),yn=a("h2",{w:"100%",color:"$white500"}),vn=a("div",{d:"flex",align:"flex-start",justify:"center",gap:"50px",w:"100%","@sm":{direction:"column",gap:"20px"}}),bn=a("div",{d:"flex",align:"flex-start",justify:"center",direction:"column",gap:"5px",w:"100%"}),$n=a("div",{d:"flex",align:"center",justify:"center",position:"relative",w:"100%",h:"157px",gap:"10px",img:{border:" 1px solid #F4F4F4",objectFit:"cover",w:"100%",h:"157px"},">a":{position:"absolute",zIndex:1,bottom:"5px",left:"5px",button:{h:"20px",minH:"35px",minW:"140px",fs:"12px"}}}),Cn=a("p",{w:"100%",color:"#BEBEBE",ff:"$heading",fs:"12px",fw:"700","@sm":{fs:"12px"}}),Mn=a("p",{w:"100%",color:"$white500",ff:"$heading",fs:"16px",fw:"800"}),Tn=a("p",{w:"100%",color:"$white500",ff:"$heading",fs:"14px",fw:"$thin"}),_n=a("p",{w:"100%",color:"$white500",ff:"$heading",fs:"14px",fw:"$thin","@sm":{fw:"500",fs:"12px"}}),En=P({"0%":{backgroundPosition:"0% 0%"},"100%":{backgroundPosition:"-135% 0%"}}),Sn=a("div",{mt:"10px",w:"100%",height:"200px",background:"linear-gradient( -90deg, rgba(3, 16, 32, 0.40), rgba(3, 16, 32, 0.75) ,rgba(3, 16, 32, 0.40))",br:"10px",backgroundSize:"400% 400%",animation:`${En} 1.2s ease-in-out infinite`}),Dn=()=>{var s;const{data:t,isLoading:r}=Je(),n=x.useMemo(()=>{if(t)return t.all.reduce((o,i)=>(o.find(c=>c.author===i.author)||o.push(i),o),[])},[t]);return e.jsxs(wn,{children:[e.jsx(yn,{children:"LATEST NEWS"}),e.jsx(vn,{children:r?Array.from({length:3},o=>o).map((o,i)=>e.jsx(Sn,{},i)):(s=n==null?void 0:n.slice(0,3))==null?void 0:s.map(o=>e.jsxs(bn,{children:[e.jsxs(Tn,{children:["Author: ",o==null?void 0:o.author]}),e.jsxs($n,{children:[e.jsx("img",{src:o.thumbnail,alt:"medium image"}),e.jsx("a",{target:"_blank",href:o.link,rel:"noreferrer",children:e.jsx(Q,{color:"gradientPink",children:"Read on Medium"})})]}),e.jsx(Cn,{children:De(new Date(o.published),"dd LLLL yyyy")}),e.jsx(Mn,{children:o.title}),e.jsx(_n,{children:o.description})]},o.link))})]})},In=a("div",{d:"flex",align:"center",justify:"center",direction:"column",gap:"30px",w:"100%",mt:"40px","@md":{justify:"center",padding:"0px 20px",flexWrap:"wrap"},"@sm":{padding:"0px "}}),Ln=a("h2",{w:"100%",color:"$white500"}),Rn=a("div",{d:"flex",align:"flex-start",justify:"flex-start",gap:"50px",w:"100%","@md":{gap:"20px"},"@sm":{direction:"column"}}),An=a("div",{d:"flex",align:"flex-start",justify:"center",direction:"column",w:"100%",maxW:"200px",h:"420px",">a":{w:"100%",mt:"auto",button:{h:"20px",minH:"35px",minW:"100%",fs:"12px"}},"@sm":{maxW:"100%",position:"relative",">a":{position:"absolute",bottom:"40px",left:"10px",w:"200px",button:{h:"40px"}}},"@xxsm":{w:"255px",h:"auto",m:"auto",">a":{top:"200px",bottom:"unset",left:"10px",w:"200px",button:{h:"40px"}}}}),Fn=a("div",{d:"flex",align:"center",justify:"center",position:"relative",h:"330px",w:"100%",gap:"10px",img:{border:" 1px solid #F4F4F4",objectFit:"cover",w:"100%",h:"330px"},"@xxsm":{h:"auto",img:{w:"255px",h:"255px"}}});a("p",{w:"100%",color:"#BEBEBE",ff:"$heading",fs:"12px",fw:"700","@sm":{fs:"12px"}});const Pn=a("p",{w:"100%",my:"5px",color:"$white500",ff:"$heading",fs:"14px",fw:"800"});a("p",{w:"100%",color:"$white500",ff:"$heading",fs:"10px",fw:"$thin","@sm":{fw:"500",fs:"12px"}});const kn=P({"0%":{backgroundPosition:"0% 0%"},"100%":{backgroundPosition:"-135% 0%"}}),Nn=a("div",{mt:"10px",w:"100%",height:"200px",background:"linear-gradient( -90deg, rgba(3, 16, 32, 0.40), rgba(3, 16, 32, 0.75) ,rgba(3, 16, 32, 0.40))",br:"10px",backgroundSize:"400% 400%",animation:`${kn} 1.2s ease-in-out infinite`}),Wn=()=>{var n,s;const{data:t,isLoading:r}=Xe();return e.jsxs(In,{children:[e.jsx(Ln,{children:"TUTORIALS"}),e.jsx(Rn,{children:r?Array.from({length:3},o=>o).map((o,i)=>e.jsx(Nn,{},i)):(s=(n=t==null?void 0:t.all)==null?void 0:n.slice(0,8))==null?void 0:s.map(o=>e.jsxs(An,{children:[e.jsx(Fn,{children:e.jsx("img",{src:`${z}/ipfs/${o.image}`,alt:"medium image"})}),e.jsx(Pn,{children:o.title}),e.jsx("a",{target:"_blank",href:o.link,rel:"noreferrer",children:e.jsx(Q,{color:"gradientPink",children:"Learn more"})})]},o.link))})]})},On=a("div",{d:"flex",align:"flex-start",justify:"center",direction:"column",w:"100%"}),Hn=a("h2",{d:"flex",align:"center",justify:"center",color:"$white500"}),Vn=a("div",{d:"flex",align:"center",justify:"flex-start",gap:"5px",mt:"15px",w:"100%",color:"$white500","@md":{flexWrap:"wrap"},"@sm":{direction:"column"}}),Bn=a("div",{d:"flex",align:"center",justify:"center",direction:"column",position:"relative",w:"172px",h:"141px",bg:"#0E1720",padding:"15px",br:"5px",color:"$white500","@sm":{direction:"row",w:"100%",h:"auto"}}),zn=a("p",{d:"flex",align:"center",justify:"center",position:"absolute",top:"0px",left:"0px",fs:"12px",padding:"5px 10px",color:"$white500","@sm":{left:"unset",right:"0px"}}),Un=a("div",{d:"flex",align:"center",justify:"center",w:"50px",minW:"50px",maxW:"50px",h:"50px",minH:"50px",maxH:"50px",border:"1px solid",br:"999px",overflow:"hidden",img:{w:"50px",minW:"50px",maxW:"50px",h:"50px",minH:"50px",maxH:"50px"},variants:{borderColor:{Abundant:{borderColor:"#737373"},Common:{borderColor:"#232323"},Rare:{borderColor:"#3d74e9"},Epic:{borderColor:"#8719f0"},Legendary:{borderColor:"#da992e"},Mythical:{borderColor:"#d20066"}}},"@sm":{minW:"50px"}}),qn=a("div",{d:"flex",align:"center",justify:"center",direction:"column",w:"100%",color:"$white500","@sm":{align:"flex-start",ml:"20px"}}),Yn=a("span",{d:"flex",align:"center",justify:"center",w:"100%",fw:"700",ff:"$body",fs:"16px",color:"$white500","@sm":{w:"unset"}}),Qn=a("span",{d:"flex",align:"center",justify:"center",fw:"$thin",fs:"14px",ff:"$body",color:"$white500",span:{color:"$blue200",ml:"5px",fw:"$bold",fs:"16px",ff:"$body"}}),Gn=P({"0%":{backgroundPosition:"0% 0%"},"100%":{backgroundPosition:"-135% 0%"}}),Kn=a("p",{d:"flex",align:"center",justify:"center",height:"320px",w:"100%",fw:"$thin",fs:"26px",ff:"$body",color:"$white500"}),S=a("div",{m:"10px 0",w:"95%",height:"120px",background:"linear-gradient( -90deg, rgba(255, 255, 255, 0.2), rgba(255, 255, 255, 0.1) ,rgba(255, 255, 255, 0.2))",br:"10px",backgroundSize:"400% 400%",animation:`${Gn} 1.2s ease-in-out infinite`}),Zn=()=>{var o;const{data:t,isLoading:r}=et(),n=x.useRef(null);function s(){n!=null&&n.current&&(n.current.src=M)}return x.useEffect(()=>{const i=setInterval(()=>{tt()},6e4);return()=>clearInterval(i)},[]),e.jsxs(On,{children:[e.jsx(Hn,{children:"NEW MEMBERS"}),e.jsx(Vn,{children:r?e.jsxs(e.Fragment,{children:[e.jsx(S,{}),e.jsx(S,{}),e.jsx(S,{}),e.jsx(S,{}),e.jsx(S,{}),e.jsx(S,{})]}):(t==null?void 0:t.length)===0?e.jsx(Kn,{children:"No Members for now"}):(o=t==null?void 0:t.slice(0,7))==null?void 0:o.map(i=>e.jsxs(Bn,{children:[e.jsxs(zn,{children:["#",i.member_id]}),e.jsx(Un,{borderColor:i.avatarrarity,children:i.avatarCollection==="alienavatars"?e.jsx("img",{src:`https://ipfs.alienworlds.io/ipfs/${i.avatar}`,style:{width:"240px",height:"400px",minWidth:"240px",minHeight:"400px",objectFit:"none",scale:"0.24",objectPosition:"45% 1.5%"}}):e.jsx("img",{ref:n,onError:s,src:i.avatar!=="-"?`${z}/ipfs/${i.avatar}`:M,alt:""})}),e.jsxs(qn,{children:[e.jsx(Yn,{children:(i==null?void 0:i.playertag)??(i==null?void 0:i.wallet)}),e.jsxs(Qn,{children:["Alien Worlds Level",e.jsx("span",{children:i==null?void 0:i.newMemberLevel})]})]})]},i.member_id))})]})},Jn=a("div",{d:"flex",align:"flex-start",justify:"center",direction:"column",maxWidth:"525px",w:"100%","@sm":{align:"center",padding:"20px 10px",bg:"rgba(255, 255, 255, 0.05)"}}),Xn=a("h2",{w:"100%",color:"$white500"}),er=a("div",{d:"flex",align:"center",justify:"center",direction:"column",gap:"5px",mt:"15px",w:"100%",color:"$white500"}),D=a("div",{d:"flex",align:"center",justify:"space-between",gap:"5px",w:"100%",color:"$white500"}),I=a("span",{d:"flex",align:"center",justify:"center",gap:"5px",w:"100%",h:"45px",textAlign:"center",fw:"$normal",fs:"20px",ff:"$body",bg:"rgba(255, 255, 255, 0.03)",color:"$white500",variants:{highlight:{true:{fw:"$bold",color:"$yellow400"}}},"@xsm":{fs:"14px"}}),L=a("span",{d:"flex",align:"center",justify:"center",gap:"5px",bg:"rgba(255, 255, 255, 0.03)",w:"100%",h:"45px",ff:"$body",fw:"$normal",color:"$white500",variants:{highlight:{true:{fw:"$bold",color:"$yellow400"}}}}),Ce=x.lazy(()=>y(()=>import("./tlm-94a078bd.js"),["assets/tlm-94a078bd.js","assets/index-9e8ef54b.js","assets/index-55fec1ff.css"])),tr=()=>{var u;const t=F(c=>c.user),r=ge(c=>c.currentWeek),n=ge(c=>c.weeks),s=b.useMemo(()=>{const c=new Date,f=new Date(c.setDate(c.getDate()-7));return n==null?void 0:n.find(h=>te(f,new Date((h==null?void 0:h.end_date)??""))&&Ee(f,new Date((h==null?void 0:h.start_date)??"")))},[n]),o=((r==null?void 0:r.initial_prize_pool_formatted)??0)/(((r==null?void 0:r.total_quest_points)??0)/100),i=b.useMemo(()=>{const c=mt({start:_e,end:new Date((r==null?void 0:r.end_date)??"")});let f="";return c.days&&(f+=`${c.days}d `),c.hours&&(f+=`${c.hours}h `),c.minutes&&(f+=`${c.minutes}m `),f},[r==null?void 0:r.end_date]);return e.jsxs(Jn,{children:[e.jsx(Xn,{children:"WEEKLY STATISTICS"}),e.jsxs(er,{children:[e.jsxs(D,{children:[e.jsx(I,{highlight:!0,children:"Prize Pool"}),e.jsxs(L,{highlight:!0,children:[Ve((r==null?void 0:r.initial_prize_pool_formatted)??0),e.jsx(Ce,{})]})]}),e.jsxs(D,{children:[e.jsxs(I,{children:["Total ",e.jsx(B,{})]}),e.jsxs(L,{children:[r==null?void 0:r.total_quest_points.toLocaleString("en-US")," "]})]}),e.jsxs(D,{children:[e.jsxs(I,{children:["Your ",e.jsx(B,{})]}),e.jsx(L,{children:(((u=t==null?void 0:t.userWeekly)==null?void 0:u.total_quest_points)??0).toLocaleString("en-US")})]}),e.jsxs(D,{children:[e.jsxs(I,{children:["Last Week Total ",e.jsx(B,{})]}),e.jsx(L,{children:((s==null?void 0:s.total_quest_points)??0).toLocaleString("en-US")})]}),e.jsxs(D,{children:[e.jsxs(I,{children:["Current TLM per 100 ",e.jsx(B,{})]}),e.jsxs(L,{children:[o.toLocaleString("en-US")," ",e.jsx(Ce,{color:"#fff"})]})]}),e.jsxs(D,{children:[e.jsx(I,{children:"Week ends in"}),e.jsx(L,{children:i})]})]})]})},nr=a("div",{d:"flex",align:"center",justify:"center",direction:"column",gap:"15px",w:"100%",maxW:"100%","@md":{justify:"center",padding:"0px 20px",flexWrap:"wrap"},"@sm":{maxW:"100%",padding:"0px "}}),rr=a("h2",{w:"100%",color:"$white500"}),sr=a("div",{d:"flex",align:"center",justify:"center",padding:"0px 20px",gap:"50px",width:"100%",height:"295px",bg:"rgba(255, 255, 255, 0.05)","@sm":{align:"center",justify:"center",direction:"column",gap:"20px"}}),or=a("p",{w:"100%",color:"$white500",textAlign:"center",ff:"$heading",fw:"$normal",fs:"20px"}),ar=async()=>await U({options:{code:w.MEMBERS_MC,index_position:1,limit:"10000",scope:w.MEMBERS_MC,table:q.TIPS}}),ir=()=>k({queryKey:[$.TIPS],queryFn:()=>lr(),staleTime:1e3*60*60});async function lr(){try{const t=await ar();return t||null}catch(t){return console.log(t),null}}const cr=()=>{const{data:t}=ir(),[r,n]=x.useState(0);return x.useEffect(()=>{const s=setInterval(()=>{const o=Math.floor(Math.random()*((t==null?void 0:t.length)??0));n(o)},6e4);return()=>clearInterval(s)},[t]),e.jsxs(nr,{children:[e.jsx(rr,{children:"DID YOU KNOW?"}),e.jsxs(sr,{children:[e.jsx(st,{color:"#fff",size:100}),e.jsx(or,{children:t==null?void 0:t[r].description})]})]})},dr=a("div",{d:"flex",align:"center",justify:"center",direction:"column",gap:"30px",w:"100%","@md":{justify:"center",padding:"0px 20px",flexWrap:"wrap"},"@sm":{padding:"0px "}}),Me=a("h2",{w:"100%",color:"$white500"}),ur=a("div",{d:"flex",align:"flex-start",justify:"flex-start",gap:"50px",w:"100%","@sm":{flexWrap:"wrap",align:"flex-start",justify:"flex-start",direction:"column",gap:"20px"}}),xr=a("div",{d:"flex",align:"flex-start",justify:"space-between",gap:"20px",w:"100%","@md":{flexWrap:"wrap"}}),fr=a("div",{d:"flex",align:"flex-start",justify:"flex-start",direction:"column",gap:"5px",w:"100%",maxW:"235px"}),V=a("div",{d:"flex",align:"center",justify:"flex-start",gap:"10px",color:"$white500",fs:"20px",ff:"$body",fw:"$thin",svg:{w:"25px",h:"25px"},".clock-svg stop":{stopColor:"white"}}),pr=a("div",{d:"flex",align:"center",justify:"center",direction:"column",w:"100%",maxW:"235px",button:{mt:"5px",h:"35px"},"@sm":{maxW:"unset"}}),hr=a("div",{d:"flex",align:"flex-start",justify:"flex-start",w:"100%",minH:"175px",padding:"20px",bg:"rgba(255,255,255,0.05)",br:"5px",color:"$white500",fs:"20px",ff:"$heading",fw:"$thin"}),gr=P({"0%":{backgroundPosition:"0% 0%"},"100%":{backgroundPosition:"-135% 0%"}}),mr=a("div",{mt:"10px",w:"100%",height:"200px",background:"linear-gradient( -90deg, rgba(3, 16, 32, 0.40), rgba(3, 16, 32, 0.75) ,rgba(3, 16, 32, 0.40))",br:"10px",backgroundSize:"400% 400%",animation:`${gr} 1.2s ease-in-out infinite`}),jr=async()=>await U({options:{code:w.PLANETAWORLD,index_position:1,limit:"10000",scope:w.PLANETAWORLD,table:q.treasures}}),wr=()=>k({queryKey:[$.INCOMING_EVENTS],queryFn:()=>yr(),staleTime:1e3*60*60});async function yr(){try{const t=await jr();return t?vr(t):void 0}catch(t){console.log(t);return}}async function vr(t){const r=t.find(s=>{const o=new Date,i=new Date(o.getUTCFullYear(),o.getUTCMonth(),o.getUTCDate(),o.getUTCHours(),o.getUTCMinutes(),o.getUTCSeconds()),u=yt(i,{hours:10}),c=R(i,{days:7}),f=te(u,new Date(s.start_date)),h=te(new Date(s.start_date),c);return!s.is_distributed&&f&&h});return br(r)}async function br(t){const{getAssetByAssetId:r}=Be;if(!t)return;const n=await r(t==null?void 0:t.land_id),s=n.data.name.split(" on ");return{...t,...n.data,formattedPlanet:s[1],formattedName:s[0],localImg:`/assets/lands/${s[0]}.webp`}}const $r=x.lazy(()=>y(()=>import("./shards-473ee91e.js"),["assets/shards-473ee91e.js","assets/index-9e8ef54b.js","assets/index-55fec1ff.css"])),Te=x.lazy(()=>y(()=>import("./tlm-94a078bd.js"),["assets/tlm-94a078bd.js","assets/index-9e8ef54b.js","assets/index-55fec1ff.css"])),Cr=x.lazy(()=>y(()=>import("./clock-b8e10948.js"),["assets/clock-b8e10948.js","assets/index-9e8ef54b.js","assets/index-55fec1ff.css"])),Mr=x.lazy(()=>y(()=>import("./planet-395e428c.js"),["assets/planet-395e428c.js","assets/index-9e8ef54b.js","assets/index-55fec1ff.css"])),Tr=x.lazy(()=>y(()=>import("./finish-flag-0cc77360.js"),["assets/finish-flag-0cc77360.js","assets/index-9e8ef54b.js","assets/index-55fec1ff.css"])),_r=x.lazy(()=>y(()=>import("./land-c7c6084f.js"),["assets/land-c7c6084f.js","assets/index-9e8ef54b.js","assets/index-55fec1ff.css"])),Er=x.lazy(()=>y(()=>import("./treasure-faf35caf.js"),["assets/treasure-faf35caf.js","assets/index-9e8ef54b.js","assets/index-55fec1ff.css"])),Sr=()=>{const{data:t,isLoading:r}=wr(),{data:n}=ze(),{data:s,isFetching:o}=Ue(),i=F(l=>l.user),u=K(l=>l.nonce),c=K(l=>l.updateIsCalculating),f=K(l=>l.updateHashExpire),[h,T]=b.useState(""),[p,C]=b.useState(""),[_,E]=b.useState(!1);async function oe(){await Ke(),await me()}const Ie=b.useCallback(async()=>{if(t){E(!0);try{if(c(!0),await Se(500),!i)return null;if(!(u!=null&&u.rand_str)){await qe();const g=new Date;f(g.setMinutes(g.getMinutes()+1))}const l=(n==null?void 0:n.current_land)===t.land_id?void 0:t.land_id;await Ye(i,l)&&(await Qe(i==null?void 0:i.name),await oe(),await me())}catch(l){console.log(l)}finally{c(!1),E(!1)}}},[i,n,t,u==null?void 0:u.rand_str]),ae=b.useCallback(l=>{var Y,ie,le,ce,de,ue,xe,fe,pe;const d=(l??0)/10;if(((Y=s==null?void 0:s.userTools)==null?void 0:Y.length)===1){const N=d*(((le=(ie=s==null?void 0:s.userTools)==null?void 0:ie[0])==null?void 0:le.delay)??0);return Z(N,s,n)}const g=(ce=s==null?void 0:s.userTools)==null?void 0:ce.sort((N,Re)=>Re.delay-N.delay);if(((de=s==null?void 0:s.userTools)==null?void 0:de.length)===2){const N=d*((((ue=g==null?void 0:g[0])==null?void 0:ue.delay)??0)+(((xe=g==null?void 0:g[1])==null?void 0:xe.delay)??0)/2);return Z(N,s,n)}const G=d*((((fe=g==null?void 0:g[0])==null?void 0:fe.delay)??0)+(((pe=g==null?void 0:g[1])==null?void 0:pe.delay)??0));return Z(G,s,n)},[s,n]);function Le(l){const d=l!=null&&l.days?l.days<10?`0${l.days}d`:`${l.days}d`:"",g=l!=null&&l.hours?l.hours<10?`0${l.hours}h`:`${l.hours}h`:"",G=l!=null&&l.minutes?l.minutes<10?`0${l.minutes}m`:`${l.minutes}m`:"",Y=l!=null&&l.seconds?l.seconds<10?`0${l.seconds}s`:`${l.seconds}s`:"";T(`${d} ${g} ${G} ${Y}`)}return b.useEffect(()=>{const l=setInterval(()=>{const d=je(new Date((t==null?void 0:t.start_date)||""));Le(d),(d==null?void 0:d.days)===0&&(d==null?void 0:d.hours)===0&&(d==null?void 0:d.minutes)===0&&(d==null?void 0:d.seconds)===0&&(clearInterval(l),T("live"))},1e3);return()=>clearInterval(l)},[t]),b.useEffect(()=>{const l=setInterval(()=>{const d=je(ae((t==null?void 0:t.delay)??0));C(Ge(d)),(d==null?void 0:d.days)===0&&(d==null?void 0:d.hours)===0&&(d==null?void 0:d.minutes)===0&&(d==null?void 0:d.seconds)===0&&clearInterval(l)},1e3);return()=>clearInterval(l)},[t==null?void 0:t.delay,ae]),e.jsxs(dr,{children:[e.jsx(Me,{children:"TREASURE HUNT"}),e.jsx(ur,{children:r?Array.from({length:3},l=>l).map((l,d)=>e.jsx(mr,{},d)):t?e.jsxs(xr,{children:[e.jsxs(fr,{children:[e.jsxs(V,{children:[e.jsx(Mr,{})," ",t.treasure_name]}),e.jsxs(V,{children:[e.jsx(_r,{})," ",t.formattedName]}),e.jsxs(V,{children:[e.jsx(Cr,{})," ",h]}),e.jsxs(V,{children:[e.jsx(Tr,{})," ",t.target," ",t.target_type==="tlm"?e.jsx(Te,{}):e.jsx($r,{})]}),e.jsxs(V,{children:[e.jsx(Er,{})," ",t.reward.replace(" TLM","")," ",e.jsx(Te,{})]})]}),e.jsxs(pr,{children:[e.jsx("img",{src:t.localImg,alt:""}),e.jsx(Q,{onClick:Ie,disabled:_||p!=="MINE",isLoading:_,rounded:!1,color:"solidBlue",noBorder:!0,children:p})]}),e.jsxs(hr,{children:["The Treasure Hunt is organized by Planet ",t.treasure_name,". In this event each player who mined until the community goal of TLM or Shards has been reached gets an equal share of the total reward. Mission Control shows an event as live until the rewards have been distributed. However the goal might already have been reached before the distribution happened."]})]}):e.jsx(Me,{children:"No Treasure Hunt scheduled"})})]})},Vr=()=>{const t=Ze(r=>r.currentMenu);return t==="more"?e.jsxs(J,{children:[e.jsx(Sr,{}),e.jsxs(vt,{children:[e.jsx(tr,{}),e.jsx(cr,{})]})]}):t==="tools"?e.jsxs(J,{children:[e.jsx(Zn,{}),e.jsx(Wn,{})]}):e.jsxs(J,{children:[e.jsxs(bt,{children:[e.jsx(Dt,{}),e.jsx(Qt,{}),e.jsx(jn,{})]}),e.jsx(Dn,{})]})};export{Vr as default};
