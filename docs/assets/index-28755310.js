import{f as n,an as g,s as H,j as m}from"./index-4381802b.js";import{$ as S,a as K,b as j,c as N,d as U,e as V,f as Y,g as q,h as y,i as W}from"./index-46e7dfc1.js";import{$ as G,a as X,b as z,c as J,d as Q}from"./index-b9f796d6.js";const Z=n.forwardRef((e,o)=>n.createElement(S.span,g({},e,{ref:o,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}))),ee=Z,[R,Ie]=K("Tooltip",[G]),D=G(),te="TooltipProvider",oe=700,O="tooltip.open",[ne,k]=R(te),re=e=>{const{__scopeTooltip:o,delayDuration:t=oe,skipDelayDuration:r=300,disableHoverableContent:c=!1,children:s}=e,[i,u]=n.useState(!0),a=n.useRef(!1),d=n.useRef(0);return n.useEffect(()=>{const l=d.current;return()=>window.clearTimeout(l)},[]),n.createElement(ne,{scope:o,isOpenDelayed:i,delayDuration:t,onOpen:n.useCallback(()=>{window.clearTimeout(d.current),u(!1)},[]),onClose:n.useCallback(()=>{window.clearTimeout(d.current),d.current=window.setTimeout(()=>u(!0),r)},[r]),isPointerInTransitRef:a,onPointerInTransitChange:n.useCallback(l=>{a.current=l},[]),disableHoverableContent:c},s)},L="Tooltip",[ce,P]=R(L),ae=e=>{const{__scopeTooltip:o,children:t,open:r,defaultOpen:c=!1,onOpenChange:s,disableHoverableContent:i,delayDuration:u}=e,a=k(L,e.__scopeTooltip),d=D(o),[l,p]=n.useState(null),b=Y(),f=n.useRef(0),$=i??a.disableHoverableContent,h=u??a.delayDuration,x=n.useRef(!1),[T=!1,v]=q({prop:r,defaultProp:c,onChange:I=>{I?(a.onOpen(),document.dispatchEvent(new CustomEvent(O))):a.onClose(),s==null||s(I)}}),C=n.useMemo(()=>T?x.current?"delayed-open":"instant-open":"closed",[T]),E=n.useCallback(()=>{window.clearTimeout(f.current),x.current=!1,v(!0)},[v]),w=n.useCallback(()=>{window.clearTimeout(f.current),v(!1)},[v]),A=n.useCallback(()=>{window.clearTimeout(f.current),f.current=window.setTimeout(()=>{x.current=!0,v(!0)},h)},[h,v]);return n.useEffect(()=>()=>window.clearTimeout(f.current),[]),n.createElement(J,d,n.createElement(ce,{scope:o,contentId:b,open:T,stateAttribute:C,trigger:l,onTriggerChange:p,onTriggerEnter:n.useCallback(()=>{a.isOpenDelayed?A():E()},[a.isOpenDelayed,A,E]),onTriggerLeave:n.useCallback(()=>{$?w():window.clearTimeout(f.current)},[w,$]),onOpen:E,onClose:w,disableHoverableContent:$},t))},M="TooltipTrigger",se=n.forwardRef((e,o)=>{const{__scopeTooltip:t,...r}=e,c=P(M,t),s=k(M,t),i=D(t),u=n.useRef(null),a=N(o,u,c.onTriggerChange),d=n.useRef(!1),l=n.useRef(!1),p=n.useCallback(()=>d.current=!1,[]);return n.useEffect(()=>()=>document.removeEventListener("pointerup",p),[p]),n.createElement(Q,g({asChild:!0},i),n.createElement(S.button,g({"aria-describedby":c.open?c.contentId:void 0,"data-state":c.stateAttribute},r,{ref:a,onPointerMove:y(e.onPointerMove,b=>{b.pointerType!=="touch"&&!l.current&&!s.isPointerInTransitRef.current&&(c.onTriggerEnter(),l.current=!0)}),onPointerLeave:y(e.onPointerLeave,()=>{c.onTriggerLeave(),l.current=!1}),onPointerDown:y(e.onPointerDown,()=>{d.current=!0,document.addEventListener("pointerup",p,{once:!0})}),onFocus:y(e.onFocus,()=>{d.current||c.onOpen()}),onBlur:y(e.onBlur,c.onClose),onClick:y(e.onClick,c.onClose)})))}),F="TooltipPortal",[ie,le]=R(F,{forceMount:void 0}),ue=e=>{const{__scopeTooltip:o,forceMount:t,children:r,container:c}=e,s=P(F,o);return n.createElement(ie,{scope:o,forceMount:t},n.createElement(j,{present:t||s.open},n.createElement(W,{asChild:!0,container:c},r)))},_="TooltipContent",de=n.forwardRef((e,o)=>{const t=le(_,e.__scopeTooltip),{forceMount:r=t.forceMount,side:c="top",...s}=e,i=P(_,e.__scopeTooltip);return n.createElement(j,{present:r||i.open},i.disableHoverableContent?n.createElement(B,g({side:c},s,{ref:o})):n.createElement(pe,g({side:c},s,{ref:o})))}),pe=n.forwardRef((e,o)=>{const t=P(_,e.__scopeTooltip),r=k(_,e.__scopeTooltip),c=n.useRef(null),s=N(o,c),[i,u]=n.useState(null),{trigger:a,onClose:d}=t,l=c.current,{onPointerInTransitChange:p}=r,b=n.useCallback(()=>{u(null),p(!1)},[p]),f=n.useCallback(($,h)=>{const x=$.currentTarget,T={x:$.clientX,y:$.clientY},v=he(T,x.getBoundingClientRect()),C=ve(T,v),E=Te(h.getBoundingClientRect()),w=me([...C,...E]);u(w),p(!0)},[p]);return n.useEffect(()=>()=>b(),[b]),n.useEffect(()=>{if(a&&l){const $=x=>f(x,l),h=x=>f(x,a);return a.addEventListener("pointerleave",$),l.addEventListener("pointerleave",h),()=>{a.removeEventListener("pointerleave",$),l.removeEventListener("pointerleave",h)}}},[a,l,f,b]),n.useEffect(()=>{if(i){const $=h=>{const x=h.target,T={x:h.clientX,y:h.clientY},v=(a==null?void 0:a.contains(x))||(l==null?void 0:l.contains(x)),C=!ge(T,i);v?b():C&&(b(),d())};return document.addEventListener("pointermove",$),()=>document.removeEventListener("pointermove",$)}},[a,l,i,d,b]),n.createElement(B,g({},e,{ref:s}))}),[fe,$e]=R(L,{isInside:!1}),B=n.forwardRef((e,o)=>{const{__scopeTooltip:t,children:r,"aria-label":c,onEscapeKeyDown:s,onPointerDownOutside:i,...u}=e,a=P(_,t),d=D(t),{onClose:l}=a;return n.useEffect(()=>(document.addEventListener(O,l),()=>document.removeEventListener(O,l)),[l]),n.useEffect(()=>{if(a.trigger){const p=b=>{const f=b.target;f!=null&&f.contains(a.trigger)&&l()};return window.addEventListener("scroll",p,{capture:!0}),()=>window.removeEventListener("scroll",p,{capture:!0})}},[a.trigger,l]),n.createElement(U,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:s,onPointerDownOutside:i,onFocusOutside:p=>p.preventDefault(),onDismiss:l},n.createElement(X,g({"data-state":a.stateAttribute},d,u,{ref:o,style:{...u.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"}}),n.createElement(V,null,r),n.createElement(fe,{scope:t,isInside:!0},n.createElement(ee,{id:a.contentId,role:"tooltip"},c||r))))}),be="TooltipArrow",xe=n.forwardRef((e,o)=>{const{__scopeTooltip:t,...r}=e,c=D(t);return $e(be,t).isInside?null:n.createElement(z,g({},c,r,{ref:o}))});function he(e,o){const t=Math.abs(o.top-e.y),r=Math.abs(o.bottom-e.y),c=Math.abs(o.right-e.x),s=Math.abs(o.left-e.x);switch(Math.min(t,r,c,s)){case s:return"left";case c:return"right";case t:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function ve(e,o,t=5){const r=[];switch(o){case"top":r.push({x:e.x-t,y:e.y+t},{x:e.x+t,y:e.y+t});break;case"bottom":r.push({x:e.x-t,y:e.y-t},{x:e.x+t,y:e.y-t});break;case"left":r.push({x:e.x+t,y:e.y-t},{x:e.x+t,y:e.y+t});break;case"right":r.push({x:e.x-t,y:e.y-t},{x:e.x-t,y:e.y+t});break}return r}function Te(e){const{top:o,right:t,bottom:r,left:c}=e;return[{x:c,y:o},{x:t,y:o},{x:t,y:r},{x:c,y:r}]}function ge(e,o){const{x:t,y:r}=e;let c=!1;for(let s=0,i=o.length-1;s<o.length;i=s++){const u=o[s].x,a=o[s].y,d=o[i].x,l=o[i].y;a>r!=l>r&&t<(d-u)*(r-a)/(l-a)+u&&(c=!c)}return c}function me(e){const o=e.slice();return o.sort((t,r)=>t.x<r.x?-1:t.x>r.x?1:t.y<r.y?-1:t.y>r.y?1:0),ye(o)}function ye(e){if(e.length<=1)return e.slice();const o=[];for(let r=0;r<e.length;r++){const c=e[r];for(;o.length>=2;){const s=o[o.length-1],i=o[o.length-2];if((s.x-i.x)*(c.y-i.y)>=(s.y-i.y)*(c.x-i.x))o.pop();else break}o.push(c)}o.pop();const t=[];for(let r=e.length-1;r>=0;r--){const c=e[r];for(;t.length>=2;){const s=t[t.length-1],i=t[t.length-2];if((s.x-i.x)*(c.y-i.y)>=(s.y-i.y)*(c.x-i.x))t.pop();else break}t.push(c)}return t.pop(),o.length===1&&t.length===1&&o[0].x===t[0].x&&o[0].y===t[0].y?o:o.concat(t)}const Ce=re,Ee=ae,we=se,_e=ue,Pe=de,Re=xe,De=H(Pe,{padding:"10px",br:"10px",border:"2px solid rgb(237, 237, 237)",background:"rgb(19, 19, 19)",color:"$white500",textShadow:"0px 5px 8px #000000",zIndex:19}),Oe=H(Re,{fill:"$white500"}),Me=({children:e,text:o,side:t,...r})=>m.jsx(Ce,{...r,children:m.jsxs(Ee,{children:[m.jsx(we,{asChild:!0,children:e}),m.jsx(_e,{children:m.jsxs(De,{className:"TooltipContent",side:t,children:[m.jsx(Oe,{width:15,height:7}),o]})})]})});export{Me as T};
