import{e as j,s as a,k as v,S as p,T as E,l as T,Q as k,r as b,b as S,R as W,j as n,m as x}from"./index-c748460b.js";import{o as u,u as M}from"./news-members-80cd9570.js";import{d as g}from"./use-transaction-f45d14c3.js";import{s as m}from"./sleep-da79c358.js";import{T as $}from"./index-b03df9ce.js";import{S as A}from"./index-26eac3db.js";import"./index-3d1d751a.js";import"./user-miners-query-4665136f.js";import"./axios-45629df5.js";import"./index.esm-2006f5d4.js";import"./index-adbf5c40.js";import"./index-109095af.js";import"./index-470d4c12.js";import"./iconBase-9e5332f3.js";const R=j({"0%":{backgroundPosition:"0% 0%"},"100%":{backgroundPosition:"-135% 0%"}}),_=a("div",{d:"flex",align:"center",justify:"center",direction:"column",position:"relative",w:"100%",">button:last-child":{mt:"40px",h:"40px",w:"220px",".button":{fs:"24px",h:"40px",w:"100%"}},"@md":{py:"40px"},"@sm":{px:"0px"}}),B=a("div",{d:"flex",align:"center",justify:"center",direction:"column",position:"relative",h:"165px",w:"100%",zIndex:1,img:{zIndex:-1,position:"absolute",h:"165px",w:"100%",objectFit:"cover",inset:0}}),z=a("h2",{d:"flex",align:"center",justify:"center",color:"$white500",fs:"40px",ff:"$heading",textShadow:"0px 4px 4px rgba(0, 0, 0, 0.5)",w:"100%","@sm":{fs:"24px"}}),D=a("div",{d:"flex",align:"flex-start",justify:"center",flexWrap:"wrap",padding:"40px 160px",gap:"20px 50px",w:"100%","@sm":{padding:"40px"},"@xsm":{padding:"10px"}});a("div",{d:"flex",align:"center",justify:"center",direction:"column",w:"100%",maxW:"640px",gap:"10px",padding:"40px",br:"11px",border:"1px solid #F4F4F4",background:"rgba(0, 0, 0, 0.75)","@sm":{my:"10px",direction:"column",padding:"10px 20px",">button":{order:-1}}});a("div",{d:"flex",align:"center",justify:"center",direction:"column",w:"100%",gap:"10px",">div":{w:"100%",label:{w:"100%",ml:"20px",justify:"flex-start"},">div":{br:"10px",bg:"rgba(255, 255, 255, 0.54)",borderWidth:"3px",borderColor:"#FFCE1F","&:hover":{borderColor:"#FFCE1F"},"&:not(:has(input:placeholder-shown))":{borderColor:"#FFCE1F"}},textarea:{br:"10px",bg:"rgba(255, 255, 255, 0.54)",borderWidth:"3px",borderColor:"#FFCE1F","&:hover":{borderColor:"#FFCE1F"},"&:not(:has(input:placeholder-shown))":{borderColor:"#FFCE1F"}}},".select":{w:"550px",position:"relative",">button":{w:"100%"},"[data-radix-popper-content-wrapper]":{width:"inherit"}},".textarea":{br:"10px",minH:"200px",maxW:"100%",minW:"100%",bg:"rgba(255, 255, 255, 0.54)",borderWidth:"3px",borderColor:"#FFCE1F"},"@md":{">div":{maxW:"100%",minW:"100%"}},"@sm":{".select":{w:"100%",position:"relative",">button":{maxW:"100%"},"[data-radix-popper-content-wrapper]":{width:"320px"}}}});a("div",{d:"flex",justify:"flex-start",align:"center",gap:"10px",w:"100%",p:{ff:"$heading",fs:"32px",color:"$white500"},"@sm":{img:{w:"40px"},p:{fs:"20px"}}});a("div",{d:"flex",align:"center",justify:"center",gap:"10px",width:"100%",">button":{width:"100%",minW:"unset",height:"50px",bg:"linear-gradient(170deg, #00BAFF -32.19%, #358CAC 116.49%)",br:"10px",color:"$white500",fs:"18px",fw:"$bold",ff:"$body"},"@sm":{}});const P=a("div",{d:"flex",align:"center",justify:"center",w:"100%",mt:"20px",gap:"20px",padding:"40px 20px",br:"11px",border:"1px solid #F4F4F4",background:"rgba(0, 0, 0, 0.75)",color:"$white500",textShadow:"0px 4px 4px rgba(0, 0, 0, 0.9)",ff:"$heading",fs:"40px","@sm":{fs:"26px"}}),N=a("div",{mt:"10px",w:"100%",height:"200px",background:"linear-gradient( -90deg, rgba(3, 16, 32, 0.40), rgba(3, 16, 32, 0.75) ,rgba(3, 16, 32, 0.40))",br:"10px",backgroundSize:"400% 400%",animation:`${R} 1.2s ease-in-out infinite`}),Q=a("div",{d:"flex",align:"center",justify:"center",direction:"column",w:"100%",maxW:"640px",gap:"10px",padding:"40px",br:"11px",border:"1px solid #F4F4F4",background:"rgba(0, 0, 0, 0.75)","@sm":{my:"10px",direction:"column",padding:"10px 20px",">button":{order:-1}}}),L=a("div",{d:"flex",align:"center",justify:"center",direction:"column",w:"100%",gap:"10px",">div":{w:"100%",label:{w:"100%",ml:"20px",justify:"flex-start"},">div":{br:"10px",bg:"rgba(255, 255, 255, 0.54)",borderWidth:"3px",borderColor:"#FFCE1F","&:hover":{borderColor:"#FFCE1F"},"&:not(:has(input:placeholder-shown))":{borderColor:"#FFCE1F"}},textarea:{br:"10px",bg:"rgba(255, 255, 255, 0.54)",borderWidth:"3px",borderColor:"#FFCE1F","&:hover":{borderColor:"#FFCE1F"},"&:not(:has(input:placeholder-shown))":{borderColor:"#FFCE1F"}}},".select":{w:"550px",position:"relative",">button":{w:"100%"},"[data-radix-popper-content-wrapper]":{width:"inherit"}},".textarea":{br:"10px",minH:"200px",maxW:"100%",minW:"100%",bg:"rgba(255, 255, 255, 0.54)",borderWidth:"3px",borderColor:"#FFCE1F"},"@md":{">div":{maxW:"100%",minW:"100%"}},"@sm":{".select":{w:"100%",position:"relative",">button":{maxW:"100%"},"[data-radix-popper-content-wrapper]":{width:"320px"}}}}),H=a("div",{d:"flex",justify:"flex-start",align:"center",gap:"10px",w:"100%",p:{ff:"$heading",fs:"32px",color:"$white500"},"@sm":{img:{w:"40px"},p:{fs:"20px"}}}),w=a("div",{d:"flex",align:"center",justify:"center",gap:"10px",width:"100%",">button":{width:"100%",minW:"unset",height:"50px",bg:"linear-gradient(170deg, #00BAFF -32.19%, #358CAC 116.49%)",br:"10px",color:"$white500",fs:"18px",fw:"$bold",ff:"$body"},"@sm":{}}),J=async()=>await v({options:{code:p.MEMBERS_MC,index_position:1,limit:"10000",scope:p.MEMBERS_MC,table:E.REASONS}}),O=()=>T({queryKey:[k.REASONS],queryFn:()=>U(),staleTime:1e3*60*60});async function U(){try{const e=await J();if(!e)return null;const t=q(e);return[{label:"Custom",value:"custom",index:-1,title:"",flag_reason:""},...t]}catch(e){return console.log(e),null}}function q(e){return e.map(t=>({...t,label:t.title,value:t.flag_reason}))}async function I(e,t){const{executeTransaction:o}=g(),i=K(e,t);return!!await o(i)}function K(e,t){return{actions:[{account:p.MEMBERS_MC,name:"trialupg",authorization:[{actor:e.name,permission:e.authorization.permission}],data:{wallet:e.name,member:t}}]}}async function Y(e,t,o){const{executeTransaction:i}=g(),s=V(e,t,o);return!!await i(s)}function V(e,t,o){return{actions:[{account:p.MEMBERS_MC,name:"trialdelay",authorization:[{actor:e.name,permission:e.authorization.permission}],data:{wallet:e.name,member:t,days:o}}]}}async function G(e,t,o){const{executeTransaction:i}=g(),s=X(e,t,o);return!!await i(s)}function X(e,t,o){return{actions:[{account:p.MEMBERS_MC,name:"memberflag",authorization:[{actor:e.name,permission:e.authorization.permission}],data:{wallet:e.name,member:t,reason:o}}]}}const Z=e=>{const{data:t,isLoading:o}=O(),i=b.useRef(null),s=S(r=>r.user),[c,f]=W.useState(t==null?void 0:t[0]);b.useEffect(()=>{f(t==null?void 0:t[0])},[t]);function F(r){if(!r)return;const l=i==null?void 0:i.current;((r==null?void 0:r.index)??-1)>=0?l.value=r==null?void 0:r.flag_reason:l.value="",f(r)}async function C(r){if(!s)return;await I(s,r)&&(await m(1e3),await u(),x.success("Approved"))}async function d(r,l){if(!s)return;await Y(s,r,l)&&(await m(1e3),await u(),x.success("Delayed"))}async function y(r){if(!s)return;const l=i==null?void 0:i.current;if(!l||!l.value){x.warn("Please enter a reason");return}const h=l.value;await G(s,r,h)&&(await m(1e3),await u(),x.success("Flagged"))}return n.jsxs(Q,{children:[n.jsxs(L,{children:[n.jsxs(H,{children:[n.jsx("p",{children:e.wallet}),n.jsx("a",{href:`https://atomichub.io/profile/wax-mainnet/${e.wallet}`,target:"_blank",rel:"noreferrer",children:n.jsx("img",{src:"./assets/icons/atomic.png",alt:""})}),n.jsx("a",{href:`https://waxblock.io/account/${e.wallet}`,target:"_blank",rel:"noreferrer",children:n.jsx("img",{src:"./assets/icons/cube.png",alt:""})})]}),n.jsx(A,{borderColor1:"#FFB31F",borderColor2:"#FFB800",label:"",className:"select",title:"",isLoading:o,selected:c,options:t,onSelected:r=>F(r)}),n.jsx($,{className:"textarea",label:"",ref:i,defaultValue:e==null?void 0:e.action,disabled:((c==null?void 0:c.index)??-1)>=0})]}),n.jsxs(w,{children:[n.jsx("button",{color:"gradientPink",onClick:()=>C(e.wallet),children:"Approve"}),n.jsx("button",{color:"gradientPink",onClick:()=>y(e.wallet),children:"Flag"})]}),n.jsxs(w,{children:[n.jsx("button",{color:"gradientPink",onClick:()=>d(e.wallet,10),children:"Delay 10"}),n.jsx("button",{color:"gradientPink",onClick:()=>d(e.wallet,30),children:"Delay 30"}),n.jsx("button",{color:"gradientPink",onClick:()=>d(e.wallet,90),children:"Delay 90"}),n.jsx("button",{color:"gradientPink",onClick:()=>d(e.wallet,180),children:"Delay 180"})]})]},e.wallet)},be=()=>{const{data:e,isLoading:t}=M();return n.jsxs(_,{children:[n.jsxs(B,{children:[n.jsx(z,{children:"Applications"}),n.jsx("img",{src:"/assets/background/bg-applications.jpeg",alt:""})]}),n.jsx(D,{children:t?n.jsx(N,{}):e&&e.length>0?e==null?void 0:e.map(o=>b.createElement(Z,{...o,key:o.wallet})):n.jsx(P,{children:"No applications"})})]})};export{be as default};
